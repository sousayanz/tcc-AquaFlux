  /* ========================================
           VARIÁVEIS E SISTEMA DE CORES
           ======================================== */

        :root {
            --primary-50: #eff6ff;
            --primary-100: #dbeafe;
            --primary-200: #bfdbfe;
            --primary-300: #93c5fd;
            --primary-400: #60a5fa;
            --primary-500: #4b81c9;
            --primary-600: #3a6fb5;
            --primary-700: #2a5d9e;
            --primary-800: #1f5db0;
            --primary-900: #1a4f96;

            --secondary-500: #6ba3d8;
            --secondary-600: #5b93c8;

            --success-light: #d1fae5;
            --success: #10b981;
            --success-dark: #059669;

            --warning-light: #fef3c7;
            --warning: #f59e0b;
            --warning-dark: #d97706;

            --error-light: #fee2e2;
            --error: #ef4444;
            --error-dark: #dc2626;

            --info-light: #dbeafe;
            --info: #3b82f6;
            --info-dark: #2563eb;

            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;

            --terra-50: #ecfdf5;
            --terra-100: #d1fae5;
            --terra-200: #a7f3d0;
            --terra-300: #6ee7b7;
            --terra-400: #34d399;
            --terra-500: #10b981;
            --terra-600: #059669;
            --terra-700: #047857;
            --terra-800: #065f46;
            --terra-900: #064e3b;

            --gradient-primary: linear-gradient(180deg, #4b81c9 0%, #1f5db0 60%);
            --gradient-primary-135: linear-gradient(135deg, #4b81c9 0%, #1f5db0 60%);
            --gradient-success: linear-gradient(135deg, #10b981 0%, #059669 100%);
            --gradient-warning: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            --gradient-error: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            --gradient-terra: linear-gradient(135deg, #10b981 0%, #047857 60%);

            --gradient-bg: linear-gradient(180deg, #4b81c9 0%, #3a6fb5 35%, #2a5d9e 65%, #1f5db0 100%);

            --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.15), 0 10px 10px rgba(0, 0, 0, 0.04);
            --shadow-2xl: 0 25px 50px rgba(0, 0, 0, 0.25);

            --shadow-colored: 0 8px 32px rgba(75, 129, 201, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(31, 93, 176, 0.35);
            --shadow-terra: 0 8px 32px rgba(16, 185, 129, 0.25);
            --shadow-terra-hover: 0 12px 40px rgba(4, 120, 87, 0.35);

            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;
            --radius-full: 9999px;

            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-bounce: 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55);

            --z-base: 1;
            --z-dropdown: 1000;
            --z-sticky: 1020;
            --z-fixed: 1030;
            --z-modal-backdrop: 1040;
            --z-modal: 1050;
            --z-tooltip: 1070;
        }

        body.dark-mode {
            --primary-500: #7aa4d6;
            --primary-600: #6a94c6;
            --secondary-500: #8fb8e2;

            --gray-50: #18181b;
            --gray-100: #27272a;
            --gray-200: #3f3f46;
            --gray-300: #52525b;
            --gray-400: #a1a1aa;
            --gray-500: #d4d4d8;
            --gray-600: #e4e4e7;
            --gray-700: #f4f4f5;
            --gray-800: #fafafa;
            --gray-900: #ffffff;

            --terra-500: #34d399;
            --terra-600: #10b981;

            --gradient-bg: linear-gradient(180deg, #1a1a2e 0%, #16162a 35%, #121222 65%, #0f0f1e 100%);
            --shadow-colored: 0 8px 32px rgba(122, 164, 214, 0.2);
            --shadow-colored-hover: 0 12px 40px rgba(122, 164, 214, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--gradient-bg);
            min-height: 100vh;
            display: flex;
            transition: background var(--transition-slow);
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.1) 0%, transparent 50%);
            pointer-events: none;
            animation: backgroundPulse 20s ease-in-out infinite;
        }

        @keyframes backgroundPulse {
            0%, 100% {
            opacity: 1; }
            50% {
            opacity: 0.7; }
        }

        body.dark-mode::before {
            background:
                radial-gradient(circle at 20% 30%, rgba(100, 100, 150, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(0, 0, 0, 0.2) 0%, transparent 50%);
        }

        /* ========================================
           SIDEBAR
           ======================================== */
.sidebar {
    width: 260px;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: var(--shadow-xl);
    padding: 30px 0;
    display: flex;
    flex-direction: column;
    transition: all var(--transition-slow);
    position: fixed; /* ✅ Mudou de relative para fixed */
    top: 0;
    left: 0;
    height: 100vh; /* ✅ Altura fixa da viewport */
    overflow-y: auto; /* ✅ Scroll interno se precisar */
    z-index: var(--z-fixed);
}


        body.dark-mode .sidebar {
            background: rgba(30, 30, 46, 0.95);
        }

        .logo {
            padding: 0 30px 30px;
            border-bottom: 2px solid var(--primary-100);
            margin-bottom: 20px;
            animation: slideInLeft var(--transition-slow) ease-out;
        }

        body.dark-mode .logo {
            border-bottom-color: var(--gray-200);
        }

        .logo h1 {
            font-size: 26px;
            font-weight: 800;
            letter-spacing: -0.5px;
            transition: all var(--transition-base);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo h1 .logo-icon {
            font-size: 28px;
        }

        .logo h1 .logo-text {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo h1:hover {
            transform: scale(1.02);
        }

        body.dark-mode .logo h1 .logo-text {
            background: linear-gradient(180deg, #7aa4d6 0%, #8fb8e2 60%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .menu {
            flex: 1;
        }

        .menu-item {
            padding: 15px 30px;
            color: var(--gray-600);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 15px;
            font-weight: 500;
            transition: all var(--transition-base);
            border-left: 4px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .menu-item::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(75, 129, 201, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s ease-out, height 0.6s ease-out;
        }

        .menu-item:active::before {
            width: 300px;
            height: 300px;
        }

        .menu-item:hover {
            background: var(--primary-50);
            color: var(--primary-600);
            border-left-color: var(--primary-500);
            padding-left: 35px;
        }

        body.dark-mode .menu-item {
            color: var(--gray-500);
        }

        body.dark-mode .menu-item:hover {
            background: rgba(75, 129, 201, 0.15);
            color: var(--primary-400);
        }

        .menu-item.active {
            background: var(--primary-50);
            color: var(--primary-600);
            border-left-color: var(--primary-500);
            font-weight: 600;
        }

        body.dark-mode .menu-item.active {
            background: rgba(75, 129, 201, 0.2);
            color: var(--primary-400);
        }

        .menu-item svg {
            width: 22px;
            height: 22px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
            transition: transform var(--transition-base);
        }

        .menu-item:hover svg {
            transform: scale(1.1) rotate(5deg);
        }

        .menu-item.active svg {
            transform: scale(1.15);
        }

        .menu-item.terra-link {
            margin-top: 10px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-200);
        }

        .menu-item.terra-link:hover {
            background: var(--terra-50);
            color: var(--terra-600);
            border-left-color: var(--terra-500);
        }

        .menu-item.terra-link.active {
            background: var(--terra-50);
            color: var(--terra-600);
            border-left-color: var(--terra-500);
        }

        body.dark-mode .menu-item.terra-link:hover,
        body.dark-mode .menu-item.terra-link.active {
            background: rgba(16, 185, 129, 0.15);
            color: var(--terra-500);
            border-left-color: var(--terra-500);
        }

        .menu-item.terra-link .terra-badge {
            margin-left: auto;
            background: var(--gradient-terra);
            color: white;
            font-size: 9px;
            padding: 3px 8px;
            border-radius: var(--radius-full);
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .logout {
            border-top: 2px solid var(--primary-100);
            padding-top: 20px;
            margin-top: 20px;
        }

        body.dark-mode .logout {
            border-top-color: var(--gray-200);
        }

        .logout .menu-item:hover {
            color: var(--error);
            border-left-color: var(--error);
        }

        /* ========================================
           NOTIFICATION SYSTEM
           ======================================== */

        .notification-bell {
            position: fixed;
            top: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow-lg);
            transition: all var(--transition-base);
            z-index: 1060;
        }

        body.dark-mode .notification-bell {
            background: var(--gray-100);
        }

        .notification-bell:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: var(--shadow-colored-hover);
        }

        .notification-bell svg {
            width: 24px;
            height: 24px;
            stroke: var(--primary-600);
            fill: none;
            stroke-width: 2;
        }

        body.dark-mode .notification-bell svg {
            stroke: var(--primary-500);
        }

        .notification-badge {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 20px;
            height: 20px;
            background: var(--error);
            border-radius: 50%;
            color: white;
            font-size: 11px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s ease-in-out infinite;
        }

        .notification-panel {
            position: fixed;
            top: 90px;
            right: 30px;
            width: 380px;
            max-height: 500px;
            background: white;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-2xl);
            overflow: hidden;
            transform: translateY(-20px);
            opacity: 0;
            pointer-events: none;
            transition: all var(--transition-base);
            z-index: 1050;
        }

        body.dark-mode .notification-panel {
            background: var(--gray-100);
        }

        .notification-panel.active {
            transform: translateY(0);
            opacity: 1;
            pointer-events: all;
        }

        .notification-header {
            padding: 20px;
            border-bottom: 2px solid var(--gray-100);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--gradient-primary);
            color: white;
        }

        body.dark-mode .notification-header {
            border-bottom-color: var(--gray-200);
        }

        .notification-header h3 {
            font-size: 18px;
            font-weight: 600;
        }

        .mark-all-read {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            padding: 8px 15px;
            border-radius: var(--radius-md);
            color: white;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            font-family: 'Inter', sans-serif;
        }

        .mark-all-read:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .notification-list {
            max-height: 420px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 18px 20px;
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            gap: 15px;
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
        }

        body.dark-mode .notification-item {
            border-bottom-color: var(--gray-200);
        }

        .notification-item:hover {
            background: var(--gray-50);
        }

        body.dark-mode .notification-item:hover {
            background: var(--gray-200);
        }

        .notification-item.unread {
            background: var(--primary-50);
        }

        body.dark-mode .notification-item.unread {
            background: rgba(75, 129, 201, 0.1);
        }

        .notification-item.unread::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 70%;
            background: var(--gradient-primary);
            border-radius: 0 4px 4px 0;
        }

        .notification-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .notification-icon.success {
            background: var(--success-light); }
        .notification-icon.warning {
            background: var(--warning-light); }
        .notification-icon.error {
            background: var(--error-light); }
        .notification-icon.info {
            background: var(--info-light); }

        .notification-icon svg {
            width: 20px;
            height: 20px;
            stroke-width: 2;
        }

        .notification-icon.success svg {
            stroke: var(--success); }
        .notification-icon.warning svg {
            stroke: var(--warning); }
        .notification-icon.error svg {
            stroke: var(--error); }
        .notification-icon.info svg {
            stroke: var(--info); }

        .notification-content {
            flex: 1; }

        .notification-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-800);
            margin-bottom: 4px;
        }

        body.dark-mode .notification-title {
            color: var(--gray-800);
        }

        .notification-text {
            font-size: 13px;
            color: var(--gray-600);
            line-height: 1.4;
        }

        body.dark-mode .notification-text {
            color: var(--gray-500);
        }

        .notification-time {
            font-size: 11px;
            color: var(--gray-500);
            margin-top: 6px;
        }

        body.dark-mode .notification-time {
            color: var(--gray-400);
        }

        /* ========================================
           MAIN CONTENT
           ======================================== */

    .main-content {
    flex: 1;
    margin-left: 260px; /* ✅ Compensar o menu fixo */
    padding: 30px 40px;
    overflow-y: auto;
    scroll-behavior: smooth;
}

        .header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.92) 100%);
            backdrop-filter: blur(20px);
            padding: 18px 28px;
            border-radius: var(--radius-lg);
            margin-bottom: 25px;
            box-shadow: var(--shadow-md);
            animation: fadeInDown var(--transition-slow) ease-out;
            transition: all var(--transition-base);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .header:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        body.dark-mode .header {
            background: linear-gradient(135deg, rgba(39, 39, 42, 0.98) 0%, rgba(30, 30, 46, 0.95) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-icon {
            width: 45px;
            height: 45px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-colored);
        }

        .header-icon.terra {
            background: var(--gradient-terra);
            box-shadow: var(--shadow-terra);
        }

        .header-icon svg {
            width: 24px;
            height: 24px;
            stroke: white;
            fill: none;
            stroke-width: 2;
        }

        .header-text h2 {
            color: var(--gray-800);
            font-size: 22px;
            font-weight: 700;
            letter-spacing: -0.3px;
            margin-bottom: 2px;
            transition: color var(--transition-base);
        }

        body.dark-mode .header-text h2 {
            color: var(--gray-800);
        }

        .header-text p {
            color: var(--gray-500);
            font-size: 13px;
            font-weight: 400;
        }

        body.dark-mode .header-text p {
            color: var(--gray-500);
        }

        .header-badge {
            background: var(--success-light);
            color: var(--success-dark);
            padding: 6px 14px;
            border-radius: var(--radius-full);
            font-size: 12px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .header-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        .header-badge.terra {
            background: var(--terra-100);
            color: var(--terra-700);
        }

        .header-badge.terra::before {
            background: var(--terra-500);
        }

        .header-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .filter-select {
            padding: 10px 15px;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-md);
            background: white;
            font-size: 13px;
            font-weight: 500;
            color: var(--gray-700);
            cursor: pointer;
            transition: all var(--transition-base);
            font-family: 'Inter', sans-serif;
        }

        body.dark-mode .filter-select {
            background: var(--gray-100);
            border-color: var(--gray-300);
            color: var(--gray-700);
        }

        .filter-select:hover {
            border-color: var(--primary-500);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.1);
        }

        .export-btn {
            padding: 10px 20px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            font-family: 'Inter', sans-serif;
            box-shadow: var(--shadow-colored);
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-colored-hover);
        }

        /* ========================================
           CARDS
           ======================================== */

        .cards-grid {
            display: grid;
            grid-template-columns: 1fr 1.6fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: fadeInUp var(--transition-slow) ease-out backwards;
        }

        .card:nth-child(1) {
            animation-delay: 0ms; }
        .card:nth-child(2) {
            animation-delay: 100ms; }
        .card:nth-child(3) {
            animation-delay: 200ms; }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s ease;
        }

        .card:hover::before {
            left: 100%;
        }

        .card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: var(--shadow-colored-hover);
        }

        .card:active {
            transform: translateY(-8px) scale(0.98);
            transition: all var(--transition-fast);
        }

        body.dark-mode .card {
            background: rgba(30, 30, 46, 0.95);
        }

        .card-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-primary);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            box-shadow: var(--shadow-colored);
            transition: all var(--transition-base);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
            box-shadow: var(--shadow-colored);
            }
            50% {
            box-shadow: var(--shadow-colored-hover);
                transform: scale(1.05);
            }
        }

        .card:hover .card-icon {
            transform: scale(1.1) rotate(5deg);
            animation: none;
        }

        .card-icon svg {
            width: 32px;
            height: 32px;
            stroke: white;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .card h3 {
            color: var(--gray-800);
            font-size: 18px;
            margin-bottom: 10px;
            font-weight: 600;
            transition: color var(--transition-base);
        }

        body.dark-mode .card h3 {
            color: var(--gray-800);
        }

        .card p {
            color: var(--gray-600);
            font-size: 14px;
            line-height: 1.6;
        }

        body.dark-mode .card p {
            color: var(--gray-500);
        }

        .card-value {
            font-size: 36px;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 15px 0;
            animation: countUp 1s ease-out;
        }

        @keyframes countUp {
            from {
            opacity: 0;
                transform: translateY(20px);
            }
            to {
            opacity: 1;
                transform: translateY(0);
            }
        }

        /* ========================================
           STATUS CARD
           ======================================== */

        .status-card {
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
            color: var(--gray-800);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 35px;
            min-height: 420px;
            border: 2px solid var(--primary-200);
            box-shadow: var(--shadow-xl), 0 0 50px rgba(75, 129, 201, 0.15);
            order: 0;
        }

        body.dark-mode .status-card {
            background: linear-gradient(145deg, rgba(39, 39, 50, 0.98) 0%, rgba(30, 30, 46, 0.98) 100%);
            color: var(--gray-800);
            border-color: var(--primary-500);
        }

        .status-card:hover {
            transform: translateY(-12px) scale(1.03);
            box-shadow: var(--shadow-2xl), 0 0 70px rgba(31, 93, 176, 0.25);
        }

        .status-card .card-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
        }

        .status-card h3 {
            font-size: 22px;
            margin-bottom: 25px;
            font-weight: 700;
        }

        .status-info {
            width: 100%;
            background: var(--gray-50);
            padding: 20px;
            border-radius: var(--radius-lg);
            margin-bottom: 20px;
            text-align: center;
            transition: all var(--transition-base);
        }

        body.dark-mode .status-info {
            background: rgba(50, 50, 70, 0.6);
        }

        .status-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-800);
        }

        body.dark-mode .status-indicator {
            color: var(--gray-700);
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--error);
            position: relative;
            animation: pulseRing 2s ease-in-out infinite;
        }

        @keyframes pulseRing {
            0%, 100% {
            box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
            }
            50% {
            box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
            }
        }

        .status-dot.online {
            background: var(--success);
            animation-name: pulseRingGreen;
        }

        @keyframes pulseRingGreen {
            0%, 100% {
            box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
            }
            50% {
            box-shadow: 0 0 0 8px rgba(16, 185, 129, 0);
            }
        }

        .status-time {
            font-size: 13px;
            color: var(--gray-600);
        }

        body.dark-mode .status-time {
            color: var(--gray-500);
        }

        .toggle-switch {
            width: 80px;
            height: 40px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            position: relative;
            cursor: pointer;
            transition: all var(--transition-base);
            margin: 20px 0;
        }

        .toggle-switch:hover {
            transform: scale(1.05);
        }

        .toggle-switch::before {
            content: '';
            position: absolute;
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 50%;
            top: 4px;
            left: 4px;
            transition: all var(--transition-bounce);
            box-shadow: var(--shadow-md);
        }

        .toggle-switch.active {
            background: var(--gradient-primary);
        }

        .toggle-switch.active::before {
            left: 44px;
        }

        .toggle-switch:active::before {
            width: 36px;
        }

        .status-label {
            font-size: 18px;
            font-weight: 700;
            color: var(--gray-500);
            margin-top: 10px;
            transition: all var(--transition-base);
            letter-spacing: 1px;
        }

        body.dark-mode .status-label {
            color: var(--gray-600);
        }

        .status-label.active {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: none;
        }

        .status-label.offline {
            color: var(--error);
        }

        body.dark-mode .status-label.offline {
            color: var(--error);
        }

        body.dark-mode .status-label.active {
            background: linear-gradient(180deg, #7aa4d6 0%, #8fb8e2 60%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ========================================
           STATS ROW
           ======================================== */

        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 25px;
        }

        .stat-box {
            background: var(--gradient-primary);
            padding: 25px;
            border-radius: var(--radius-lg);
            color: white;
            text-align: center;
            box-shadow: var(--shadow-colored);
            transition: all var(--transition-base);
            animation: fadeInUp var(--transition-slow) ease-out backwards;
            position: relative;
            overflow: hidden;
        }

        .stat-box:nth-child(1) {
            animation-delay: 0ms; }
        .stat-box:nth-child(2) {
            animation-delay: 100ms; }
        .stat-box:nth-child(3) {
            animation-delay: 200ms; }

        .stat-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: rotate 10s linear infinite;
        }

        @keyframes rotate {
            from {
            transform: rotate(0deg); }
            to {
            transform: rotate(360deg); }
        }

        .stat-box:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-colored-hover);
        }

        .stat-box h4 {
            font-size: 12px;
            font-weight: 600;
            opacity: 0.9;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
            letter-spacing: 1px;
        }

        .stat-box .value {
            font-size: 32px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        /* ========================================
           DADOS - STATS CARDS ESPECIAIS
           ======================================== */

        .data-stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .data-stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
            display: flex;
            align-items: center;
            gap: 20px;
            border-left: 4px solid var(--primary-500);
        }

        .data-stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .data-stat-card {
            background: rgba(30, 30, 46, 0.95);
        }

        .data-stat-card.primary {
            border-left-color: var(--primary-500); }
        .data-stat-card.success {
            border-left-color: var(--success); }
        .data-stat-card.warning {
            border-left-color: var(--warning); }
        .data-stat-card.info {
            border-left-color: var(--info); }

        .data-stat-icon {
            width: 50px;
            height: 50px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .data-stat-card.primary .data-stat-icon {
            background: var(--primary-50); }
        .data-stat-card.success .data-stat-icon {
            background: var(--success-light); }
        .data-stat-card.warning .data-stat-icon {
            background: var(--warning-light); }
        .data-stat-card.info .data-stat-icon {
            background: var(--info-light); }

        .data-stat-content {
            flex: 1; }

        .data-stat-value {
            font-size: 28px;
            font-weight: 700;
            color: var(--gray-800);
            margin-bottom: 5px;
        }

        body.dark-mode .data-stat-value {
            color: var(--gray-800);
        }

        .data-stat-label {
            font-size: 13px;
            color: var(--gray-500);
            font-weight: 500;
        }

        .data-stat-change {
            font-size: 12px;
            font-weight: 600;
            color: var(--success);
            margin-top: 5px;
        }

        /* ========================================
           WATER CONSUMPTION SECTION
           ======================================== */

        .consumption-section {
            margin-bottom: 30px;
        }

        .consumption-section h2 {
            color: var(--gray-800);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .consumption-section h2 {
            color: var(--gray-800);
        }

        .consumption-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .consumption-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
        }

        .consumption-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .consumption-card {
            background: rgba(30, 30, 46, 0.95);
        }

        .consumption-card h3 {
            color: var(--gray-800);
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        body.dark-mode .consumption-card h3 {
            color: var(--gray-800);
        }

        .consumption-value {
            text-align: center;
            margin-bottom: 15px;
        }

        .consumption-value span {
            font-size: 32px;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .consumption-value small {
            display: block;
            font-size: 12px;
            color: var(--gray-500);
            margin-top: 5px;
        }

        .consumption-breakdown {
            background: var(--gray-50);
            padding: 15px;
            border-radius: var(--radius-md);
        }

        body.dark-mode .consumption-breakdown {
            background: var(--gray-200);
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--gray-200);
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        body.dark-mode .breakdown-item {
            border-bottom-color: var(--gray-300);
        }

        .breakdown-label {
            font-size: 13px;
            color: var(--gray-600);
        }

        body.dark-mode .breakdown-label {
            color: var(--gray-500);
        }

        .breakdown-value {
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-800);
        }

        body.dark-mode .breakdown-value {
            color: var(--gray-700);
        }

        .cost-estimate {
            text-align: center;
            padding: 15px;
            background: var(--primary-50);
            border-radius: var(--radius-md);
        }

        body.dark-mode .cost-estimate {
            background: rgba(75, 129, 201, 0.15);
        }

        .cost-estimate p {
            font-size: 12px;
            color: var(--gray-600);
            margin-bottom: 8px;
        }

        .cost-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-600);
        }

        body.dark-mode .cost-value {
            color: var(--primary-500);
        }

        .cost-estimate small {
            display: block;
            font-size: 11px;
            color: var(--gray-500);
            margin-top: 5px;
        }

        /* ========================================
           CHARTS
           ======================================== */

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
        }

        .chart-container:hover {
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .chart-container {
            background: rgba(30, 30, 46, 0.95);
        }

        .chart-container h3 {
            color: var(--gray-800);
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .chart-container h3 {
            color: var(--gray-800);
        }

        .chart-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .chart-period-btn {
            padding: 8px 16px;
            border: 2px solid var(--gray-200);
            background: white;
            border-radius: var(--radius-md);
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-600);
            cursor: pointer;
            transition: all var(--transition-base);
            font-family: 'Inter', sans-serif;
        }

        body.dark-mode .chart-period-btn {
            background: var(--gray-100);
            border-color: var(--gray-300);
            color: var(--gray-600);
        }

        .chart-period-btn:hover {
            border-color: var(--primary-500);
            color: var(--primary-600);
        }

        .chart-period-btn.active {
            background: var(--gradient-primary);
            color: white;
            border-color: transparent;
        }

        .chart-canvas-wrapper {
            position: relative;
            height: 250px;
        }

        .chart-legend {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--gray-600);
        }

        body.dark-mode .legend-item {
            color: var(--gray-500);
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        .legend-color.auto {
            background: var(--primary-500);
        }

        .legend-color.manual {
            background: var(--warning);
        }

        .efficiency-metrics {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid var(--gray-200);
        }

        body.dark-mode .efficiency-metrics {
            border-top-color: var(--gray-300);
        }

        .metric {
            text-align: center;
        }

        .metric-label {
            font-size: 12px;
            color: var(--gray-500);
            display: block;
            margin-bottom: 5px;
        }

        .metric-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--success);
        }

        /* ========================================
           HISTORY TABLE
           ======================================== */

        .history-section {
            margin-bottom: 30px;
        }

        .history-section h2 {
            color: var(--gray-800);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .history-section h2 {
            color: var(--gray-800);
        }

        .history-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            gap: 20px;
            flex-wrap: wrap;
        }

        .search-box {
            display: flex;
            gap: 0;
            flex: 1;
            max-width: 400px;
        }

        .search-box input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid var(--gray-200);
            border-right: none;
            border-radius: var(--radius-md) 0 0 var(--radius-md);
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            transition: all var(--transition-base);
            background: white;
            color: var(--gray-800);
        }

        body.dark-mode .search-box input {
            background: var(--gray-100);
            border-color: var(--gray-300);
            color: var(--gray-800);
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-500);
        }

        .search-box input::placeholder {
            color: var(--gray-400);
        }

        .search-btn {
            padding: 12px 18px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 0 var(--radius-md) var(--radius-md) 0;
            cursor: pointer;
            font-size: 16px;
            transition: all var(--transition-base);
        }

        .search-btn:hover {
            opacity: 0.9;
        }

        .history-filters {
            display: flex;
            gap: 10px;
        }

        .history-filters select,
        .history-filters input[type="date"] {
            padding: 10px 15px;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-md);
            font-size: 13px;
            font-family: 'Inter', sans-serif;
            background: white;
            color: var(--gray-700);
            cursor: pointer;
            transition: all var(--transition-base);
        }

        body.dark-mode .history-filters select,
        body.dark-mode .history-filters input[type="date"] {
            background: var(--gray-100);
            border-color: var(--gray-300);
            color: var(--gray-700);
        }

        .history-filters select:hover,
        .history-filters input[type="date"]:hover {
            border-color: var(--primary-500);
        }

        .history-table-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            overflow: hidden;
        }

        body.dark-mode .history-table-container {
            background: rgba(30, 30, 46, 0.95);
        }

        .history-table {
            width: 100%;
            border-collapse: collapse;
        }

        .history-table thead {
            background: var(--gradient-primary);
            color: white;
        }

        .history-table th {
            padding: 15px 20px;
            text-align: left;
            font-size: 13px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .history-table tbody tr {
            border-bottom: 1px solid var(--gray-100);
            transition: all var(--transition-base);
        }

        body.dark-mode .history-table tbody tr {
            border-bottom-color: var(--gray-200);
        }

        .history-table tbody tr:hover {
            background: var(--gray-50);
        }

        body.dark-mode .history-table tbody tr:hover {
            background: var(--gray-200);
        }

        .history-table td {
            padding: 15px 20px;
            font-size: 13px;
            color: var(--gray-700);
        }

        body.dark-mode .history-table td {
            color: var(--gray-600);
        }

        .device-badge,
        .action-badge,
        .origin-badge,
        .status-badge {
            padding: 5px 12px;
            border-radius: var(--radius-full);
            font-size: 11px;
            font-weight: 600;
            display: inline-block;
        }

        .device-badge {
            background: var(--primary-50);
            color: var(--primary-600);
        }

        body.dark-mode .device-badge {
            background: rgba(75, 129, 201, 0.2);
            color: var(--primary-500);
        }

        .action-badge.action-on {
            background: var(--success-light);
            color: var(--success-dark);
        }

        .origin-badge {
            background: var(--gray-100);
            color: var(--gray-600);
        }

        body.dark-mode .origin-badge {
            background: var(--gray-300);
            color: var(--gray-600);
        }

        .status-badge.status-success {
            background: var(--success-light);
            color: var(--success);
        }

        /* ========================================
           REPORTS SECTION
           ======================================== */

        .reports-section h2 {
            color: var(--gray-800);
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .reports-section h2 {
            color: var(--gray-800);
        }

        .reports-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .report-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            transition: all var(--transition-base);
            text-align: center;
        }

        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        body.dark-mode .report-card {
            background: rgba(30, 30, 46, 0.95);
        }

        .report-card h3 {
            color: var(--gray-800);
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        body.dark-mode .report-card h3 {
            color: var(--gray-800);
        }

        .report-card p {
            color: var(--gray-500);
            font-size: 13px;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .generate-report-btn {
            padding: 12px 24px;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: var(--radius-md);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-base);
            font-family: 'Inter', sans-serif;
            box-shadow: var(--shadow-colored);
        }

        .generate-report-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-colored-hover);
        }

        /* ========================================
           TERRA IA CARD
           ======================================== */

        .terra-promo-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--radius-xl);
            padding: 25px 30px;
            margin-top: 25px;
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--terra-200);
        }

        body.dark-mode .terra-promo-card {
            background: rgba(30, 30, 46, 0.95);
            border-color: rgba(16, 185, 129, 0.3);
        }

        .terra-promo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-terra);
        }

        .terra-promo-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-terra-hover);
            border-color: var(--terra-400);
        }

        .terra-promo-icon {
            width: 60px;
            height: 60px;
            background: var(--gradient-terra);
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: var(--shadow-terra);
            flex-shrink: 0;
        }

        .terra-promo-icon svg {
            width: 32px;
            height: 32px;
            stroke: white;
            fill: none;
            stroke-width: 1.5;
        }

        .terra-promo-content {
            flex: 1; min-width: 0; }

        .terra-promo-content h3 {
            color: var(--gray-800);
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        body.dark-mode .terra-promo-content h3 {
            color: var(--gray-800);
        }

        .terra-promo-content h3 .terra-name {
            color: var(--terra-600);
        }

        body.dark-mode .terra-promo-content h3 .terra-name {
            color: var(--terra-500);
        }

        .terra-promo-content p {
            color: var(--gray-500);
            font-size: 13px;
            line-height: 1.5;
        }

        body.dark-mode .terra-promo-content p {
            color: var(--gray-400);
        }

        .terra-promo-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--gradient-terra);
            color: white;
            padding: 12px 20px;
            border-radius: var(--radius-full);
            font-size: 13px;
            font-weight: 600;
            text-decoration: none;
            transition: all var(--transition-base);
            box-shadow: var(--shadow-terra);
            white-space: nowrap;
            flex-shrink: 0;
        }

        .terra-promo-btn:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-terra-hover);
        }

        .terra-promo-btn svg {
            width: 16px;
            height: 16px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }

        /* ========================================
           TERRA IA SECTION
           ======================================== */

        .terra-chat-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--radius-xl);
            padding: 30px;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-md);
        }

        body.dark-mode .terra-chat-container {
            background: rgba(30, 30, 46, 0.95);
        }

        .terra-welcome {
            text-align: center;
            padding: 50px 40px;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .terra-welcome-icon {
            width: 90px;
            height: 90px;
            background: var(--gradient-terra);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 25px;
            box-shadow: var(--shadow-terra);
            position: relative;
        }

        .terra-welcome-icon::after {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            background: var(--gradient-terra);
            opacity: 0.3;
            filter: blur(12px);
            z-index: -1;
            animation: terraGlow 2.5s ease-in-out infinite;
        }

        @keyframes terraGlow {
            0%, 100% {
            opacity: 0.2; transform: scale(1); }
            50% {
            opacity: 0.4; transform: scale(1.08); }
        }

        .terra-welcome-icon svg {
            width: 45px;
            height: 45px;
            stroke: white;
            fill: none;
            stroke-width: 1.5;
        }

        .terra-welcome h3 {
            color: var(--gray-800);
            font-size: 26px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .terra-welcome h3 span {
            color: var(--terra-600);
        }

        body.dark-mode .terra-welcome h3 {
            color: var(--gray-800);
        }

        body.dark-mode .terra-welcome h3 span {
            color: var(--terra-500);
        }

        .terra-welcome p {
            color: var(--gray-500);
            font-size: 15px;
            line-height: 1.7;
            max-width: 480px;
            margin-bottom: 28px;
        }

        .terra-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .terra-suggestion {
            background: var(--terra-50);
            color: var(--terra-700);
            padding: 10px 16px;
            border-radius: var(--radius-full);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-base);
            border: 1px solid var(--terra-200);
        }

        .terra-suggestion:hover {
            background: var(--terra-100);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        body.dark-mode .terra-suggestion {
            background: rgba(16, 185, 129, 0.1);
            color: var(--terra-400);
            border-color: rgba(16, 185, 129, 0.2);
        }

        body.dark-mode .terra-suggestion:hover {
            background: rgba(16, 185, 129, 0.2);
        }

        .terra-input-area {
            display: flex;
            gap: 12px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-200);
            margin-top: auto;
        }

        body.dark-mode .terra-input-area {
            border-top-color: var(--gray-300);
        }

        .terra-input {
            flex: 1;
            padding: 14px 20px;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-full);
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            transition: all var(--transition-base);
            background: var(--gray-50);
            color: var(--gray-800);
        }

        body.dark-mode .terra-input {
            background: var(--gray-100);
            border-color: var(--gray-300);
            color: var(--gray-800);
        }

        .terra-input:focus {
            outline: none;
            border-color: var(--terra-500);
            box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
        }

        .terra-input::placeholder {
            color: var(--gray-400);
        }

        .terra-send-btn {
            width: 48px;
            height: 48px;
            background: var(--gradient-terra);
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--transition-base);
            box-shadow: var(--shadow-terra);
        }

        .terra-send-btn:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-terra-hover);
        }

        .terra-send-btn svg {
            width: 20px;
            height: 20px;
            stroke: white;
            fill: none;
            stroke-width: 2;
        }

        /* ========================================
           CONTENT SECTIONS
           ======================================== */

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.4s ease-out;
        }

        /* ========================================
           CONFIGURAÇÕES
           ======================================== */

        .theme-section {
            margin-bottom: 30px;
        }

        .theme-section h4 {
            color: var(--gray-600);
            font-size: 12px;
            margin-bottom: 15px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        body.dark-mode .theme-section h4 {
            color: var(--gray-500);
        }

        .theme-buttons {
            display: flex;
            gap: 15px;
        }

        .theme-btn {
            flex: 1;
            padding: 15px;
            border: 2px solid var(--gray-200);
            background: white;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
            font-size: 14px;
            color: var(--gray-700);
            font-family: 'Inter', sans-serif;
        }

        body.dark-mode .theme-btn {
            background: var(--gray-100);
            border-color: var(--gray-300);
            color: var(--gray-700);
        }

        .theme-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .theme-btn.active {
            border-color: var(--primary-500);
            color: var(--primary-600);
            transform: scale(1.02);
            box-shadow: var(--shadow-colored);
        }

        body.dark-mode .theme-btn.active {
            color: var(--primary-400);
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .color-btn {
            padding: 0;
            border: 3px solid transparent;
            background: white;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--transition-base);
            overflow: hidden;
        }

        body.dark-mode .color-btn {
            background: var(--gray-100);
        }

        .color-btn:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .color-btn.active {
            border-color: var(--primary-500);
            transform: translateY(-5px) scale(1.02);
            box-shadow: var(--shadow-xl);
        }

        .color-btn-header {
            padding: 12px;
            text-align: center;
            font-weight: 600;
            font-size: 13px;
            color: var(--gray-800);
            border-bottom: 1px solid var(--gray-200);
        }

        body.dark-mode .color-btn-header {
            color: var(--gray-700);
            border-bottom-color: var(--gray-300);
        }

        .color-preview {
            height: 90px;
            display: flex;
            align-items: flex-end;
            padding: 8px;
            position: relative;
            transition: transform var(--transition-base);
        }

        .color-btn:hover .color-preview {
            transform: scale(1.05);
        }

        .color-preview-icon {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 30px;
            height: 30px;
            background: rgba(255,255,255,0.95);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .color-preview-icon-inner {
            width: 16px;
            height: 16px;
            border-radius: 3px;
        }

        .color-preview-content {
            width: 100%;
            background: rgba(255,255,255,0.95);
            border-radius: 6px;
            padding: 6px;
            display: flex;
            gap: 4px;
        }

        .color-preview-bar {
            height: 20px;
            border-radius: 3px;
        }

        /* ========================================
           TEMAS DE CORES
           ======================================== */

        body.theme-green {
            --primary-500: #4a9277;
            --primary-600: #3a8267;
            --secondary-500: #6ab896;
            --gradient-primary: linear-gradient(180deg, #4a9277 0%, #2d7a5f 60%);
            --gradient-bg: linear-gradient(180deg, #4a9277 0%, #3a8267 35%, #2d7257 65%, #2d7a5f 100%);
            --shadow-colored: 0 8px 32px rgba(74, 146, 119, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(45, 122, 95, 0.35);
        }

        body.theme-cyan {
            --primary-500: #3d8fa3;
            --primary-600: #2d7f93;
            --secondary-500: #68b3c7;
            --gradient-primary: linear-gradient(180deg, #3d8fa3 0%, #2a6d7f 60%);
            --gradient-bg: linear-gradient(180deg, #3d8fa3 0%, #2d7f93 35%, #1d6f83 65%, #2a6d7f 100%);
            --shadow-colored: 0 8px 32px rgba(61, 143, 163, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(42, 109, 127, 0.35);
        }

        body.theme-teal {
            --primary-500: #42968b;
            --primary-600: #32867b;
            --secondary-500: #6bbcb0;
            --gradient-primary: linear-gradient(180deg, #42968b 0%, #2e7a70 60%);
            --gradient-bg: linear-gradient(180deg, #42968b 0%, #32867b 35%, #22766b 65%, #2e7a70 100%);
            --shadow-colored: 0 8px 32px rgba(66, 150, 139, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(46, 122, 112, 0.35);
        }

        body.theme-purple {
            --primary-500: #7264a3;
            --primary-600: #625493;
            --secondary-500: #9a8dc8;
            --gradient-primary: linear-gradient(180deg, #7264a3 0%, #594d85 60%);
            --gradient-bg: linear-gradient(180deg, #7264a3 0%, #625493 35%, #524483 65%, #594d85 100%);
            --shadow-colored: 0 8px 32px rgba(114, 100, 163, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(89, 77, 133, 0.35);
        }

        body.theme-pink {
            --primary-500: #b56a8f;
            --primary-600: #a55a7f;
            --secondary-500: #d794b3;
            --gradient-primary: linear-gradient(180deg, #b56a8f 0%, #944f73 60%);
            --gradient-bg: linear-gradient(180deg, #b56a8f 0%, #a55a7f 35%, #954a6f 65%, #944f73 100%);
            --shadow-colored: 0 8px 32px rgba(181, 106, 143, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(148, 79, 115, 0.35);
        }

        body.theme-orange {
            --primary-500: #c77a4d;
            --primary-600: #b76a3d;
            --secondary-500: #e8a074;
            --gradient-primary: linear-gradient(180deg, #c77a4d 0%, #a85f35 60%);
            --gradient-bg: linear-gradient(180deg, #c77a4d 0%, #b76a3d 35%, #a75a2d 65%, #a85f35 100%);
            --shadow-colored: 0 8px 32px rgba(199, 122, 77, 0.25);
            --shadow-colored-hover: 0 12px 40px rgba(168, 95, 53, 0.35);
        }

        /* ========================================
           ANIMAÇÕES
           ======================================== */

        @keyframes fadeIn {
            from {
            opacity: 0; }
            to {
            opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
            opacity: 0; transform: translateY(-20px); }
            to {
            opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from {
            opacity: 0; transform: translateY(20px); }
            to {
            opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInLeft {
            from {
            opacity: 0; transform: translateX(-30px); }
            to {
            opacity: 1; transform: translateX(0); }
        }

        /* ========================================
           RESPONSIVIDADE
           ======================================== */

        @media (max-width: 1400px) {
            .data-stats-grid {
            grid-template-columns: repeat(2, 1fr);
            }

            .charts-grid {
            grid-template-columns: 1fr;
            }
        }

        @media (max-width: 1200px) {
            .cards-grid {
            grid-template-columns: 1fr 1fr;
            }

            .status-card {
            grid-column: span 2;
                order: -1;
            }

            .consumption-grid {
            grid-template-columns: 1fr;
            }

            .terra-promo-card {
            flex-direction: column;
                text-align: center;
                gap: 15px;
            }
        }

        @media (max-width: 768px) {
            body {
            flex-direction: column;
            }

 .sidebar {
    padding: 20px 0;
        position: relative; /* ✅ Voltar para relative no mobile */
        width: 100%;
        height: auto; /* ✅ Altura automática no mobile */
    }
    
            .main-content {
            padding: 20px;
             margin-left: 0; /* ✅ Remover margem no mobile */
            }

            .cards-grid {
            grid-template-columns: 1fr;
            }

            .status-card {
            grid-column: span 1;
            }

            .data-stats-grid {
            grid-template-columns: 1fr;
            }

            .header {
            flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .header-content {
            flex-direction: column;
            }

            .header-text h2 {
            font-size: 20px;
            }

            .header-controls {
            flex-wrap: wrap;
                justify-content: center;
            }

            .notification-bell {
            top: 20px;
                right: 20px;
            }

            .notification-panel {
            right: 20px;
                left: 20px;
                width: auto;
            }

            .history-controls {
            flex-direction: column;
            }

            .search-box {
            max-width: 100%;
            }

            .history-filters {
            flex-wrap: wrap;
            }

            .history-table {
            font-size: 12px;
            }

            .history-table th,
            .history-table td {
            padding: 10px;
            }
        }

        /* ========================================
           SCROLLBAR
           ======================================== */

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        body.dark-mode ::-webkit-scrollbar-track {
            background: var(--gray-200);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gradient-primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-600);
        }

        /* ========================================
           TOAST NOTIFICATIONS
           ======================================== */
/* 🔔 TOAST NOTIFICATIONS - MELHORADO */
.toast-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-width: 380px;
    pointer-events: none; /* ⭐ Não bloqueia cliques na página */
}

.toast {
    background: white;
    border-left: 4px solid var(--success);
    padding: 16px 20px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 300px;
    animation: slideInRight 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    cursor: pointer;
    pointer-events: all; /* ⭐ Só o toast recebe cliques */
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.toast::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background: var(--success);
    animation: shrinkProgress 5s linear forwards;
}

/* 🎨 Tipos de toast */
.toast.success {
    border-left-color: var(--success);
}

.toast.success::before {
    background: var(--success);
}

.toast.error {
    border-left-color: var(--error);
}

.toast.error::before {
    background: var(--error);
}

.toast.warning {
    border-left-color: var(--warning);
}

.toast.warning::before {
    background: var(--warning);
}

.toast.info {
    border-left-color: var(--info);
}

.toast.info::before {
    background: var(--info);
}

/* Hover effect */
.toast:hover {
    transform: translateX(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.25);
}

.toast:hover::before {
    animation-play-state: paused;
}

/* Ícone do toast */
.toast-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.toast.success .toast-icon {
    background: var(--success-light);
    color: var(--success);
}

.toast.error .toast-icon {
    background: var(--error-light);
    color: var(--error);
}

.toast.warning .toast-icon {
    background: var(--warning-light);
    color: var(--warning);
}

.toast.info .toast-icon {
    background: var(--info-light);
    color: var(--info);
}

/* Conteúdo do toast */
.toast-content {
    flex: 1;
}

.toast-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--gray-800);
    margin-bottom: 2px;
}

.toast-message {
    font-size: 13px;
    color: var(--gray-600);
    line-height: 1.4;
}

/* Botão de fechar */
.toast-close {
    background: none;
    border: none;
    color: var(--gray-400);
    cursor: pointer;
    font-size: 18px;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s ease;
}

.toast-close:hover {
    background: var(--gray-100);
    color: var(--gray-600);
}

/* Dark mode */
body.dark-mode .toast {
    background: var(--gray-100);
}

body.dark-mode .toast-title {
    color: var(--gray-800);
}

body.dark-mode .toast-message {
    color: var(--gray-600);
}

/* Animações */
@keyframes slideInRight {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(400px);
        opacity: 0;
    }
}

@keyframes shrinkProgress {
    from {
        width: 100%;
    }
    to {
        width: 0%;
    }
}

/* Mobile */
@media (max-width: 768px) {
    .toast-container {
        bottom: 20px;
        right: 20px;
        left: 20px;
        max-width: 100%;
    }
    
    .toast {
        min-width: auto;
    }
}

        /* ========================================
   DADOS - REDESIGN COMPLETO
/* ========================================
   SEÇÃO DADOS - ESTILOS COMPLETOS
   ======================================== */

/* Header da seção de dados */
.data-header {
            flex-wrap: wrap;
    gap: 20px;
}

.data-header .header-controls {
            display: flex;
    gap: 15px;
    align-items: flex-end;
    flex-wrap: wrap;
}

.data-header .control-group {
            display: flex;
    flex-direction: column;
    gap: 5px;
}

.data-header .control-group label {
            font-size: 11px;
    font-weight: 600;
    color: var(--gray-500);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn-export {
            display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    background: var(--gradient-primary);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
    font-family: 'Inter', sans-serif;
    box-shadow: var(--shadow-colored);
}

.btn-export:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.btn-export svg {
            width: 18px;
    height: 18px;
}

/* Quick Stats Grid */
.quick-stats-grid {
            display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-bottom: 25px;
}

.quick-stat-card {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 25px;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    display: flex;
    align-items: center;
    gap: 15px;
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;
}

.quick-stat-card::before {
            content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 4px;
    height: 100%;
    background: var(--gradient-primary);
}

.quick-stat-card.stat-activations::before {
            background: var(--gradient-primary); }
.quick-stat-card.stat-today::before {
            background: var(--gradient-success); }
.quick-stat-card.stat-time::before {
            background: var(--gradient-warning); }
.quick-stat-card.stat-week::before {
            background: linear-gradient(180deg, #6366f1 0%, #4f46e5 100%); }

body.dark-mode .quick-stat-card {
            background: rgba(30, 30, 46, 0.95);
}

.quick-stat-card:hover {
            transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}

.stat-icon-wrapper {
            flex-shrink: 0;
}

.stat-icon {
            width: 50px;
    height: 50px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--primary-50);
}

.stat-activations .stat-icon {
            background: var(--primary-50); }
.stat-activations .stat-icon svg {
            stroke: var(--primary-600); }

.stat-today .stat-icon {
            background: var(--success-light); }
.stat-today .stat-icon svg {
            stroke: var(--success); }

.stat-time .stat-icon {
            background: var(--warning-light); }
.stat-time .stat-icon svg {
            stroke: var(--warning); }

.stat-week .stat-icon {
            background: #eef2ff; }
.stat-week .stat-icon svg {
            stroke: #6366f1; }

.stat-icon svg {
            width: 24px;
    height: 24px;
}

.stat-data {
            flex: 1;
    min-width: 0;
}

.stat-value {
            display: block;
    font-size: 28px;
    font-weight: 700;
    color: var(--gray-800);
    line-height: 1.2;
}

body.dark-mode .stat-value {
            color: var(--gray-800);
}

.stat-value small {
            font-size: 14px;
    font-weight: 500;
    color: var(--gray-500);
    margin-left: 2px;
}

.stat-label {
            display: block;
    font-size: 13px;
    color: var(--gray-500);
    font-weight: 500;
    margin-top: 2px;
}

.stat-trend {
            display: flex;
    align-items: center;
    gap: 4px;
    padding: 5px 10px;
    border-radius: var(--radius-full);
    font-size: 12px;
    font-weight: 600;
}

.stat-trend.up {
            background: var(--success-light);
    color: var(--success-dark);
}

.stat-trend.down {
            background: var(--error-light);
    color: var(--error-dark);
}

.stat-trend.neutral {
            background: var(--gray-100);
    color: var(--gray-600);
}

.stat-trend svg {
            width: 14px;
    height: 14px;
}

/* Water Consumption Section */
.water-consumption-section {
            margin-bottom: 25px;
}

.water-consumption-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(239, 246, 255, 0.95) 100%);
    backdrop-filter: blur(10px);
    padding: 30px;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    border: 1px solid rgba(75, 129, 201, 0.1);
}

body.dark-mode .water-consumption-card {
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.98) 0%, rgba(39, 39, 60, 0.95) 100%);
    border-color: rgba(122, 164, 214, 0.1);
}

.water-header {
            display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 25px;
}

.water-icon {
            width: 50px;
    height: 50px;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-colored);
}

.water-icon svg {
            width: 26px;
    height: 26px;
    stroke: white;
}

.water-title h3 {
            font-size: 20px;
    font-weight: 700;
    color: var(--gray-800);
    margin-bottom: 2px;
}

body.dark-mode .water-title h3 {
            color: var(--gray-800);
}

.water-title p {
            font-size: 13px;
    color: var(--gray-500);
}

/* Water Stats Row */
.water-stats-row {
            display: flex;
    justify-content: center;
    gap: 50px;
    margin-bottom: 30px;
}

.water-stat-item {
            display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.water-stat-circle {
            position: relative;
    width: 100px;
    height: 100px;
}

.water-stat-circle.large {
            width: 130px;
    height: 130px;
}

.water-stat-item.featured .water-stat-circle {
            filter: drop-shadow(0 4px 15px rgba(75, 129, 201, 0.3));
}

.circular-chart {
            width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.circle-bg {
            fill: none;
    stroke: var(--gray-200);
    stroke-width: 3;
}

body.dark-mode .circle-bg {
            stroke: var(--gray-300);
}

.circle-progress {
            fill: none;
    stroke-width: 3;
    stroke-linecap: round;
    transition: stroke-dasharray 0.6s ease;
}

.circle-progress.daily {
            stroke: var(--primary-500); }
.circle-progress.weekly {
            stroke: var(--success); }
.circle-progress.monthly {
            stroke: #6366f1; }

.water-stat-value {
            position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
}

.water-stat-circle.large .water-stat-value {
            font-size: 24px;
}

body.dark-mode .water-stat-value {
            color: var(--gray-800);
}

.water-stat-label {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-700);
}

body.dark-mode .water-stat-label {
            color: var(--gray-600);
}

.water-stat-sublabel {
            font-size: 12px;
    color: var(--gray-500);
}

/* Water Breakdown */
.water-breakdown {
            display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 20px;
}

.breakdown-item {
            display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: var(--radius-md);
}

body.dark-mode .breakdown-item {
            background: rgba(50, 50, 70, 0.5);
}

.breakdown-icon {
            width: 40px;
    height: 40px;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.breakdown-icon.auto {
            background: var(--primary-50);
}

.breakdown-icon.auto svg {
            stroke: var(--primary-600);
}

.breakdown-icon.manual {
            background: var(--terra-50);
}

.breakdown-icon.manual svg {
            stroke: var(--terra-600);
}

.breakdown-icon svg {
            width: 20px;
    height: 20px;
}

.breakdown-info {
            flex: 1;
    min-width: 0;
}

.breakdown-value {
            display: block;
    font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .breakdown-value {
            color: var(--gray-800);
}

.breakdown-label {
            font-size: 12px;
    color: var(--gray-500);
}

.breakdown-bar {
            width: 80px;
    height: 6px;
    background: var(--gray-200);
    border-radius: var(--radius-full);
    overflow: hidden;
}

body.dark-mode .breakdown-bar {
            background: var(--gray-300);
}

.breakdown-fill {
            height: 100%;
    border-radius: var(--radius-full);
    transition: width 0.6s ease;
}

.breakdown-fill.auto {
            background: var(--gradient-primary);
}

.breakdown-fill.manual {
            background: var(--gradient-terra);
}

/* Water Cost */
.water-cost {
            display: flex;
    align-items: center;
    gap: 12px;
    padding: 15px 20px;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    color: white;
}

.cost-icon {
            width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
}

.cost-icon svg {
            width: 22px;
    height: 22px;
    stroke: white;
}

.cost-info {
            flex: 1;
}

.cost-label {
            display: block;
    font-size: 12px;
    opacity: 0.9;
}

.cost-value {
            font-size: 22px;
    font-weight: 700;
}

/* Charts Section */
.charts-section {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    padding: 25px;
    margin-bottom: 25px;
}

body.dark-mode .charts-section {
            background: rgba(30, 30, 46, 0.95);
}

.section-header {
            display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--gray-100);
}

body.dark-mode .section-header {
            border-bottom-color: var(--gray-200);
}

.section-header h3 {
            display: flex;
    align-items: center;
    gap: 10px;
    font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .section-header h3 {
            color: var(--gray-800);
}

.section-header h3 svg {
            width: 22px;
    height: 22px;
    stroke: var(--primary-600);
}

body.dark-mode .section-header h3 svg {
            stroke: var(--primary-500);
}

.section-tabs {
            display: flex;
    gap: 8px;
}

.section-tab {
            display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 18px;
    background: var(--gray-100);
    border: none;
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 600;
    color: var(--gray-600);
    cursor: pointer;
    transition: all var(--transition-base);
    font-family: 'Inter', sans-serif;
}

body.dark-mode .section-tab {
            background: var(--gray-200);
    color: var(--gray-500);
}

.section-tab svg {
            width: 16px;
    height: 16px;
}

.section-tab:hover {
            background: var(--gray-200);
    color: var(--gray-700);
}

body.dark-mode .section-tab:hover {
            background: var(--gray-300);
}

.section-tab.active {
            background: var(--gradient-primary);
    color: white;
}

.section-tab.active svg {
            stroke: white;
}

/* View Content */
.view-content {
            display: none;
}

.view-content.active {
            display: block;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
            from {
            opacity: 0; transform: translateY(10px); }
    to {
            opacity: 1; transform: translateY(0); }
}

/* Charts Grid */
.charts-grid {
            display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.chart-card {
            background: var(--gray-50);
    border-radius: var(--radius-lg);
    overflow: hidden;
    transition: all var(--transition-base);
}

body.dark-mode .chart-card {
            background: rgba(50, 50, 70, 0.5);
}

.chart-card:hover {
            box-shadow: var(--shadow-md);
}

.chart-card.chart-main {
            grid-column: span 2;
}

.chart-card-header {
            display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 20px;
    border-bottom: 1px solid var(--gray-200);
}

body.dark-mode .chart-card-header {
            border-bottom-color: var(--gray-300);
}

.chart-title {
            display: flex;
    align-items: center;
    gap: 10px;
}

.chart-icon {
            width: 36px;
    height: 36px;
    background: var(--primary-50);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
}

body.dark-mode .chart-icon {
            background: rgba(75, 129, 201, 0.2);
}

.chart-icon svg {
            width: 18px;
    height: 18px;
    stroke: var(--primary-600);
}

body.dark-mode .chart-icon svg {
            stroke: var(--primary-500);
}

.chart-title h4 {
            font-size: 15px;
    font-weight: 600;
    color: var(--gray-800);
}

body.dark-mode .chart-title h4 {
            color: var(--gray-800);
}

.chart-period-tabs {
            display: flex;
    gap: 5px;
}

.period-tab {
            padding: 6px 12px;
    background: transparent;
    border: 1px solid var(--gray-300);
    border-radius: var(--radius-sm);
    font-size: 12px;
    font-weight: 600;
    color: var(--gray-600);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-family: 'Inter', sans-serif;
}

body.dark-mode .period-tab {
            border-color: var(--gray-400);
    color: var(--gray-500);
}

.period-tab:hover {
            border-color: var(--primary-500);
    color: var(--primary-600);
}

.period-tab.active {
            background: var(--primary-500);
    border-color: var(--primary-500);
    color: white;
}

.chart-card-body {
            padding: 20px;
    height: 280px;
    position: relative;
}

.chart-main .chart-card-body {
            height: 320px;
}

.chart-card-body canvas {
            width: 100% !important;
    height: 100% !important;
}

.chart-card-footer {
            display: flex;
    justify-content: center;
    gap: 40px;
    padding: 15px 20px;
    background: var(--gray-100);
    border-top: 1px solid var(--gray-200);
}

body.dark-mode .chart-card-footer {
            background: rgba(40, 40, 60, 0.5);
    border-top-color: var(--gray-300);
}

.chart-stat {
            text-align: center;
}

.chart-stat-value {
            display: block;
    font-size: 20px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .chart-stat-value {
            color: var(--gray-800);
}

.chart-stat-label {
            font-size: 12px;
    color: var(--gray-500);
}

.chart-stat.highlight .chart-stat-value {
            color: var(--success);
}

.chart-legend-inline {
            display: flex;
    justify-content: center;
    gap: 25px;
    padding: 12px 20px;
    background: var(--gray-100);
}

body.dark-mode .chart-legend-inline {
            background: rgba(40, 40, 60, 0.5);
}

.legend-item {
            display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--gray-600);
}

body.dark-mode .legend-item {
            color: var(--gray-500);
}

.legend-dot {
            width: 10px;
    height: 10px;
    border-radius: 50%;
}

.legend-dot.auto {
            background: var(--primary-500);
}

.legend-dot.manual {
            background: var(--terra-500);
}

.chart-insight {
            display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 20px;
    background: var(--primary-50);
    font-size: 13px;
    color: var(--gray-700);
}

body.dark-mode .chart-insight {
            background: rgba(75, 129, 201, 0.15);
    color: var(--gray-600);
}

.chart-insight .insight-icon {
            width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.chart-insight .insight-icon svg {
            width: 16px;
    height: 16px;
    stroke: var(--primary-600);
}

body.dark-mode .chart-insight .insight-icon svg {
            stroke: var(--primary-500);
}

/* Efficiency Body */
.efficiency-body {
            display: flex;
    gap: 30px;
    align-items: center;
}

.efficiency-chart-wrapper {
            position: relative;
    width: 180px;
    height: 180px;
    flex-shrink: 0;
}

.efficiency-center {
            position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.efficiency-value {
            display: block;
    font-size: 32px;
    font-weight: 700;
    color: var(--success);
}

.efficiency-label {
            font-size: 12px;
    color: var(--gray-500);
}

.efficiency-stats {
            flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.efficiency-stat {
            display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    background: var(--gray-100);
    border-radius: var(--radius-md);
}

body.dark-mode .efficiency-stat {
            background: rgba(40, 40, 60, 0.5);
}

.efficiency-stat-header {
            display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
    color: var(--gray-600);
}

body.dark-mode .efficiency-stat-header {
            color: var(--gray-500);
}

.efficiency-dot {
            width: 10px;
    height: 10px;
    border-radius: 50%;
}

.efficiency-dot.success {
            background: var(--success); }
.efficiency-dot.uptime {
            background: var(--primary-500); }
.efficiency-dot.response {
            background: var(--warning); }

.efficiency-stat-value {
            font-size: 16px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .efficiency-stat-value {
            color: var(--gray-800);
}

/* Insights Grid */
.insights-grid {
            display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.insight-card {
            display: flex;
    gap: 15px;
    padding: 20px;
    background: var(--gray-50);
    border-radius: var(--radius-lg);
    border-left: 4px solid var(--primary-500);
    transition: all var(--transition-base);
    position: relative;
}

body.dark-mode .insight-card {
            background: rgba(50, 50, 70, 0.5);
}

.insight-card:hover {
            transform: translateY(-3px);
    box-shadow: var(--shadow-md);
}

.insight-card.primary {
            border-left-color: var(--primary-500); }
.insight-card.success {
            border-left-color: var(--success); }
.insight-card.warning {
            border-left-color: var(--warning); }
.insight-card.info {
            border-left-color: var(--info); }

.insight-card .insight-icon {
            width: 45px;
    height: 45px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.insight-card.primary .insight-icon {
            background: var(--primary-50); }
.insight-card.primary .insight-icon svg {
            stroke: var(--primary-600); }

.insight-card.success .insight-icon {
            background: var(--success-light); }
.insight-card.success .insight-icon svg {
            stroke: var(--success); }

.insight-card.warning .insight-icon {
            background: var(--warning-light); }
.insight-card.warning .insight-icon svg {
            stroke: var(--warning); }

.insight-card.info .insight-icon {
            background: var(--info-light); }
.insight-card.info .insight-icon svg {
            stroke: var(--info); }

.insight-card .insight-icon svg {
            width: 22px;
    height: 22px;
}

.insight-content {
            flex: 1;
    min-width: 0;
}

.insight-content h4 {
            font-size: 15px;
    font-weight: 600;
    color: var(--gray-800);
    margin-bottom: 8px;
}

body.dark-mode .insight-content h4 {
            color: var(--gray-800);
}

.insight-content p {
            font-size: 13px;
    color: var(--gray-600);
    line-height: 1.5;
}

body.dark-mode .insight-content p {
            color: var(--gray-500);
}

.insight-content p strong {
            color: var(--gray-800);
    font-weight: 600;
}

body.dark-mode .insight-content p strong {
            color: var(--gray-700);
}

.insight-badge {
            position: absolute;
    top: 15px;
    right: 15px;
    padding: 4px 10px;
    background: var(--primary-50);
    color: var(--primary-700);
    font-size: 10px;
    font-weight: 700;
    border-radius: var(--radius-full);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.insight-badge.success {
            background: var(--success-light);
    color: var(--success-dark);
}

.insight-badge.warning {
            background: var(--warning-light);
    color: var(--warning-dark);
}

.insight-badge.info {
            background: var(--info-light);
    color: var(--info-dark);
}

/* History Section */
.history-section {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    overflow: hidden;
}

body.dark-mode .history-section {
            background: rgba(30, 30, 46, 0.95);
}

.history-header {
            display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    cursor: pointer;
    transition: all var(--transition-base);
    border-bottom: 2px solid transparent;
}

.history-header:hover {
            background: var(--gray-50);
}

body.dark-mode .history-header:hover {
            background: rgba(50, 50, 70, 0.5);
}

.history-section.expanded .history-header {
            border-bottom-color: var(--gray-200);
}

body.dark-mode .history-section.expanded .history-header {
            border-bottom-color: var(--gray-300);
}

.history-title {
            display: flex;
    align-items: center;
    gap: 12px;
}

.history-title svg {
            width: 22px;
    height: 22px;
    stroke: var(--primary-600);
}

body.dark-mode .history-title svg {
            stroke: var(--primary-500);
}

.history-title h3 {
            font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .history-title h3 {
            color: var(--gray-800);
}

.history-count {
            padding: 4px 12px;
    background: var(--primary-50);
    color: var(--primary-700);
    font-size: 12px;
    font-weight: 600;
    border-radius: var(--radius-full);
}

body.dark-mode .history-count {
            background: rgba(75, 129, 201, 0.2);
    color: var(--primary-500);
}

.history-toggle-btn {
            width: 36px;
    height: 36px;
    background: var(--gray-100);
    border: none;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all var(--transition-base);
}

body.dark-mode .history-toggle-btn {
            background: var(--gray-200);
}

.history-toggle-btn:hover {
            background: var(--gray-200);
}

body.dark-mode .history-toggle-btn:hover {
            background: var(--gray-300);
}

.history-toggle-btn svg {
            width: 20px;
    height: 20px;
    stroke: var(--gray-600);
    transition: transform var(--transition-base);
}

body.dark-mode .history-toggle-btn svg {
            stroke: var(--gray-500);
}

.history-section.expanded .history-toggle-btn svg {
            transform: rotate(180deg);
}

.history-content {
            max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease;
}

.history-section.expanded .history-content {
            max-height: 600px;
    overflow-y: auto;
}

.history-list {
            padding: 15px 25px;
}

.history-item {
            display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    background: var(--gray-50);
    border-radius: var(--radius-md);
    margin-bottom: 10px;
    transition: all var(--transition-base);
}

body.dark-mode .history-item {
            background: rgba(50, 50, 70, 0.5);
}

.history-item:hover {
            background: var(--gray-100);
    transform: translateX(5px);
}

body.dark-mode .history-item:hover {
            background: rgba(60, 60, 80, 0.5);
}

.history-item:last-child {
            margin-bottom: 0;
}

.history-item-icon {
            width: 42px;
    height: 42px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.history-item-icon.on {
            background: var(--success-light);
}

.history-item-icon.on svg {
            stroke: var(--success);
}

.history-item-icon.off {
            background: var(--error-light);
}

.history-item-icon.off svg {
            stroke: var(--error);
}

.history-item-icon.scheduled {
            background: var(--primary-50);
}

.history-item-icon.scheduled svg {
            stroke: var(--primary-600);
}

.history-item-icon svg {
            width: 20px;
    height: 20px;
}

.history-item-content {
            flex: 1;
    min-width: 0;
}

.history-item-title {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-800);
    margin-bottom: 3px;
}

body.dark-mode .history-item-title {
            color: var(--gray-800);
}

.history-item-subtitle {
            font-size: 12px;
    color: var(--gray-500);
}

.history-item-time {
            text-align: right;
    flex-shrink: 0;
}

.history-item-date {
            display: block;
    font-size: 13px;
    font-weight: 600;
    color: var(--gray-700);
}

body.dark-mode .history-item-date {
            color: var(--gray-600);
}

.history-item-hour {
            font-size: 12px;
    color: var(--gray-500);
}

.history-load-more {
            padding: 15px 25px 20px;
    text-align: center;
}

.btn-load-more {
            display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 25px;
    background: var(--gray-100);
    border: 1px solid var(--gray-300);
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 600;
    color: var(--gray-600);
    cursor: pointer;
    transition: all var(--transition-base);
    font-family: 'Inter', sans-serif;
}

body.dark-mode .btn-load-more {
            background: var(--gray-200);
    border-color: var(--gray-400);
    color: var(--gray-500);
}

.btn-load-more:hover {
            background: var(--gray-200);
    border-color: var(--primary-500);
    color: var(--primary-600);
}

.btn-load-more svg {
            width: 16px;
    height: 16px;
}

.history-empty {
            padding: 50px 25px;
    text-align: center;
}

.history-empty svg {
            width: 50px;
    height: 50px;
    stroke: var(--gray-400);
    margin-bottom: 15px;
}

.history-empty p {
            font-size: 14px;
    color: var(--gray-500);
}

/* Responsive */
@media (max-width: 1200px) {
            .quick-stats-grid {
            grid-template-columns: repeat(2, 1fr);
    }

    .charts-grid {
            grid-template-columns: 1fr;
    }

    .chart-card.chart-main {
            grid-column: span 1;
    }

    .insights-grid {
            grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
            .quick-stats-grid {
            grid-template-columns: 1fr;
    }

    .water-stats-row {
            flex-direction: column;
        gap: 25px;
    }

    .water-breakdown {
            grid-template-columns: 1fr;
    }

    .efficiency-body {
            flex-direction: column;
    }

    .data-header .header-controls {
            width: 100%;
        justify-content: flex-start;
    }
}/* ========================================
   BOMBAS - DESIGN OTIMIZADO
   ======================================== */

.bombas-header .header-icon.bombas {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
}

.header-actions {
            display: flex;
    gap: 12px;
}

.add-bomba-btn {
            display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--gradient-primary);
    color: white;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-colored);
    transition: all var(--transition-base);
}

.add-bomba-btn:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.add-bomba-btn svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* Stats Grid */

.bombas-stats-grid {
            display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

@media (max-width: 1200px) {
            .bombas-stats-grid {
            grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 600px) {
            .bombas-stats-grid {
            grid-template-columns: 1fr;
    }
}

.stat-card.bombas-stat {
            position: relative;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    padding: 20px;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    display: flex;
    align-items: center;
    gap: 16px;
    transition: all var(--transition-base);
    overflow: hidden;
    animation: fadeInUp 0.5s ease-out backwards;
}

.stat-card.bombas-stat:nth-child(1) {
            animation-delay: 0s; }
.stat-card.bombas-stat:nth-child(2) {
            animation-delay: 0.1s; }
.stat-card.bombas-stat:nth-child(3) {
            animation-delay: 0.2s; }
.stat-card.bombas-stat:nth-child(4) {
            animation-delay: 0.3s; }

body.dark-mode .stat-card.bombas-stat {
            background: rgba(30, 30, 46, 0.95);
}

.stat-card.bombas-stat:hover {
            transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.stat-card-icon {
            width: 50px;
    height: 50px;
    border-radius: var(--radius-lg);
    background: var(--primary-50);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all var(--transition-base);
}

body.dark-mode .stat-card-icon {
            background: rgba(75, 129, 201, 0.15);
}

.stat-card.bombas-stat:hover .stat-card-icon {
            transform: scale(1.1) rotate(5deg);
}

.stat-card-icon svg {
            width: 24px;
    height: 24px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.stat-card-icon.energy {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
}

.stat-card-icon.energy svg {
            stroke: #f59e0b;
    fill: #f59e0b;
}

.stat-card-icon.water {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
}

.stat-card-icon.water svg {
            stroke: #3b82f6;
    fill: #3b82f6;
}

.stat-card-content {
            display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
}

.stat-card-label {
            font-size: 12px;
    color: var(--gray-500);
    font-weight: 500;
}

.stat-card-value {
            font-size: 24px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .stat-card-value {
            color: var(--gray-800);
}

.stat-card-indicator {
            position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gray-200);
}

.stat-card-indicator.active {
            background: var(--gradient-primary);
    animation: shimmer 2s infinite;
}

@keyframes shimmer {
            0% {
            opacity: 0.5; }
    50% {
            opacity: 1; }
    100% {
            opacity: 0.5; }
}

/* Toolbar */

.bombas-toolbar {
            display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 25px;
    flex-wrap: wrap;
}

.search-box {
            position: relative;
    flex: 1;
    min-width: 250px;
}

.search-box .search-icon {
            position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    stroke: var(--gray-400);
    fill: none;
    stroke-width: 2;
    pointer-events: none;
}

#searchBombas {
            width: 100%;
    padding: 11px 14px 11px 44px;
    border-radius: var(--radius-md);
    border: 2px solid var(--gray-200);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    background: white;
    color: var(--gray-800);
    transition: all var(--transition-base);
}

body.dark-mode #searchBombas {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

#searchBombas:focus {
            outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

.filter-group {
            display: flex;
    gap: 8px;
    background: var(--gray-100);
    padding: 4px;
    border-radius: var(--radius-md);
}

body.dark-mode .filter-group {
            background: var(--gray-200);
}

.filter-btn {
            display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    border-radius: var(--radius-sm);
    border: none;
    background: transparent;
    color: var(--gray-600);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
}

.filter-btn svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.filter-btn:hover {
            color: var(--primary-600);
    background: rgba(75, 129, 201, 0.1);
}

.filter-btn.active {
            background: white;
    color: var(--primary-600);
    box-shadow: var(--shadow-sm);
}

body.dark-mode .filter-btn.active {
            background: var(--gray-100);
}

.view-toggle {
            display: flex;
    gap: 4px;
    background: var(--gray-100);
    padding: 4px;
    border-radius: var(--radius-md);
}

body.dark-mode .view-toggle {
            background: var(--gray-200);
}

.view-btn {
            width: 36px;
    height: 36px;
    border-radius: var(--radius-sm);
    border: none;
    background: transparent;
    color: var(--gray-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.view-btn svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.view-btn:hover {
            color: var(--primary-600);
    background: rgba(75, 129, 201, 0.1);
}

.view-btn.active {
            background: white;
    color: var(--primary-600);
    box-shadow: var(--shadow-sm);
}

body.dark-mode .view-btn.active {
            background: var(--gray-100);
}

/* Bombas Grid */

.bombas-grid {
            display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 24px;
}

.bombas-grid.list-view {
            grid-template-columns: 1fr;
}

@media (max-width: 768px) {
            .bombas-grid {
            grid-template-columns: 1fr;
    }
}

/* Bomba Card */

.bomba-card {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    transition: all var(--transition-base);
    animation: fadeInUp 0.6s ease-out backwards;
    position: relative;
}

.bomba-card:nth-child(1) {
            animation-delay: 0.1s; }
.bomba-card:nth-child(2) {
            animation-delay: 0.2s; }
.bomba-card:nth-child(3) {
            animation-delay: 0.3s; }

body.dark-mode .bomba-card {
            background: rgba(30, 30, 46, 0.95);
}

.bomba-card:hover {
            transform: translateY(-6px);
    box-shadow: var(--shadow-xl);
}

.bomba-card::before {
            content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: var(--gradient-primary);
    opacity: 0;
    transition: opacity var(--transition-base);
}

.bomba-card[data-status="ativa"]::before {
            opacity: 1;
}

/* Card Header */

.bomba-card-header {
            padding: 16px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--gray-100);
}

body.dark-mode .bomba-card-header {
            border-bottom-color: var(--gray-200);
}

.bomba-status-badge {
            display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    border-radius: var(--radius-full);
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.bomba-status-badge.active {
            background: var(--success-light);
    color: var(--success-dark);
}

.bomba-status-badge.inactive {
            background: var(--gray-100);
    color: var(--gray-600);
}

.status-pulse {
            width: 8px;
    height: 8px;
    border-radius: 50%;
    background: currentColor;
}

.bomba-status-badge.active .status-pulse {
            animation: pulse 2s ease-in-out infinite;
}

/* Actions Menu */

.bomba-actions-menu {
            position: relative;
}

.menu-trigger {
            width: 32px;
    height: 32px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--gray-50);
    color: var(--gray-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.menu-trigger:hover {
            background: var(--gray-100);
    transform: scale(1.08);
}

.menu-trigger svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: currentColor;
}

.action-menu {
            position: absolute;
    top: 40px;
    right: 0;
    background: white;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-2xl);
    padding: 8px;
    min-width: 160px;
    z-index: 100;
    animation: fadeInDown 0.2s ease-out;
}

body.dark-mode .action-menu {
            background: var(--gray-100);
}

@keyframes fadeInDown {
            from {
            opacity: 0;
        transform: translateY(-10px);
    }
    to {
            opacity: 1;
        transform: translateY(0);
    }
}

.menu-item {
            display: flex;
    align-items: center;
    gap: 10px;
    width: 100%;
    padding: 10px 12px;
    border-radius: var(--radius-md);
    border: none;
    background: transparent;
    color: var(--gray-700);
    font-size: 13px;
    font-weight: 500;
    text-align: left;
    cursor: pointer;
    transition: all var(--transition-base);
}

.menu-item:hover {
            background: var(--gray-50);
    color: var(--gray-900);
}

body.dark-mode .menu-item:hover {
            background: var(--gray-200);
}

.menu-item svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.menu-item.danger {
            color: var(--error);
}

.menu-item.danger:hover {
            background: var(--error-light);
}

/* Card Body */

.bomba-card-body {
            padding: 24px 20px;
}

.bomba-icon-wrapper {
            display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

.bomba-icon {
            position: relative;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.bomba-icon.active {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
}

.bomba-icon.inactive {
            background: var(--gray-200);
}

.bomba-icon svg {
            width: 36px;
    height: 36px;
    stroke: white;
    fill: none;
    stroke-width: 2;
}

.bomba-icon.inactive svg {
            stroke: var(--gray-500);
}

.bomba-card:hover .bomba-icon.active {
            transform: scale(1.1);
    box-shadow: 0 12px 35px rgba(59, 130, 246, 0.5);
}

.icon-ripple {
            position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 50%;
    background: inherit;
    animation: ripple 2s ease-out infinite;
}

@keyframes ripple {
            0% {
            transform: scale(1);
        opacity: 1;
    }
    100% {
            transform: scale(1.5);
        opacity: 0;
    }
}

.bomba-name {
            font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
    text-align: center;
    margin-bottom: 8px;
}

body.dark-mode .bomba-name {
            color: var(--gray-800);
}

.bomba-location {
            display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-size: 13px;
    color: var(--gray-500);
    margin-bottom: 20px;
}

.bomba-location svg {
            width: 14px;
    height: 14px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* Metrics */

.bomba-metrics {
            display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 20px;
}

.metric {
            background: var(--gray-50);
    padding: 12px;
    border-radius: var(--radius-lg);
    text-align: center;
    transition: all var(--transition-base);
}

body.dark-mode .metric {
            background: rgba(40, 40, 60, 0.5);
}

.metric:hover {
            background: var(--primary-50);
    transform: translateY(-2px);
}

.metric.inactive {
            opacity: 0.5;
}

.metric-label {
            display: block;
    font-size: 10px;
    color: var(--gray-500);
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.metric-value {
            display: block;
    font-size: 16px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .metric-value {
            color: var(--gray-800);
}

/* Progress */

.bomba-progress {
            margin-top: 16px;
}

.progress-info {
            display: flex;
    justify-content: space-between;
    margin-bottom: 8px;
}

.progress-label {
            font-size: 12px;
    color: var(--gray-500);
}

.progress-value {
            font-size: 12px;
    font-weight: 600;
    color: var(--primary-600);
}

.progress-bar {
            height: 6px;
    background: var(--gray-200);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.progress-fill {
            height: 100%;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    transition: width 0.6s ease-out;
    position: relative;
    overflow: hidden;
}

.progress-fill::after {
            content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg,
        transparent,
        rgba(255, 255, 255, 0.4),
        transparent
    );
    animation: progressShine 2s infinite;
}

@keyframes progressShine {
            0% {
            transform: translateX(-100%); }
    100% {
            transform: translateX(100%); }
}

/* Info Box */

.bomba-info-box {
            display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px;
    background: var(--gray-50);
    border-radius: var(--radius-lg);
    margin-top: 16px;
}

body.dark-mode .bomba-info-box {
            background: rgba(40, 40, 60, 0.5);
}

.bomba-info-box svg {
            width: 18px;
    height: 18px;
    stroke: var(--gray-500);
    fill: none;
    stroke-width: 2;
    flex-shrink: 0;
}

.bomba-info-box span {
            font-size: 12px;
    color: var(--gray-600);
}

/* Card Footer */

.bomba-card-footer {
            padding: 16px 20px;
    border-top: 1px solid var(--gray-100);
    display: flex;
    gap: 10px;
}

body.dark-mode .bomba-card-footer {
            border-top-color: var(--gray-200);
}

.bomba-control-btn {
            flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 10px 16px;
    border-radius: var(--radius-md);
    border: none;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
}

.bomba-control-btn svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.bomba-control-btn.stop {
            background: var(--error-light);
    color: var(--error-dark);
}

.bomba-control-btn.stop:hover {
            background: var(--error);
    color: white;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.bomba-control-btn.stop svg {
            fill: currentColor;
}

.bomba-control-btn.start {
            background: var(--success-light);
    color: var(--success-dark);
}

.bomba-control-btn.start:hover {
            background: var(--success);
    color: white;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.bomba-control-btn.start svg {
            fill: currentColor;
}

.bomba-control-btn.details {
            background: var(--gray-100);
    color: var(--gray-700);
}

.bomba-control-btn.details:hover {
            background: var(--gray-200);
    transform: translateY(-2px);
}

/* Empty State */

.empty-state {
            display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80px 20px;
    text-align: center;
}

.empty-icon {
            width: 100px;
    height: 100px;
    border-radius: 50%;
    background: var(--gray-100);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 24px;
}

.empty-icon svg {
            width: 48px;
    height: 48px;
    stroke: var(--gray-400);
    fill: none;
    stroke-width: 2;
}

.empty-state h3 {
            font-size: 20px;
    font-weight: 700;
    color: var(--gray-800);
    margin-bottom: 8px;
}

body.dark-mode .empty-state h3 {
            color: var(--gray-800);
}

.empty-state p {
            font-size: 14px;
    color: var(--gray-500);
    margin-bottom: 24px;
}

.add-bomba-empty-btn {
            display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 24px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--gradient-primary);
    color: white;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-colored);
    transition: all var(--transition-base);
}

.add-bomba-empty-btn:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.add-bomba-empty-btn svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* Responsivo */

@media (max-width: 768px) {
            .bombas-toolbar {
            flex-direction: column;
        align-items: stretch;
    }

    .search-box {
            width: 100%;
    }

    .filter-group {
            justify-content: center;
    }

    .view-toggle {
            justify-content: center;
    }

    .bomba-metrics {
            grid-template-columns: 1fr;
    }

    .bomba-card-footer {
            flex-direction: column;
    }
}
/* ========================================
   PERFIL - DESIGN OTIMIZADO COM SVGs
   ======================================== */

.perfil-header .header-icon {
            background: var(--gradient-primary);
}

/* Container Principal */

.perfil-main-card {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
    margin-bottom: 25px;
    animation: fadeInUp 0.4s ease-out;
}

body.dark-mode .perfil-main-card {
            background: rgba(30, 30, 46, 0.95);
}

/* Hero Section */

.perfil-hero {
            position: relative;
    padding: 40px 35px 30px;
}

.perfil-hero-bg {
            position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    background: var(--gradient-primary);
    opacity: 0.08;
}

body.dark-mode .perfil-hero-bg {
            opacity: 0.12;
}

.perfil-hero-content {
            position: relative;
    display: flex;
    align-items: center;
    gap: 25px;
}

@media (max-width: 600px) {
            .perfil-hero-content {
            flex-direction: column;
        text-align: center;
    }
}

.profile-avatar-wrapper {
            position: relative;
    flex-shrink: 0;
}

.avatar-circle {
            width: 90px;
    height: 90px;
    border-radius: 50%;
    background: var(--gradient-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    font-weight: 700;
    color: white;
    box-shadow: var(--shadow-colored);
    transition: all var(--transition-base);
    border: 4px solid white;
}

body.dark-mode .avatar-circle {
            border-color: var(--gray-100);
}

.profile-avatar-wrapper:hover .avatar-circle {
            transform: scale(1.05);
    box-shadow: var(--shadow-colored-hover);
}

.change-avatar-btn {
            position: absolute;
    bottom: 2px;
    right: 2px;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: white;
    border: 3px solid var(--primary-500);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-md);
}

.change-avatar-btn:hover {
            transform: scale(1.1);
    background: var(--primary-50);
}

.change-avatar-btn svg {
            width: 16px;
    height: 16px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

/* Avatar Upload Progress */

.avatar-upload-progress {
            position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100px;
    height: 100px;
}

.progress-ring {
            width: 100%;
    height: 100%;
    transform: rotate(-90deg);
}

.progress-ring-bg {
            fill: none;
    stroke: rgba(255, 255, 255, 0.3);
    stroke-width: 2;
}

.progress-ring-fill {
            fill: none;
    stroke: white;
    stroke-width: 2;
    stroke-dasharray: 100;
    stroke-dashoffset: 100;
    transition: stroke-dashoffset 0.3s ease;
}

.profile-info h2 {
            font-size: 26px;
    font-weight: 700;
    color: var(--gray-800);
    margin-bottom: 8px;
}

body.dark-mode .profile-info h2 {
            color: var(--gray-800);
}

.status-badge-perfil {
            display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 14px;
    border-radius: var(--radius-full);
    font-size: 12px;
    font-weight: 600;
    background: var(--success-light);
    color: var(--success-dark);
}

.status-dot {
            width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--success);
    animation: pulse 2s ease-in-out infinite;
}

/* Stats */

.perfil-stats {
            display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1px;
    background: var(--gray-200);
    border-top: 1px solid var(--gray-200);
}

@media (max-width: 900px) {
            .perfil-stats {
            grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 500px) {
            .perfil-stats {
            grid-template-columns: 1fr;
    }
}

body.dark-mode .perfil-stats {
            background: var(--gray-300);
    border-top-color: var(--gray-300);
}

.perfil-stat-item {
            display: flex;
    align-items: center;
    gap: 12px;
    padding: 18px 20px;
    background: white;
    transition: all var(--transition-base);
}

.perfil-stat-item:hover {
            background: var(--gray-50);
    transform: translateY(-2px);
}

body.dark-mode .perfil-stat-item {
            background: var(--gray-100);
}

body.dark-mode .perfil-stat-item:hover {
            background: var(--gray-200);
}

.stat-icon {
            width: 40px;
    height: 40px;
    flex-shrink: 0;
    background: var(--primary-50);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
}

.stat-icon svg {
            width: 20px;
    height: 20px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.stat-content {
            display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}

.stat-label {
            font-size: 11px;
    color: var(--gray-500);
    font-weight: 500;
}

.stat-value {
            font-size: 15px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .stat-value {
            color: var(--gray-800);
}

/* Grid Principal */

.perfil-content-grid {
            display: grid;
    grid-template-columns: 1.3fr 1fr;
    gap: 25px;
}

@media (max-width: 1100px) {
            .perfil-content-grid {
            grid-template-columns: 1fr;
    }
}

.perfil-left-column,
.perfil-right-column {
            display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Section Cards */

.perfil-section-card {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    transition: all var(--transition-base);
    animation: fadeInUp 0.5s ease-out backwards;
}

.perfil-section-card:hover {
            box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
}

body.dark-mode .perfil-section-card {
            background: rgba(30, 30, 46, 0.95);
}

.section-card-header {
            padding: 18px 22px;
    border-bottom: 1px solid var(--gray-100);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

body.dark-mode .section-card-header {
            border-bottom-color: var(--gray-200);
}

.section-title-group {
            display: flex;
    align-items: center;
    gap: 12px;
}

.section-icon {
            width: 38px;
    height: 38px;
    border-radius: var(--radius-md);
    background: var(--primary-50);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

body.dark-mode .section-icon {
            background: rgba(75, 129, 201, 0.15);
}

.section-card-header:hover .section-icon {
            transform: scale(1.1);
}

.section-icon svg {
            width: 20px;
    height: 20px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.section-title-group h3 {
            font-size: 16px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .section-title-group h3 {
            color: var(--gray-800);
}

.edit-btn-compact {
            width: 34px;
    height: 34px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--primary-50);
    color: var(--primary-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.edit-btn-compact:hover {
            background: var(--primary-100);
    transform: scale(1.08) rotate(15deg);
}

.edit-btn-compact svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.section-card-body {
            padding: 22px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.info-row {
            display: flex;
    flex-direction: column;
    gap: 7px;
}

.info-row label {
            font-size: 11px;
    font-weight: 600;
    color: var(--gray-600);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

body.dark-mode .info-row label {
            color: var(--gray-500);
}

/* Input Wrapper com ícones */

.input-wrapper {
            position: relative;
    display: flex;
    align-items: center;
}

.input-wrapper input,
.input-wrapper select {
            flex: 1;
    padding: 11px 14px;
    padding-right: 40px;
    border-radius: var(--radius-md);
    border: 2px solid var(--gray-200);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    background: white;
    color: var(--gray-800);
    transition: all var(--transition-base);
}

body.dark-mode .input-wrapper input,
body.dark-mode .input-wrapper select {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.input-wrapper input:focus,
.input-wrapper select:focus {
            outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

.input-wrapper input:read-only,
.input-wrapper input[readonly] {
            background: var(--gray-50);
    cursor: not-allowed;
    color: var(--gray-600);
}

body.dark-mode .input-wrapper input:read-only,
body.dark-mode .input-wrapper input[readonly] {
            background: var(--gray-200);
}

.input-icon {
            position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
}

.input-icon svg {
            width: 18px;
    height: 18px;
    stroke: var(--gray-400);
    fill: none;
    stroke-width: 2;
}

.input-wrapper:focus-within .input-icon svg {
            stroke: var(--primary-500);
}

/* Copy Button */

.copy-btn {
            position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
    border-radius: var(--radius-sm);
    border: none;
    background: var(--gray-100);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.copy-btn:hover {
            background: var(--primary-50);
    transform: translateY(-50%) scale(1.1);
}

.copy-btn svg {
            width: 16px;
    height: 16px;
    stroke: var(--gray-600);
    fill: none;
    stroke-width: 2;
}

.copy-btn:hover svg {
            stroke: var(--primary-600);
}

.copy-btn.copied {
            background: var(--success-light);
}

.copy-btn.copied svg {
            stroke: var(--success);
}

.info-row-group {
            display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 14px;
}

.info-row-small {
            max-width: 100px;
}

/* CEP Lookup Button */

.input-with-action {
            position: relative;
    display: flex;
}

.input-with-action input {
            flex: 1;
    padding-right: 48px;
}

.action-btn {
            position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    width: 36px;
    height: 36px;
    border-radius: var(--radius-sm);
    border: none;
    background: var(--primary-50);
    color: var(--primary-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.action-btn:hover {
            background: var(--primary-100);
    transform: translateY(-50%) scale(1.08);
}

.action-btn svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.action-btn.loading .search-icon {
            display: none;
}

.action-btn.loading .loading-icon {
            display: block;
    animation: spin 1s linear infinite;
}

@keyframes spin {
            to {
            transform: rotate(360deg); }
}

.section-card-footer {
            padding: 18px 22px;
    border-top: 1px solid var(--gray-100);
    display: flex;
    justify-content: flex-end;
}

body.dark-mode .section-card-footer {
            border-top-color: var(--gray-200);
}

/* Save Button with Loader */

.save-btn-primary {
            position: relative;
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--gradient-primary);
    color: white;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-colored);
    transition: all var(--transition-base);
    overflow: hidden;
}

.save-btn-primary:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.save-btn-primary.loading {
            pointer-events: none;
}

.save-btn-primary.loading .btn-icon,
.save-btn-primary.loading span {
            opacity: 0;
}

.save-btn-primary .btn-icon {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
    transition: opacity 0.2s;
}

.btn-loader {
            position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

.spinner {
            width: 20px;
    height: 20px;
    stroke: white;
    fill: none;
    stroke-width: 3;
    stroke-dasharray: 50;
    stroke-dashoffset: 0;
    animation: spin 1s linear infinite;
}

/* Protected Card */

.protected-card .section-card-header {
            background: linear-gradient(135deg, var(--warning-light) 0%, rgba(254, 243, 199, 0.3) 100%);
}

.protected-badge {
            display: flex;
    align-items: center;
    gap: 6px;
    padding: 5px 12px;
    border-radius: var(--radius-full);
    background: var(--warning);
    color: white;
    font-size: 11px;
    font-weight: 600;
    animation: fadeIn 0.4s ease-out;
}

.protected-badge svg {
            width: 12px;
    height: 12px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.protected-row {
            position: relative;
}

.protection-hint {
            display: flex;
    align-items: center;
    gap: 5px;
    font-size: 10px;
    color: var(--warning-dark);
    font-style: italic;
    margin-top: 4px;
}

.protection-hint svg {
            width: 12px;
    height: 12px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
    flex-shrink: 0;
}

.support-btn-primary {
            display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 20px;
    border-radius: var(--radius-md);
    border: 2px solid var(--warning);
    background: var(--warning-light);
    color: var(--warning-dark);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
    width: 100%;
    justify-content: center;
}

.support-btn-primary:hover {
            background: var(--warning);
    color: white;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.support-btn-primary svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* Preferences Toggle */

.preference-toggle {
            display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 0;
    border-bottom: 1px solid var(--gray-100);
    gap: 14px;
}

.preference-toggle:last-child {
            border-bottom: none;
}

body.dark-mode .preference-toggle {
            border-bottom-color: var(--gray-200);
}

.toggle-icon-wrapper {
            width: 36px;
    height: 36px;
    border-radius: var(--radius-md);
    background: var(--primary-50);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all var(--transition-base);
}

.preference-toggle:hover .toggle-icon-wrapper {
            transform: scale(1.1);
}

.toggle-icon-wrapper svg {
            width: 18px;
    height: 18px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.toggle-info {
            display: flex;
    flex-direction: column;
    gap: 3px;
    flex: 1;
}

.toggle-label {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-800);
}

body.dark-mode .toggle-label {
            color: var(--gray-800);
}

.toggle-description {
            font-size: 12px;
    color: var(--gray-500);
}

.switch-modern {
            position: relative;
    display: inline-block;
    width: 50px;
    height: 28px;
    flex-shrink: 0;
}

.switch-modern input {
            opacity: 0;
    width: 0;
    height: 0;
}

.switch-slider-modern {
            position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--gray-300);
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
}

.switch-slider-modern::before {
            content: '';
    position: absolute;
    height: 22px;
    width: 22px;
    left: 3px;
    bottom: 3px;
    background: white;
    border-radius: 50%;
    transition: all var(--transition-bounce);
    box-shadow: var(--shadow-sm);
}

.switch-modern input:checked + .switch-slider-modern {
            background: var(--gradient-primary);
}

.switch-modern input:checked + .switch-slider-modern::before {
            transform: translateX(22px);
}

.switch-modern:hover .switch-slider-modern {
            box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

/* Security Card */

.security-card .section-icon {
            background: var(--error-light);
}

.security-card .section-icon svg {
            stroke: var(--error-dark);
}

.security-action-btn {
            display: flex;
    align-items: center;
    gap: 14px;
    padding: 16px;
    border-radius: var(--radius-lg);
    border: 2px solid var(--gray-200);
    background: white;
    cursor: pointer;
    transition: all var(--transition-base);
    width: 100%;
    text-align: left;
}

.security-action-btn:hover {
            border-color: var(--primary-300);
    background: var(--primary-50);
    transform: translateX(4px);
}

body.dark-mode .security-action-btn {
            background: var(--gray-100);
    border-color: var(--gray-300);
}

body.dark-mode .security-action-btn:hover {
            background: rgba(75, 129, 201, 0.15);
    border-color: var(--primary-500);
}

.security-action-btn + .security-action-btn {
            margin-top: 12px;
}

.security-action-icon {
            width: 44px;
    height: 44px;
    border-radius: var(--radius-md);
    background: var(--primary-50);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all var(--transition-base);
}

.security-action-btn:hover .security-action-icon {
            transform: scale(1.1) rotate(5deg);
}

.security-action-icon svg {
            width: 22px;
    height: 22px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.security-action-info {
            display: flex;
    flex-direction: column;
    gap: 3px;
    flex: 1;
}

.security-action-title {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-800);
}

body.dark-mode .security-action-title {
            color: var(--gray-800);
}

.security-action-desc {
            font-size: 12px;
    color: var(--gray-500);
}

.security-action-arrow {
            width: 18px;
    height: 18px;
    stroke: var(--gray-400);
    fill: none;
    stroke-width: 2;
    transition: all var(--transition-base);
}

.security-action-btn:hover .security-action-arrow {
            stroke: var(--primary-600);
    transform: translateX(4px);
}

.danger-btn {
            border-color: var(--error-light);
}

.danger-btn:hover {
            border-color: var(--error);
    background: var(--error-light);
}

.danger-btn .security-action-icon {
            background: var(--error-light);
}

.danger-btn .security-action-icon svg {
            stroke: var(--error);
}

.danger-btn .security-action-title {
            color: var(--error-dark);
}

.danger-btn:hover .security-action-arrow {
            stroke: var(--error);
}

/* Modals */

.perfil-modal {
            background: rgba(255, 255, 255, 0.98);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-2xl);
    width: 100%;
    max-width: 500px;
    animation: fadeInUp 0.3s ease-out;
}

body.dark-mode .perfil-modal {
            background: rgba(30, 30, 46, 0.98);
}

.modal-header {
            padding: 20px 24px;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

body.dark-mode .modal-header {
            border-bottom-color: var(--gray-300);
}

.modal-header h3 {
            display: flex;
    align-items: center;
    gap: 10px;
    font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .modal-header h3 {
            color: var(--gray-800);
}

.modal-icon {
            width: 22px;
    height: 22px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.close-modal {
            width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    background: var(--gray-100);
    color: var(--gray-600);
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.close-modal:hover {
            background: var(--error-light);
    color: var(--error);
    transform: rotate(90deg);
}

.modal-body {
            padding: 24px;
}

.form-group {
            margin-bottom: 18px;
}

.form-group:last-child {
            margin-bottom: 0;
}

.form-group label {
            display: block;
    font-size: 12px;
    font-weight: 600;
    color: var(--gray-600);
    margin-bottom: 7px;
}

body.dark-mode .form-group label {
            color: var(--gray-500);
}

.form-group input,
.form-group select,
.form-group textarea {
            width: 100%;
    padding: 11px 14px;
    border-radius: var(--radius-md);
    border: 2px solid var(--gray-200);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    background: white;
    color: var(--gray-800);
    transition: all var(--transition-base);
}

body.dark-mode .form-group input,
body.dark-mode .form-group select,
body.dark-mode .form-group textarea {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
            outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

/* Password Strength */

.password-strength {
            margin-top: 10px;
    padding: 8px 12px;
    border-radius: var(--radius-md);
    background: var(--gray-50);
    display: none;
}

body.dark-mode .password-strength {
            background: rgba(40, 40, 60, 0.5);
}

.password-strength.visible {
            display: block;
}

.strength-bar {
            height: 5px;
    border-radius: var(--radius-full);
    background: var(--gray-200);
    overflow: hidden;
    margin-bottom: 6px;
}

.strength-bar::before {
            content: '';
    display: block;
    height: 100%;
    width: 0%;
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
}

.password-strength.weak .strength-bar::before {
            width: 33%;
    background: var(--error);
}

.password-strength.medium .strength-bar::before {
            width: 66%;
    background: var(--warning);
}

.password-strength.strong .strength-bar::before {
            width: 100%;
    background: var(--success);
}

.strength-text {
            font-size: 11px;
    font-weight: 600;
}

.password-strength.weak .strength-text {
            color: var(--error);
}

.password-strength.weak .strength-text::before {
            content: '⚠️ Fraca - ';
}

.password-strength.medium .strength-text {
            color: var(--warning-dark);
}

.password-strength.medium .strength-text::before {
            content: '⚡ Média - ';
}

.password-strength.strong .strength-text {
            color: var(--success);
}

.password-strength.strong .strength-text::before {
            content: '✓ Forte - ';
}

/* Support Info */

.support-info {
            background: var(--gray-50);
    padding: 18px;
    border-radius: var(--radius-lg);
    margin-bottom: 20px;
}

body.dark-mode .support-info {
            background: rgba(40, 40, 60, 0.5);
}

.support-item {
            padding: 10px 0;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 13px;
    gap: 12px;
}

.support-item:last-child {
            border-bottom: none;
}

body.dark-mode .support-item {
            border-bottom-color: var(--gray-300);
}

.support-item strong {
            display: flex;
    align-items: center;
    gap: 8px;
    color: var(--gray-700);
}

.support-item strong svg {
            width: 16px;
    height: 16px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.support-item span {
            color: var(--gray-600);
    font-weight: 600;
}

body.dark-mode .support-item strong {
            color: var(--gray-600);
}

body.dark-mode .support-item span {
            color: var(--gray-500);
}

.support-form h4 {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-700);
    margin-bottom: 14px;
}

body.dark-mode .support-form h4 {
            color: var(--gray-600);
}

.modal-footer {
            padding: 18px 24px;
    border-top: 1px solid var(--gray-200);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

body.dark-mode .modal-footer {
            border-top-color: var(--gray-300);
}

.btn {
            padding: 10px 20px;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: all var(--transition-base);
}

.btn-primary {
            background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-colored);
}

.btn-primary:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.btn-secondary {
            background: var(--gray-100);
    color: var(--gray-700);
}

.btn-secondary:hover {
            background: var(--gray-200);
}

/* Responsivo */

@media (max-width: 768px) {
            .perfil-hero {
            padding: 30px 25px 25px;
    }

    .perfil-stats {
            grid-template-columns: 1fr;
    }

    .perfil-content-grid {
            grid-template-columns: 1fr;
    }

    .section-card-body {
            padding: 18px;
    }

    .info-row-group {
            grid-template-columns: 1fr;
    }
}
/* ========================================
   TERRA IA - LAYOUT FIXO E CENTRALIZADO
   ======================================== */

/* === RESET E CONFIGURAÇÕES BASE === */
#terra-ia {
    display: none !important;
}

#terra-ia.active {
    display: block !important;
}

/* Container principal */
#terra-ia.content-section {
    padding: 0;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(135deg, #f0fdf4 0%, #ffffff 100%);
}

body.dark-mode #terra-ia.content-section {
    background: linear-gradient(135deg, #1a1f2e 0%, #0f1419 100%);
}

/* === HEADER COMPACTO === */
.terra-ia-header {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    padding: 20px 40px;
    box-shadow: 0 4px 20px rgba(16, 185, 129, 0.2);
    position: relative;
    overflow: hidden;
}

.terra-ia-header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    animation: headerShine 10s ease-in-out infinite;
}

@keyframes headerShine {
    0%, 100% { transform: translate(0, 0); opacity: 0.3; }
    50% { transform: translate(10%, 10%); opacity: 0.5; }
}

.terra-ia-header .header-content {
    display: flex;
    align-items: center;
    gap: 20px;
    position: relative;
    z-index: 2;
}

.terra-ia-header .header-icon.terra {
    width: 52px;
    height: 52px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.1),
        inset 0 1px 2px rgba(255, 255, 255, 0.3);
}

.terra-ia-header .header-icon.terra svg {
    width: 28px;
    height: 28px;
    stroke: white;
    stroke-width: 2.5;
    fill: none;
}

.terra-ia-header .header-text h2 {
    color: white;
    font-size: 24px;
    margin: 0 0 3px 0;
    font-weight: 800;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.terra-ia-header .header-text p {
    color: rgba(255, 255, 255, 0.95);
    font-size: 13px;
    margin: 0;
    font-weight: 500;
}

.terra-ia-header .header-badge.terra {
    background: rgba(255, 255, 255, 0.25);
    color: white;
    padding: 7px 16px;
    font-size: 11px;
    font-weight: 800;
    letter-spacing: 1px;
    border-radius: 18px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* === CHAT WRAPPER FIXO E CENTRALIZADO === */
.terra-chat-wrapper {
    display: flex;
    height: 75vh;
    max-height: 800px;
    background: white;
    border-radius: 20px;
    margin: 20px auto;
    max-width: 1600px;
    overflow: hidden;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.12);
}

body.dark-mode .terra-chat-wrapper {
    background: #1e2433;
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.4);
}

/* === SIDEBAR FIXA À ESQUERDA === */
.terra-sidebar {
    width: 280px;
    background: #f9fafb;
    border-right: 1px solid #e5e7eb;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
}

body.dark-mode .terra-sidebar {
    background: #151a26;
    border-right-color: #2a3142;
}

.terra-sidebar-header {
    padding: 20px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    justify-content: center;
}

body.dark-mode .terra-sidebar-header {
    border-bottom-color: #2a3142;
}

.terra-logo-sidebar {
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo-icon-sidebar {
    font-size: 24px;
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.logo-text-sidebar {
    font-size: 16px;
    font-weight: 800;
    color: #10b981;
}

/* Seção de conversas - scrollável */
.conversations-section {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
}

.conversations-section::-webkit-scrollbar {
    width: 6px;
}

.conversations-section::-webkit-scrollbar-track {
    background: transparent;
}

.conversations-section::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 10px;
}

.conversations-section::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

body.dark-mode .conversations-section::-webkit-scrollbar-thumb {
    background: #374151;
}

body.dark-mode .conversations-section::-webkit-scrollbar-thumb:hover {
    background: #4b5563;
}

.conversations-section h3 {
    font-size: 12px;
    font-weight: 700;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 15px 10px;
}

.conversations-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

/* Conversation item com botão de deletar */
.conversation-item {
    padding: 12px 15px;
    border-radius: 12px;
    background: white;
    border: 1px solid #e5e7eb;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
}

body.dark-mode .conversation-item {
    background: #1e2433;
    border-color: #2a3142;
}

.conversation-item:hover {
    background: #f0fdf4;
    border-color: #10b981;
}

body.dark-mode .conversation-item:hover {
    background: #1f2937;
}

.conversation-item.active {
    background: #d1fae5;
    border-color: #10b981;
}

body.dark-mode .conversation-item.active {
    background: #064e3b;
}

/* Conteúdo da conversa */
.conversation-content {
    flex: 1;
    min-width: 0;
}

.conversation-title {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

body.dark-mode .conversation-title {
    color: #f9fafb;
}

.conversation-preview {
    font-size: 12px;
    color: #6b7280;
}

/* Botão de deletar conversa */
.delete-conversation-btn {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    opacity: 0;
    transition: all 0.3s;
    flex-shrink: 0;
}

.conversation-item:hover .delete-conversation-btn {
    opacity: 1;
}

.delete-conversation-btn:hover {
    background: #fee2e2;
    transform: scale(1.1);
}

body.dark-mode .delete-conversation-btn:hover {
    background: #7f1d1d;
}

.delete-conversation-btn svg {
    width: 18px;
    height: 18px;
    stroke: #ef4444;
    fill: none;
    stroke-width: 2;
}

.delete-conversation-btn:hover svg {
    stroke: #dc2626;
    animation: shake 0.5s ease;
}

@keyframes shake {
    0%, 100% { transform: rotate(0deg); }
    25% { transform: rotate(-10deg); }
    75% { transform: rotate(10deg); }
}

/* Footer da sidebar - botão mais alto */
.sidebar-footer-terra {
    padding: 20px 15px;
    border-top: 1px solid #e5e7eb;
    margin-top: auto;
}

body.dark-mode .sidebar-footer-terra {
    border-top-color: #2a3142;
}

.new-chat-mobile {
    width: 100%;
    padding: 14px 20px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 14px;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.new-chat-mobile:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(16, 185, 129, 0.5);
}

.new-chat-mobile:active {
    transform: translateY(0);
}

/* === ÁREA PRINCIPAL CENTRALIZADA === */
.terra-chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Chat messages */
.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 40px;
    background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%);
}

body.dark-mode .chat-messages {
    background: linear-gradient(180deg, #1e2433 0%, #151a26 100%);
}

/* Scrollbar */
.chat-messages::-webkit-scrollbar {
    width: 8px;
}

.chat-messages::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 10px;
}

.chat-messages::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #10b981 0%, #059669 100%);
    border-radius: 10px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #059669 0%, #047857 100%);
}

/* === WELCOME SCREEN CENTRALIZADA === */
.welcome-screen {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.welcome-content {
    max-width: 800px;
    text-align: center;
}

/* === LOGO PLANETA TERRA === */
.terra-avatar-big {
    width: 140px;
    height: 140px;
    margin: 0 auto 35px;
    position: relative;
    animation: float 8s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-18px); }
}

.terra-globe {
    width: 140px;
    height: 140px;
    background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
    border-radius: 50%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 
        0 15px 50px rgba(16, 185, 129, 0.4),
        inset 0 -20px 40px rgba(0, 0, 0, 0.2),
        inset 0 10px 30px rgba(255, 255, 255, 0.3);
    animation: rotate 30s linear infinite;
}

.terra-globe::before {
    content: '';
    position: absolute;
    top: 15%;
    left: 20%;
    width: 50%;
    height: 50%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
    border-radius: 50%;
}

.globe-emoji {
    font-size: 85px;
    position: relative;
    z-index: 10;
    animation: rotate 35s linear infinite reverse;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
}

.meridian {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    border: 2px solid rgba(255, 255, 255, 0.15);
    border-radius: 50%;
}

.meridian:nth-child(2) {
    transform: translate(-50%, -50%) rotate(60deg);
}

.meridian:nth-child(3) {
    transform: translate(-50%, -50%) rotate(120deg);
}

.equator {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: rgba(255, 255, 255, 0.15);
}

/* === TEXTOS === */
.welcome-content h2 {
    font-size: 38px;
    font-weight: 900;
    margin-bottom: 18px;
    background: linear-gradient(135deg, #1f2937 0%, #10b981 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

body.dark-mode .welcome-content h2 {
    background: linear-gradient(135deg, #ffffff 0%, #10b981 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.welcome-content > p {
    font-size: 16px;
    color: #6b7280;
    line-height: 1.6;
    max-width: 550px;
    margin: 0 auto 40px;
    font-weight: 500;
}

body.dark-mode .welcome-content > p {
    color: #9ca3af;
}

/* === TÓPICOS SUGERIDOS === */
.suggested-topics {
    margin-top: 40px;
}

.suggested-topics h3 {
    font-size: 12px;
    font-weight: 800;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 20px;
}

.topics-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 14px;
    max-width: 650px;
    margin: 0 auto;
}

.topic-btn {
    padding: 20px 18px;
    border-radius: 14px;
    border: 2px solid #e5e7eb;
    background: white;
    cursor: pointer;
    text-align: left;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

body.dark-mode .topic-btn {
    background: #1e2433;
    border-color: #2a3142;
}

.topic-btn:hover {
    border-color: #10b981;
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(16, 185, 129, 0.2);
}

.topic-icon {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 14px;
    box-shadow: 0 5px 18px rgba(16, 185, 129, 0.3);
    transition: all 0.4s;
}

.topic-btn:hover .topic-icon {
    transform: scale(1.1) rotate(-5deg);
}

.topic-icon svg {
    width: 26px;
    height: 26px;
    stroke: white;
    fill: none;
    stroke-width: 2.5;
}

.topic-text {
    font-size: 14px;
    font-weight: 700;
    color: #1f2937;
    line-height: 1.4;
}

body.dark-mode .topic-text {
    color: #f9fafb;
}

.topic-btn:hover .topic-text {
    color: #10b981;
}

/* === MENSAGENS CENTRALIZADAS === */
.messages-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    max-width: 900px;
    width: 100%;
    margin: 0 auto;
}

.message {
    display: flex;
    gap: 14px;
    animation: slideIn 0.5s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.user {
    flex-direction: row-reverse;
}

.message-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.message.assistant .message-avatar {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.message.assistant .message-avatar::before {
    content: '🌍';
}

.message.user .message-avatar {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

.message.user .message-avatar::before {
    content: '👤';
}

.message-content {
    padding: 14px 18px;
    max-width: 70%;
    border-radius: 18px;
    line-height: 1.6;
    font-size: 14px;
    font-weight: 500;
}

.message.user .message-content {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border-radius: 18px 18px 4px 18px;
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
}

.message.assistant .message-content {
    background: white;
    color: #1f2937;
    border: 2px solid #e5e7eb;
    border-radius: 18px 18px 18px 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

body.dark-mode .message.assistant .message-content {
    background: #1e2433;
    border-color: #2a3142;
    color: #f9fafb;
}

.message-time {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 6px;
}

.message.assistant .message-time {
    color: #9ca3af;
}

/* Typing Indicator */
.typing-indicator {
    animation: slideIn 0.5s ease-out;
}

.typing-indicator .message-content {
    display: flex;
    gap: 6px;
    padding: 18px 22px;
}

.typing-dots {
    display: flex;
    gap: 6px;
}

.typing-dot {
    width: 9px;
    height: 9px;
    border-radius: 50%;
    background: #10b981;
    animation: bounce 1.4s infinite ease-in-out;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes bounce {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
    }
    30% {
        transform: translateY(-8px);
        opacity: 1;
    }
}

/* === INPUT AREA CENTRALIZADA === */
.chat-input-area {
    padding: 20px 40px;
    background: white;
    border-top: 2px solid #e5e7eb;
    flex-shrink: 0;
}

body.dark-mode .chat-input-area {
    background: #1e2433;
    border-top-color: #2a3142;
}

.input-container {
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    gap: 12px;
    align-items: flex-end;
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 18px;
    padding: 10px 10px 10px 18px;
    transition: all 0.3s;
}

body.dark-mode .input-container {
    background: #151a26;
    border-color: #2a3142;
}

.input-container:focus-within {
    border-color: #10b981;
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
}

#messageInput {
    flex: 1;
    border: none;
    background: transparent;
    outline: none;
    font-size: 14px;
    font-family: inherit;
    resize: none;
    max-height: 100px;
    min-height: 24px;
    color: #1f2937;
    font-weight: 500;
    line-height: 1.5;
}

body.dark-mode #messageInput {
    color: #f9fafb;
}

#messageInput::placeholder {
    color: #9ca3af;
}

.send-btn {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    border: none;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.send-btn:hover:not(:disabled) {
    transform: scale(1.08);
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

.send-btn:active:not(:disabled) {
    transform: scale(0.95);
}

.send-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    box-shadow: none;
}

.send-icon::before {
    content: '➤';
    font-size: 20px;
    color: white;
    transform: rotate(45deg);
    display: block;
    font-weight: 900;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

.input-footer {
    text-align: center;
    margin-top: 10px;
    font-size: 12px;
    color: #9ca3af;
    font-weight: 500;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

/* === RESPONSIVO === */
@media (max-width: 1400px) {
    .terra-chat-wrapper {
        margin: 15px 20px;
    }
}

@media (max-width: 1024px) {
    .terra-chat-wrapper {
        height: 70vh;
        margin: 15px;
    }
    
    .chat-messages {
        padding: 30px 24px;
    }
}

@media (max-width: 768px) {
    .terra-sidebar {
        display: none;
    }
    
    .terra-chat-wrapper {
        margin: 10px;
        border-radius: 16px;
        height: 75vh;
    }
    
    .chat-messages {
        padding: 24px 16px;
    }
    
    .topics-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .welcome-content h2 {
        font-size: 30px;
    }
    
    .terra-avatar-big {
        width: 110px;
        height: 110px;
    }
    
    .terra-globe {
        width: 110px;
        height: 110px;
    }
    
    .globe-emoji {
        font-size: 65px;
    }
    
    .message-content {
        max-width: 85%;
        font-size: 14px;
    }
    
    .chat-input-area {
        padding: 16px;
    }
    
    .input-container {
        padding: 8px 8px 8px 14px;
    }
}

@media (max-width: 480px) {
    .terra-ia-header {
        padding: 16px 20px;
    }
    
    .terra-chat-wrapper {
        height: 80vh;
    }
    
    .welcome-content h2 {
        font-size: 26px;
    }
    
    .welcome-content > p {
        font-size: 14px;
    }
    
    .send-btn {
        width: 40px;
        height: 40px;
    }
}

/* ========================================
   PERFIL - DESIGN OTIMIZADO
   ======================================== */

.perfil-header .header-icon {
            background: var(--gradient-primary);
}

/* Card Principal do Perfil */

.perfil-main-card {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
    margin-bottom: 25px;
    animation: fadeInUp 0.4s ease-out;
}

body.dark-mode .perfil-main-card {
            background: rgba(30, 30, 46, 0.95);
}

/* Hero Section */

.perfil-hero {
            position: relative;
    padding: 40px 35px 30px;
}

.perfil-hero-bg {
            position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100%;
    background: var(--gradient-primary);
    opacity: 0.08;
}

body.dark-mode .perfil-hero-bg {
            opacity: 0.12;
}

.perfil-hero-content {
            position: relative;
    display: flex;
    align-items: center;
    gap: 25px;
}

@media (max-width: 600px) {
            .perfil-hero-content {
            flex-direction: column;
        text-align: center;
    }
}

.profile-avatar-wrapper {
            position: relative;
    flex-shrink: 0;
}

.avatar-circle {
            width: 90px;
    height: 90px;
    border-radius: 50%;
    background: var(--gradient-primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 36px;
    font-weight: 700;
    color: white;
    box-shadow: var(--shadow-colored);
    transition: all var(--transition-base);
    border: 4px solid white;
}

body.dark-mode .avatar-circle {
            border-color: var(--gray-100);
}

.profile-avatar-wrapper:hover .avatar-circle {
            transform: scale(1.05);
    box-shadow: var(--shadow-colored-hover);
}

.change-avatar-btn {
            position: absolute;
    bottom: 2px;
    right: 2px;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: white;
    border: 3px solid var(--primary-500);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-md);
}

.change-avatar-btn:hover {
            transform: scale(1.1);
    background: var(--primary-50);
}

.change-avatar-btn svg {
            width: 16px;
    height: 16px;
    stroke: var(--primary-600);
    fill: none;
    stroke-width: 2;
}

.profile-info h2 {
            font-size: 26px;
    font-weight: 700;
    color: var(--gray-800);
    margin-bottom: 8px;
}

body.dark-mode .profile-info h2 {
            color: var(--gray-800);
}

.status-badge-perfil {
            display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 14px;
    border-radius: var(--radius-full);
    font-size: 12px;
    font-weight: 600;
    background: var(--success-light);
    color: var(--success-dark);
}

.status-dot {
            width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--success);
    animation: pulse 2s ease-in-out infinite;
}

/* Stats */

.perfil-stats {
            display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1px;
    background: var(--gray-200);
    border-top: 1px solid var(--gray-200);
}

@media (max-width: 900px) {
            .perfil-stats {
            grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 500px) {
            .perfil-stats {
            grid-template-columns: 1fr;
    }
}

body.dark-mode .perfil-stats {
            background: var(--gray-300);
    border-top-color: var(--gray-300);
}

.perfil-stat-item {
            display: flex;
    align-items: center;
    gap: 12px;
    padding: 18px 20px;
    background: white;
    transition: all var(--transition-base);
}

.perfil-stat-item:hover {
            background: var(--gray-50);
}

body.dark-mode .perfil-stat-item {
            background: var(--gray-100);
}

body.dark-mode .perfil-stat-item:hover {
            background: var(--gray-200);
}

.stat-icon {
            font-size: 24px;
    flex-shrink: 0;
}

.stat-content {
            display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
}

.stat-label {
            font-size: 11px;
    color: var(--gray-500);
    font-weight: 500;
}

.stat-value {
            font-size: 15px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .stat-value {
            color: var(--gray-800);
}

/* Grid Principal */

.perfil-content-grid {
            display: grid;
    grid-template-columns: 1.3fr 1fr;
    gap: 25px;
}

@media (max-width: 1100px) {
            .perfil-content-grid {
            grid-template-columns: 1fr;
    }
}

.perfil-left-column,
.perfil-right-column {
            display: flex;
    flex-direction: column;
    gap: 20px;
}

/* Section Cards */

.perfil-section-card {
            background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    transition: all var(--transition-base);
    animation: fadeInUp 0.5s ease-out backwards;
}

.perfil-section-card:hover {
            box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
}

body.dark-mode .perfil-section-card {
            background: rgba(30, 30, 46, 0.95);
}

.section-card-header {
            padding: 18px 22px;
    border-bottom: 1px solid var(--gray-100);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

body.dark-mode .section-card-header {
            border-bottom-color: var(--gray-200);
}

.section-title-group {
            display: flex;
    align-items: center;
    gap: 12px;
}

.section-icon {
            width: 36px;
    height: 36px;
    border-radius: var(--radius-md);
    background: var(--primary-50);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
}

body.dark-mode .section-icon {
            background: rgba(75, 129, 201, 0.15);
}

.section-title-group h3 {
            font-size: 16px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .section-title-group h3 {
            color: var(--gray-800);
}

.edit-btn-compact {
            width: 34px;
    height: 34px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--primary-50);
    color: var(--primary-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.edit-btn-compact:hover {
            background: var(--primary-100);
    transform: scale(1.08);
}

.edit-btn-compact svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.section-card-body {
            padding: 22px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.info-row {
            display: flex;
    flex-direction: column;
    gap: 7px;
}

.info-row label {
            font-size: 11px;
    font-weight: 600;
    color: var(--gray-600);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

body.dark-mode .info-row label {
            color: var(--gray-500);
}

.info-row input,
.info-row select {
            padding: 11px 14px;
    border-radius: var(--radius-md);
    border: 2px solid var(--gray-200);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    background: white;
    color: var(--gray-800);
    transition: all var(--transition-base);
}

body.dark-mode .info-row input,
body.dark-mode .info-row select {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.info-row input:focus,
.info-row select:focus {
            outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

.info-row input:read-only,
.info-row input[readonly] {
            background: var(--gray-50);
    cursor: not-allowed;
    color: var(--gray-600);
}

body.dark-mode .info-row input:read-only,
body.dark-mode .info-row input[readonly] {
            background: var(--gray-200);
}

.info-row-group {
            display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 14px;
}

.info-row-small {
            max-width: 100px;
}

.input-with-action {
            position: relative;
    display: flex;
}

.input-with-action input {
            flex: 1;
    padding-right: 48px;
}

.action-btn {
            position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    width: 34px;
    height: 34px;
    border-radius: var(--radius-sm);
    border: none;
    background: var(--primary-50);
    color: var(--primary-600);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.action-btn:hover {
            background: var(--primary-100);
    transform: translateY(-50%) scale(1.05);
}

.action-btn svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.section-card-footer {
            padding: 18px 22px;
    border-top: 1px solid var(--gray-100);
    display: flex;
    justify-content: flex-end;
}

body.dark-mode .section-card-footer {
            border-top-color: var(--gray-200);
}

.save-btn-primary {
            display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 20px;
    border-radius: var(--radius-md);
    border: none;
    background: var(--gradient-primary);
    color: white;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-colored);
    transition: all var(--transition-base);
}

.save-btn-primary:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.save-btn-primary svg {
            width: 16px;
    height: 16px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* Protected Card */

.protected-card .section-card-header {
            background: linear-gradient(135deg, var(--warning-light) 0%, rgba(254, 243, 199, 0.3) 100%);
}

.protected-badge {
            display: flex;
    align-items: center;
    gap: 6px;
    padding: 5px 12px;
    border-radius: var(--radius-full);
    background: var(--warning);
    color: white;
    font-size: 11px;
    font-weight: 600;
}

.protected-badge svg {
            width: 12px;
    height: 12px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

.protected-row {
            position: relative;
}

.protection-hint {
            font-size: 10px;
    color: var(--warning-dark);
    font-style: italic;
    margin-top: 2px;
}

.support-btn-primary {
            display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 20px;
    border-radius: var(--radius-md);
    border: 2px solid var(--warning);
    background: var(--warning-light);
    color: var(--warning-dark);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
    width: 100%;
    justify-content: center;
}

.support-btn-primary:hover {
            background: var(--warning);
    color: white;
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.support-btn-primary svg {
            width: 18px;
    height: 18px;
    stroke: currentColor;
    fill: none;
    stroke-width: 2;
}

/* Preferences Toggle */

.preference-toggle {
            display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 14px 0;
    border-bottom: 1px solid var(--gray-100);
}

.preference-toggle:last-child {
            border-bottom: none;
}

body.dark-mode .preference-toggle {
            border-bottom-color: var(--gray-200);
}

.toggle-info {
            display: flex;
    flex-direction: column;
    gap: 3px;
    flex: 1;
}

.toggle-label {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-800);
}

body.dark-mode .toggle-label {
            color: var(--gray-800);
}

.toggle-description {
            font-size: 12px;
    color: var(--gray-500);
}

.switch-modern {
            position: relative;
    display: inline-block;
    width: 50px;
    height: 28px;
    flex-shrink: 0;
}

.switch-modern input {
            opacity: 0;
    width: 0;
    height: 0;
}

.switch-slider-modern {
            position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--gray-300);
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
}

.switch-slider-modern::before {
            content: '';
    position: absolute;
    height: 22px;
    width: 22px;
    left: 3px;
    bottom: 3px;
    background: white;
    border-radius: 50%;
    transition: all var(--transition-bounce);
    box-shadow: var(--shadow-sm);
}

.switch-modern input:checked + .switch-slider-modern {
            background: var(--gradient-primary);
}

.switch-modern input:checked + .switch-slider-modern::before {
            transform: translateX(22px);
}

.switch-modern:hover .switch-slider-modern {
            box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

/* Security Card */

.security-card .section-icon {
            background: var(--error-light);
}

.security-action-btn {
            display: flex;
    align-items: center;
    gap: 14px;
    padding: 16px;
    border-radius: var(--radius-lg);
    border: 2px solid var(--gray-200);
    background: white;
    cursor: pointer;
    transition: all var(--transition-base);
    width: 100%;
    text-align: left;
}

.security-action-btn:hover {
            border-color: var(--primary-300);
    background: var(--primary-50);
    transform: translateX(4px);
}

body.dark-mode .security-action-btn {
            background: var(--gray-100);
    border-color: var(--gray-300);
}

body.dark-mode .security-action-btn:hover {
            background: rgba(75, 129, 201, 0.15);
    border-color: var(--primary-500);
}

.security-action-btn + .security-action-btn {
            margin-top: 12px;
}

.security-action-icon {
            font-size: 28px;
    flex-shrink: 0;
}

.security-action-info {
            display: flex;
    flex-direction: column;
    gap: 3px;
    flex: 1;
}

.security-action-title {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-800);
}

body.dark-mode .security-action-title {
            color: var(--gray-800);
}

.security-action-desc {
            font-size: 12px;
    color: var(--gray-500);
}

.security-action-arrow {
            width: 18px;
    height: 18px;
    stroke: var(--gray-400);
    fill: none;
    stroke-width: 2;
    transition: all var(--transition-base);
}

.security-action-btn:hover .security-action-arrow {
            stroke: var(--primary-600);
    transform: translateX(4px);
}

.danger-btn {
            border-color: var(--error-light);
}

.danger-btn:hover {
            border-color: var(--error);
    background: var(--error-light);
}

.danger-btn .security-action-title {
            color: var(--error-dark);
}

.danger-btn:hover .security-action-arrow {
            stroke: var(--error);
}

/* Modals */

.perfil-modal {
            background: rgba(255, 255, 255, 0.98);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-2xl);
    width: 100%;
    max-width: 500px;
    animation: fadeInUp 0.3s ease-out;
}

body.dark-mode .perfil-modal {
            background: rgba(30, 30, 46, 0.98);
}

.modal-header {
            padding: 20px 24px;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    justify-content: space-between;
    align-items: center;

}

body.dark-mode .modal-header {
            border-bottom-color: var(--gray-300);
}

.modal-header h3 {
            font-size: 18px;
    font-weight: 700;
    color: var(--gray-800);
}

body.dark-mode .modal-header h3 {
            color: var(--gray-800);
}

.close-modal {
            width: 32px;
    height: 32px;
    border-radius: 50%;
    border: none;
    background: var(--gray-100);
    color: var(--gray-600);
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
}

.close-modal:hover {
            background: var(--error-light);
    color: var(--error);
    transform: rotate(90deg);
}

.modal-body {
            padding: 24px;
}

.form-group {
            margin-bottom: 18px;
}

.form-group:last-child {
            margin-bottom: 0;
}

.form-group label {
            display: block;
    font-size: 12px;
    font-weight: 600;
    color: var(--gray-600);
    margin-bottom: 7px;
}

body.dark-mode .form-group label {
            color: var(--gray-500);
}

.form-group input,
.form-group select,
.form-group textarea {
            width: 100%;
    padding: 11px 14px;
    border-radius: var(--radius-md);
    border: 2px solid var(--gray-200);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    background: white;
    color: var(--gray-800);
    transition: all var(--transition-base);
}

body.dark-mode .form-group input,
body.dark-mode .form-group select,
body.dark-mode .form-group textarea {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
            outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 3px rgba(75, 129, 201, 0.12);
}

.password-strength {
            height: 5px;
    border-radius: var(--radius-full);
    background: var(--gray-200);
    margin-top: 8px;
    overflow: hidden;
}

.password-strength::before {
            content: '';
    display: block;
    height: 100%;
    width: 0%;
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
}

.password-strength.weak::before {
            width: 33%;
    background: var(--error);
}

.password-strength.medium::before {
            width: 66%;
    background: var(--warning);
}

.password-strength.strong::before {
            width: 100%;
    background: var(--success);
}

.support-info {
            background: var(--gray-50);
    padding: 18px;
    border-radius: var(--radius-lg);
    margin-bottom: 20px;
}

body.dark-mode .support-info {
            background: rgba(40, 40, 60, 0.5);
}

.support-item {
            padding: 10px 0;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    justify-content: space-between;
    font-size: 13px;
}

.support-item:last-child {
            border-bottom: none;
}

body.dark-mode .support-item {
            border-bottom-color: var(--gray-300);
}

.support-item strong {
            color: var(--gray-700);
}

.support-item span {
            color: var(--gray-600);
}

body.dark-mode .support-item strong {
            color: var(--gray-600);
}

body.dark-mode .support-item span {
            color: var(--gray-500);
}

.support-form h4 {
            font-size: 14px;
    font-weight: 600;
    color: var(--gray-700);
    margin-bottom: 14px;
}

body.dark-mode .support-form h4 {
            color: var(--gray-600);
}

.modal-footer {
            padding: 18px 24px;
    border-top: 1px solid var(--gray-200);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
}

body.dark-mode .modal-footer {
            border-top-color: var(--gray-300);
}

.btn {
            padding: 10px 20px;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    border: none;
    transition: all var(--transition-base);
}

.btn-primary {
            background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-colored);
}

.btn-primary:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.btn-secondary {
            background: var(--gray-100);
    color: var(--gray-700);
}

.btn-secondary:hover {
            background: var(--gray-200);
}

/* Responsivo */

@media (max-width: 768px) {
            .perfil-hero {
            padding: 30px 25px 25px;
    }

    .perfil-stats {
            grid-template-columns: 1fr;
    }

    .perfil-content-grid {
            grid-template-columns: 1fr;
    }

    .section-card-body {
            padding: 18px;
    }

    .info-row-group {
            grid-template-columns: 1fr;
    }
}
/* ========================================
   ANIMAÇÕES EXTRAS
   ======================================== */

@keyframes pulse {
            0%, 100% {
            opacity: 1;
        transform: scale(1);
    }
    50% {
            opacity: 0.7;
        transform: scale(1.1);
    }
}

@keyframes fadeIn {
            from {
            opacity: 0;
        transform: translateY(-10px);
    }
    to {
            opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
            from {
            opacity: 0;
        transform: translateY(30px);
    }
    to {
            opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInRight {
            from {
            transform: translateX(400px);
        opacity: 0;
    }
    to {
            transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
            from {
            transform: translateX(0);
        opacity: 1;
    }
    to {
            transform: translateX(400px);
        opacity: 0;
    }
}

@keyframes shake {
            0%, 100% {
            transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% {
            transform: translateX(-5px); }
    20%, 40%, 60%, 80% {
            transform: translateX(5px); }
}

@keyframes spin {
            to {
            transform: rotate(360deg); }
}

.shake {
            animation: shake 0.5s;
}

/* Smooth transitions para todos os elementos interativos */
.perfil-section-card,
.save-btn-primary,
.security-action-btn,
.preference-toggle,
.input-wrapper input,
.input-wrapper select {
            will-change: transform;
}
/* Botão de Remover Avatar */

.remove-avatar-btn {
            position: absolute;
    bottom: 2px;
    left: 2px;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    background: white;
    border: 3px solid var(--error);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
    box-shadow: var(--shadow-md);
    opacity: 0;
    transform: scale(0.8);
}

.profile-avatar-wrapper:hover .remove-avatar-btn {
            opacity: 1;
    transform: scale(1);
}

.remove-avatar-btn:hover {
            transform: scale(1.1);
    background: var(--error-light);
}

.remove-avatar-btn svg {
            width: 16px;
    height: 16px;
    stroke: var(--error);
    fill: none;
    stroke-width: 2;
}

.remove-avatar-btn:hover svg {
            stroke: var(--error-dark);
}

/* Avatar com imagem de fundo */

.avatar-circle {
            background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}/* ========================================
   SEÇÃO DE DISPOSITIVOS ESP - OTIMIZADO
   ======================================== */

.section-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    backdrop-filter: blur(30px) saturate(180%);
    padding: 28px 35px;
    border-radius: var(--radius-xl);
    margin-bottom: 30px;
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: fadeInDown 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.section-header::before {
            content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.8s ease;
}

.section-header:hover::before {
            left: 100%;
}

body.dark-mode .section-header {
            background: linear-gradient(135deg, rgba(39, 39, 42, 0.95) 0%, rgba(30, 30, 46, 0.9) 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.05);
}

.header-left {
            display: flex;
    align-items: center;
    gap: 18px;
}

.header-icon {
            position: relative;
    overflow: hidden;
}

.header-icon::after {
            content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.section-header:hover .header-icon::after {
            width: 200%;
    height: 200%;
}

.btn-primary {
            background: var(--gradient-primary);
    color: white;
    border: none;
    padding: 14px 28px;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: var(--shadow-colored);
    font-family: 'Inter', sans-serif;
    position: relative;
    overflow: hidden;
}

.btn-primary::before {
            content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.btn-primary:hover::before {
            width: 300px;
    height: 300px;
}

.btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
    box-shadow: var(--shadow-colored-hover), 0 0 20px rgba(75, 129, 201, 0.3);
}

.btn-primary:active {
            transform: translateY(-1px) scale(0.98);
}

.btn-primary svg {
            width: 18px;
    height: 18px;
    stroke: white;
    fill: none;
    stroke-width: 2.5;
    transition: transform 0.3s ease;
}

.btn-primary:hover svg {
            transform: rotate(90deg);
}

/* Estatísticas Otimizadas */
.stats-grid {
            display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 22px;
    margin-bottom: 30px;
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.1s backwards;
}

.stat-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.92) 100%);
    backdrop-filter: blur(20px) saturate(180%);
    padding: 28px;
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-md);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    border-left: 4px solid var(--primary-500);
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.stat-card::before {
            content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(75, 129, 201, 0.08) 0%, transparent 70%);
    transition: transform 0.6s ease;
    transform: scale(0);
}

.stat-card:hover::before {
            transform: scale(1);
}

body.dark-mode .stat-card {
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.98) 0%, rgba(30, 30, 46, 0.92) 100%);
}

.stat-card:hover {
            transform: translateY(-8px) scale(1.02);
    box-shadow: var(--shadow-xl), 0 0 30px rgba(75, 129, 201, 0.15);
}

.stat-card.success {
            border-left-color: var(--success); }
.stat-card.success:hover {
            box-shadow: var(--shadow-xl), 0 0 30px rgba(16, 185, 129, 0.15); }
.stat-card.warning {
            border-left-color: var(--warning); }
.stat-card.warning:hover {
            box-shadow: var(--shadow-xl), 0 0 30px rgba(245, 158, 11, 0.15); }
.stat-card.info {
            border-left-color: var(--info); }
.stat-card.info:hover {
            box-shadow: var(--shadow-xl), 0 0 30px rgba(59, 130, 246, 0.15); }

.stat-header {
            display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 15px;
}

.stat-icon {
            width: 48px;
    height: 48px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
}

.stat-card:hover .stat-icon {
            transform: scale(1.15) rotate(-5deg);
}

.stat-card.primary .stat-icon {
            background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%);
    box-shadow: 0 4px 12px rgba(75, 129, 201, 0.2);
}
.stat-card.success .stat-icon {
            background: linear-gradient(135deg, var(--success-light) 0%, rgba(16, 185, 129, 0.15) 100%);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
}
.stat-card.warning .stat-icon {
            background: linear-gradient(135deg, var(--warning-light) 0%, rgba(245, 158, 11, 0.15) 100%);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);
}
.stat-card.info .stat-icon {
            background: linear-gradient(135deg, var(--info-light) 0%, rgba(59, 130, 246, 0.15) 100%);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
}

.stat-info h3 {
            font-size: 13px;
    color: var(--gray-500);
    font-weight: 500;
    margin-bottom: 5px;
    letter-spacing: 0.3px;
}

body.dark-mode .stat-info h3 {
            color: var(--gray-500);
}

.stat-value {
            font-size: 36px;
    font-weight: 800;
    color: var(--gray-800);
    transition: all 0.3s ease;
}

.stat-card:hover .stat-value {
            transform: scale(1.05);
}

body.dark-mode .stat-value {
            color: var(--gray-800);
}

/* Layout Principal Otimizado */
.main-layout {
            display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 28px;
    margin-bottom: 30px;
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.2s backwards;
}

.section-box {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
    backdrop-filter: blur(30px) saturate(180%);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.5);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.section-box:hover {
            box-shadow: var(--shadow-xl);
    transform: translateY(-2px);
}

body.dark-mode .section-box {
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.98) 0%, rgba(30, 30, 46, 0.95) 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

.section-title {
            background: var(--gradient-primary);
    color: white;
    padding: 22px 28px;
    font-size: 18px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 12px;
    position: relative;
    overflow: hidden;
}

.section-title::before {
            content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
            0%, 100% {
            left: -100%; }
    50% {
            left: 100%; }
}

.section-title svg {
            width: 22px;
    height: 22px;
    stroke: white;
    fill: none;
    stroke-width: 2;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

.section-content {
            padding: 28px;
}

/* Lista de Dispositivos Otimizada */
.devices-list {
            display: flex;
    flex-direction: column;
    gap: 18px;
    max-height: 520px;
    overflow-y: auto;
    padding-right: 12px;
}

.devices-list::-webkit-scrollbar {
            width: 8px;
}

.devices-list::-webkit-scrollbar-track {
            background: var(--gray-100);
    border-radius: 10px;
}

.devices-list::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--primary-400) 0%, var(--primary-600) 100%);
    border-radius: 10px;
    transition: background 0.3s ease;
}

.devices-list::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--primary-500) 0%, var(--primary-700) 100%);
}

.device-card {
            background: linear-gradient(135deg, var(--gray-50) 0%, rgba(255, 255, 255, 0.8) 100%);
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-lg);
    padding: 22px;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.device-card::before {
            content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(75, 129, 201, 0.1), transparent);
    transition: left 0.5s ease;
}

.device-card:hover::before {
            left: 100%;
}

body.dark-mode .device-card {
            background: linear-gradient(135deg, var(--gray-100) 0%, rgba(30, 30, 46, 0.8) 100%);
    border-color: var(--gray-300);
}

.device-card:hover {
            border-color: var(--primary-400);
    box-shadow: var(--shadow-md), 0 0 20px rgba(75, 129, 201, 0.15);
    transform: translateX(8px) scale(1.02);
}

.device-card.selected {
            border-color: var(--primary-500);
    background: linear-gradient(135deg, var(--primary-50) 0%, rgba(75, 129, 201, 0.08) 100%);
    box-shadow: var(--shadow-colored), inset 0 1px 0 rgba(255, 255, 255, 0.5);
    transform: translateX(8px) scale(1.02);
}

body.dark-mode .device-card.selected {
            background: linear-gradient(135deg, rgba(75, 129, 201, 0.15) 0%, rgba(75, 129, 201, 0.08) 100%);
}

.device-header {
            display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 18px;
}

.device-info {
            display: flex;
    align-items: center;
    gap: 14px;
}

.device-avatar {
            width: 50px;
    height: 50px;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    box-shadow: 0 4px 12px rgba(75, 129, 201, 0.3);
    transition: all 0.3s ease;
    position: relative;
}

.device-avatar::after {
            content: '';
    position: absolute;
    inset: -2px;
    border-radius: var(--radius-md);
    padding: 2px;
    background: linear-gradient(45deg, var(--primary-300), var(--primary-600));

    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.device-card:hover .device-avatar {
            transform: rotate(-5deg) scale(1.1);
}

.device-card:hover .device-avatar::after {
            opacity: 1;
}

.device-details h4 {
            font-size: 17px;
    font-weight: 700;
    color: var(--gray-800);
    margin-bottom: 4px;
    letter-spacing: -0.2px;
}

body.dark-mode .device-details h4 {
            color: var(--gray-800);
}

.device-id {
            font-size: 12px;
    color: var(--gray-500);
    font-family: 'Courier New', monospace;
    background: rgba(75, 129, 201, 0.08);
    padding: 2px 8px;
    border-radius: 4px;
    display: inline-block;
}

.device-status {
            display: flex;
    align-items: center;
    gap: 7px;
    padding: 7px 14px;
    border-radius: var(--radius-full);
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 0.3px;
    transition: all 0.3s ease;
}

.device-status.online {
            background: linear-gradient(135deg, var(--success-light) 0%, rgba(16, 185, 129, 0.2) 100%);
    color: var(--success-dark);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
}

.device-status.offline {
            background: linear-gradient(135deg, var(--error-light) 0%, rgba(239, 68, 68, 0.2) 100%);
    color: var(--error-dark);
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.2);
}

.status-dot {
            width: 10px;
    height: 10px;
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
    position: relative;
}

.status-dot::after {
            content: '';
    position: absolute;
    inset: -4px;
    border-radius: 50%;
    background: inherit;
    opacity: 0.3;
    animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
}

@keyframes ping {
            75%, 100% {
            transform: scale(2);
        opacity: 0;
    }
}

.device-status.online .status-dot {
            background: var(--success);
    box-shadow: 0 0 8px var(--success);
}

.device-status.offline .status-dot {
            background: var(--error);
    box-shadow: 0 0 8px var(--error);
}

.device-metrics {
            display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}

.metric-item {
            background: white;
    padding: 12px;
    border-radius: var(--radius-md);
    text-align: center;
    transition: all 0.3s ease;
    border: 1px solid var(--gray-100);
}

.metric-item:hover {
            transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
    border-color: var(--primary-200);
}

body.dark-mode .metric-item {
            background: var(--gray-200);
    border-color: var(--gray-300);
}

.metric-label {
            font-size: 11px;
    color: var(--gray-500);
    margin-bottom: 6px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.metric-value {
            font-size: 18px;
    font-weight: 800;
    color: var(--primary-600);
}

body.dark-mode .metric-value {
            color: var(--primary-500);
}

/* Configuração do Dispositivo */
.config-panel {
            display: flex;
    flex-direction: column;
    gap: 22px;
}

.config-empty {
            text-align: center;
    padding: 80px 20px;
    color: var(--gray-400);
}

.config-empty svg {
            width: 90px;
    height: 90px;
    stroke: var(--gray-300);
    margin-bottom: 20px;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
            0%, 100% {
            transform: translateY(0px); }
    50% {
            transform: translateY(-10px); }
}

.config-empty h3 {
            font-size: 19px;
    margin-bottom: 10px;
    color: var(--gray-500);
    font-weight: 700;
}

body.dark-mode .config-empty h3 {
            color: var(--gray-500);
}

.config-empty p {
            font-size: 14px;
    color: var(--gray-400);
}

.config-form {
            display: flex;
    flex-direction: column;
    gap: 22px;
}

.form-group {
            display: flex;
    flex-direction: column;
    gap: 10px;
}

.form-group label {
            font-size: 14px;
    font-weight: 700;
    color: var(--gray-700);
    display: flex;
    align-items: center;
    gap: 8px;
    letter-spacing: 0.2px;
}

body.dark-mode .form-group label {
            color: var(--gray-700);
}

.form-group label svg {
            width: 18px;
    height: 18px;
    stroke: var(--primary-500);
    transition: transform 0.3s ease;
}

.form-group:focus-within label svg {
            transform: scale(1.2) rotate(5deg);
}

.form-input {
            padding: 14px 16px;
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    background: white;
    color: var(--gray-800);
    font-weight: 500;
}

body.dark-mode .form-input {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.form-input:hover {
            border-color: var(--primary-300);
}

.form-input:focus {
            outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 4px rgba(75, 129, 201, 0.12);
    transform: translateY(-1px);
}

.form-row {
            display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 18px;
}

.btn-group {
            display: flex;
    gap: 12px;
    margin-top: 12px;
}

.btn {
            flex: 1;
    padding: 14px;
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    font-family: 'Inter', sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    position: relative;
    overflow: hidden;
}

.btn::before {
            content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.btn:hover::before {
            width: 300px;
    height: 300px;
}

.btn svg {
            width: 18px;
    height: 18px;
    stroke-width: 2.5;
    transition: transform 0.3s ease;
}

.btn:hover svg {
            transform: scale(1.1);
}

.btn-success {
            background: var(--gradient-success);
    color: white;
    box-shadow: 0 4px 14px rgba(16, 185, 129, 0.3);
}

.btn-success:hover {
            transform: translateY(-3px) scale(1.02);
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

.btn-success:active {
            transform: translateY(-1px) scale(0.98);
}

.btn-danger {
            background: var(--gradient-error);
    color: white;
    box-shadow: 0 4px 14px rgba(239, 68, 68, 0.3);
}

.btn-danger:hover {
            transform: translateY(-3px) scale(1.02);
    box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
}

.btn-danger:active {
            transform: translateY(-1px) scale(0.98);
}
/* ============================================
   AGENDAMENTOS DE IRRIGAÇÃO - REDESIGN PREMIUM
   ============================================ */

/* Seção Principal */
.schedules-section {
    animation: fadeInUp 0.5s ease-out;
}

/* Header da Seção */
.schedules-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 30px;
    flex-wrap: wrap;
    gap: 20px;
}

.schedules-header h2 {
    font-size: 28px;
    font-weight: 700;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 12px;
    margin: 0;
}

body.dark-mode .schedules-header h2 {
    color: var(--gray-800);
}

.schedules-header h2 svg {
    width: 32px;
    height: 32px;
    stroke: var(--primary-600);
    animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.05); }
}

/* Grid de Agendamentos */
.schedules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 24px;
}

/* Card de Agendamento - Redesign Limpo */
.schedule-item {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 
        0 1px 3px rgba(0, 0, 0, 0.08),
        0 8px 24px rgba(0, 0, 0, 0.06);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    border: 1px solid rgba(0, 0, 0, 0.04);
}

body.dark-mode .schedule-item {
    background: rgba(30, 30, 46, 0.95);
    border-color: rgba(255, 255, 255, 0.06);
}

.schedule-item:hover {
    transform: translateY(-4px);
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.08),
        0 16px 48px rgba(75, 129, 201, 0.15);
}

/* Barra de Status Superior */
.schedule-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #e5e7eb, #d1d5db);
    transition: all 0.3s ease;
}

.schedule-item[data-active="true"]::before {
    background: linear-gradient(90deg, #10b981, #059669);
}

/* Header do Card */
.schedule-info {
    padding: 24px;
}

/* Seção do Dispositivo */
.schedule-device {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

body.dark-mode .schedule-device {
    border-bottom-color: rgba(255, 255, 255, 0.08);
}

/* Ícone do Dispositivo */
.schedule-device::before {
    content: '';
    width: 56px;
    height: 56px;
    flex-shrink: 0;
    background: linear-gradient(135deg, #4b81c9 0%, #3b5998 100%);
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(75, 129, 201, 0.25);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z'/%3E%3C/svg%3E");
    background-size: 32px;
    background-position: center;
    background-repeat: no-repeat;
    transition: transform 0.3s ease;
}

.schedule-item:hover .schedule-device::before {
    transform: scale(1.05) rotate(-3deg);
}

.schedule-device strong {
    font-size: 18px;
    font-weight: 700;
    color: var(--gray-900);
    margin: 0;
}

body.dark-mode .schedule-device strong {
    color: var(--gray-100);
}

/* Detalhes em Grid */
.schedule-details {
    display: grid;
    gap: 12px;
}

.schedule-details > span {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
    color: var(--gray-700);
    padding: 12px 14px;
    background: rgba(0, 0, 0, 0.02);
    border-radius: 10px;
    transition: all 0.2s ease;
}

body.dark-mode .schedule-details > span {
    background: rgba(255, 255, 255, 0.04);
    color: var(--gray-400);
}

.schedule-details > span:hover {
    background: rgba(75, 129, 201, 0.06);
    transform: translateX(2px);
}

body.dark-mode .schedule-details > span:hover {
    background: rgba(75, 129, 201, 0.12);
}

/* Ícones dos Detalhes */
.schedule-details > span::before {
    content: '';
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    opacity: 0.7;
}

/* Ícone Início */
.schedule-details > span:nth-child(1)::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2310b981' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpolyline points='12 6 12 12 16 14'/%3E%3C/svg%3E");
}

/* Ícone Fim */
.schedule-details > span:nth-child(2)::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ef4444' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpolyline points='12 6 12 12 8 10'/%3E%3C/svg%3E");
}

/* Ícone Dias */
.schedule-details > span:nth-child(3)::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'/%3E%3Cline x1='16' y1='2' x2='16' y2='6'/%3E%3Cline x1='8' y1='2' x2='8' y2='6'/%3E%3Cline x1='3' y1='10' x2='21' y2='10'/%3E%3C/svg%3E");
}

/* Ícone Status */
.schedule-details > span:nth-child(4) {
    font-weight: 600;
}

.schedule-details > span:nth-child(4)::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2310b981' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'/%3E%3C/svg%3E");
    opacity: 1;
}

.schedule-item[data-active="false"] .schedule-details > span:nth-child(4)::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='6' y='4' width='4' height='16'/%3E%3Crect x='14' y='4' width='4' height='16'/%3E%3C/svg%3E");
}

.schedule-details strong {
    font-weight: 600;
    color: var(--gray-900);
}

body.dark-mode .schedule-details strong {
    color: var(--gray-200);
}

/* Seção de Ações */
.schedule-actions {
    display: flex;
    gap: 8px;
    padding: 16px 24px;
    background: rgba(0, 0, 0, 0.02);
    border-top: 1px solid rgba(0, 0, 0, 0.06);
}

body.dark-mode .schedule-actions {
    background: rgba(255, 255, 255, 0.02);
    border-top-color: rgba(255, 255, 255, 0.06);
}

/* Botões de Ação */
.schedule-actions .btn {
    flex: 1;
    padding: 10px 16px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    font-family: 'Inter', sans-serif;
}

/* Botão Editar */
.schedule-actions .btn-primary {
    background: var(--primary-600);
    color: white;
}

.schedule-actions .btn-primary:hover {
    background: var(--primary-700);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(75, 129, 201, 0.3);
}

.schedule-actions .btn-primary:active {
    transform: translateY(0);
}

/* Botão Ativar/Desativar */
.schedule-actions .btn-secondary {
    background: white;
    color: var(--gray-700);
    border: 1.5px solid var(--gray-300);
}

body.dark-mode .schedule-actions .btn-secondary {
    background: rgba(255, 255, 255, 0.08);
    color: var(--gray-300);
    border-color: rgba(255, 255, 255, 0.15);
}

.schedule-actions .btn-secondary:hover {
    background: var(--gray-50);
    border-color: var(--gray-400);
    transform: translateY(-1px);
}

body.dark-mode .schedule-actions .btn-secondary:hover {
    background: rgba(255, 255, 255, 0.12);
}

/* Botão Excluir */
.schedule-actions .btn-secondary[style*="dc3545"],
.schedule-actions .btn-secondary[style*="#dc3545"] {
    background: #ef4444;
    color: white;
    border: none;
}

.schedule-actions .btn-secondary[style*="dc3545"]:hover,
.schedule-actions .btn-secondary[style*="#dc3545"]:hover {
    background: #dc2626;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

/* Ícones SVG nos botões */
.schedule-actions .btn svg {
    width: 14px;
    height: 14px;
    flex-shrink: 0;
}

/* Estado Vazio */
.no-schedules-message {
    grid-column: 1 / -1;
    text-align: center;
    padding: 80px 40px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}

body.dark-mode .no-schedules-message {
    background: rgba(30, 30, 46, 0.95);
}

.no-schedules-message svg {
    width: 64px;
    height: 64px;
    margin-bottom: 20px;
    stroke: var(--gray-300);
}

.no-schedules-message h3 {
    font-size: 20px;
    font-weight: 700;
    color: var(--gray-800);
    margin-bottom: 8px;
}

body.dark-mode .no-schedules-message h3 {
    color: var(--gray-200);
}

.no-schedules-message p {
    font-size: 14px;
    color: var(--gray-500);
}

/* Animações */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.schedule-item {
    animation: fadeInUp 0.4s ease-out backwards;
}

.schedule-item:nth-child(1) { animation-delay: 0.05s; }
.schedule-item:nth-child(2) { animation-delay: 0.1s; }
.schedule-item:nth-child(3) { animation-delay: 0.15s; }
.schedule-item:nth-child(4) { animation-delay: 0.2s; }
.schedule-item:nth-child(5) { animation-delay: 0.25s; }
.schedule-item:nth-child(6) { animation-delay: 0.3s; }

/* Responsividade */
@media (max-width: 1200px) {
    .schedules-grid {
        grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    }
}

@media (max-width: 768px) {
    .schedules-grid {
        grid-template-columns: 1fr;
    }
    
    .schedules-header {
        flex-direction: column;
        align-items: stretch;
    }
    
    .schedules-header h2 {
        font-size: 24px;
    }
    
    .schedule-actions {
        flex-wrap: wrap;
    }
    
    .schedule-actions .btn {
        min-width: calc(50% - 4px);
    }
    
    .schedule-actions .btn:last-child {
        flex-basis: 100%;
    }
}

@media (max-width: 480px) {
    .schedule-device {
        flex-direction: row;
    }
    
    .schedule-device::before {
        width: 48px;
        height: 48px;
        background-size: 28px;
    }
    
    .schedule-device strong {
        font-size: 16px;
    }
    
    .schedule-actions {
        flex-direction: column;
    }
    
    .schedule-actions .btn {
        width: 100%;
        min-width: 100%;
    }
}

/* Modal Otimizado */
.modal-backdrop {
            position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: var(--z-modal-backdrop);
    opacity: 0;
    pointer-events: none;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.modal-backdrop.active {
            opacity: 1;
    pointer-events: all;
}

.modal {
            background: white;
    border-radius: var(--radius-xl);
    width: 90%;
    max-width: 580px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-2xl), 0 0 0 1px rgba(255, 255, 255, 0.5);
    transform: scale(0.9) translateY(30px);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

body.dark-mode .modal {
            background: var(--gray-100);
    box-shadow: var(--shadow-2xl), 0 0 0 1px rgba(255, 255, 255, 0.05);
}

.modal-backdrop.active .modal {
            transform: scale(1) translateY(0);
}

.modal-header {
            background: var(--gradient-primary);
    color: white;
    padding: 28px 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
}

.modal-header::before {
            content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    animation: shimmer 3s infinite;
}

.modal-header h2 {
            font-size: 20px;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: 12px;
    letter-spacing: -0.2px;
}

.modal-header svg {
            width: 24px;
    height: 24px;
    stroke: white;
    fill: none;
    stroke-width: 2;
}

.modal-close {
            background: rgba(255, 255, 255, 0.2);
    border: none;
    width: 38px;
    height: 38px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg) scale(1.1);
}

.modal-close:active {
            transform: rotate(90deg) scale(0.95);
}

.modal-close svg {
            width: 20px;
    height: 20px;
}

.modal-content {
            padding: 32px;
}

.modal-footer {
            padding: 22px 32px;
    border-top: 1px solid var(--gray-200);
    display: flex;
    gap: 14px;
    justify-content: flex-end;
}

body.dark-mode .modal-footer {
            border-top-color: var(--gray-300);
}

.btn-secondary {
            padding: 14px 28px;
    border: 2px solid var(--gray-300);
    background: white;
    color: var(--gray-700);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    font-family: 'Inter', sans-serif;
}

body.dark-mode .btn-secondary {
            background: var(--gray-100);
    color: var(--gray-700);
}

.btn-secondary:hover {
            background: var(--gray-50);
    border-color: var(--gray-400);
    transform: translateY(-2px);
}

body.dark-mode .btn-secondary:hover {
            background: var(--gray-200);
}

.btn-secondary:active {
            transform: translateY(0);
}
/* ========================================
   DIAS DA SEMANA - DESIGN OTIMIZADO
   ======================================== */
/* ========================================
   DIAS DA SEMANA - OTIMIZADO
   ======================================== */

.days-selector {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
    margin-top: 12px;
}

/* Esconder o checkbox real */
.day-checkbox input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* Estilizar o label como botão */
.day-checkbox {
    position: relative;
    display: block;
    padding: 16px 8px;
    border: 2px solid var(--gray-200);
    background: white;
    border-radius: var(--radius-lg);
    font-size: 13px;
    font-weight: 700;
    color: var(--gray-600);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    text-align: center;
    user-select: none;
    overflow: hidden;
}

/* Efeito de onda ao clicar */
.day-checkbox::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(75, 129, 201, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease-out, height 0.6s ease-out;
    pointer-events: none;
}

.day-checkbox:active::before {
    width: 120px;
    height: 120px;
}

/* Hover */
.day-checkbox:hover {
    border-color: var(--primary-400);
    background: var(--primary-50);
    color: var(--primary-600);
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 8px 20px rgba(75, 129, 201, 0.2);
}

/* Estado checked/ativo */
.day-checkbox input[type="checkbox"]:checked + span,
.day-checkbox:has(input[type="checkbox"]:checked) {
    background: linear-gradient(135deg, #4b81c9 0%, #1f5db0 100%);
    color: white;
    border-color: #3a6fb5;
    transform: scale(1.08);
    box-shadow: 0 8px 25px rgba(75, 129, 201, 0.4);
}

/* Animação de pulso para dias ativos */
.day-checkbox:has(input[type="checkbox"]:checked) {
    animation: pulseDay 2s ease-in-out infinite;
}

@keyframes pulseDay {
    0%, 100% {
        box-shadow: 0 8px 25px rgba(75, 129, 201, 0.4);
    }
    50% {
        box-shadow: 0 12px 35px rgba(75, 129, 201, 0.6);
    }
}

/* Check mark animado */
.day-checkbox:has(input[type="checkbox"]:checked)::after {
    content: '✓';
    position: absolute;
    top: 4px;
    right: 4px;
    width: 18px;
    height: 18px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    font-size: 11px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: checkAppear 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes checkAppear {
    0% {
        transform: scale(0) rotate(-180deg);
        opacity: 0;
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

/* Hover no estado ativo */
.day-checkbox:has(input[type="checkbox"]:checked):hover {
    background: linear-gradient(135deg, #5a91d9 0%, #2f6db0 100%);
    transform: translateY(-4px) scale(1.1);
    box-shadow: 0 12px 35px rgba(75, 129, 201, 0.5);
}

/* Dark Mode */
body.dark-mode .day-checkbox {
    background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-700);
}

body.dark-mode .day-checkbox:hover {
    background: rgba(75, 129, 201, 0.15);
    border-color: var(--primary-500);
    color: var(--primary-400);
}

body.dark-mode .day-checkbox:has(input[type="checkbox"]:checked) {
    background: linear-gradient(135deg, #4b81c9 0%, #1f5db0 100%);
    border-color: var(--primary-500);
    color: white;
}

/* ========================================
   RESPONSIVIDADE
   ======================================== */

@media (max-width: 768px) {
    .days-selector {
        gap: 6px;
    }
    
    .day-checkbox {
        padding: 14px 6px;
        font-size: 12px;
    }
}

@media (max-width: 500px) {
    .days-selector {
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
    }
    
    .day-checkbox {
        padding: 16px 10px;
    }
}

@media (max-width: 350px) {
    .days-selector {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ========================================
   CHECKBOX AGENDAMENTO ATIVO - PREMIUM
   ======================================== */

.schedule-active-wrapper {
    margin-top: 25px;
    padding: 20px;
    background: linear-gradient(135deg, rgba(75, 129, 201, 0.05) 0%, rgba(75, 129, 201, 0.02) 100%);
    border-radius: var(--radius-lg);
    border: 1px solid var(--primary-100);
    transition: all var(--transition-base);
}

.schedule-active-wrapper:hover {
    background: linear-gradient(135deg, rgba(75, 129, 201, 0.08) 0%, rgba(75, 129, 201, 0.04) 100%);
    border-color: var(--primary-200);
}

/* Container do checkbox */
.schedule-active-checkbox {
    display: flex;
    align-items: center;
    gap: 15px;
    cursor: pointer;
    position: relative;
}

/* Esconder checkbox original */
.schedule-active-checkbox input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* Toggle switch customizado */
.schedule-toggle {
    position: relative;
    width: 60px;
    height: 32px;
    background: var(--gray-300);
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
    flex-shrink: 0;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Bolinha do toggle */
.schedule-toggle::before {
    content: '';
    position: absolute;
    width: 26px;
    height: 26px;
    background: white;
    border-radius: 50%;
    top: 3px;
    left: 3px;
    transition: all var(--transition-bounce);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Estado checked */
.schedule-active-checkbox input[type="checkbox"]:checked ~ .schedule-toggle {
    background: var(--gradient-primary);
    box-shadow: 0 4px 15px rgba(75, 129, 201, 0.4);
}

.schedule-active-checkbox input[type="checkbox"]:checked ~ .schedule-toggle::before {
    left: 31px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

/* Ícone dentro da bolinha */
.schedule-toggle::after {
    content: '✕';
    position: absolute;
    left: 40px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 14px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.7);
    transition: all var(--transition-base);
}

.schedule-active-checkbox input[type="checkbox"]:checked ~ .schedule-toggle::after {
    content: '✓';
    left: 10px;
    color: white;
    animation: checkBounce 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes checkBounce {
    0% { transform: translateY(-50%) scale(0) rotate(-180deg); }
    50% { transform: translateY(-50%) scale(1.3) rotate(0deg); }
    100% { transform: translateY(-50%) scale(1) rotate(0deg); }
}

/* Label text */
.schedule-label {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
}

.schedule-label strong {
    font-size: 15px;
    font-weight: 700;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 8px;
    transition: color var(--transition-base);
}

.schedule-label small {
    font-size: 12px;
    color: var(--gray-500);
    line-height: 1.4;
}

/* Ícone ao lado do texto */
.schedule-icon {
    width: 20px;
    height: 20px;
    stroke: var(--gray-600);
    transition: all var(--transition-base);
}

.schedule-active-checkbox input[type="checkbox"]:checked ~ .schedule-label strong {
    color: var(--primary-600);
}

.schedule-active-checkbox input[type="checkbox"]:checked ~ .schedule-label .schedule-icon {
    stroke: var(--primary-600);
    animation: iconPulse 1.5s ease-in-out infinite;
}

@keyframes iconPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

/* Badge de status */
.status-badge {
    padding: 6px 14px;
    border-radius: var(--radius-full);
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all var(--transition-base);
    margin-left: auto;
}

.status-badge.inactive {
    background: var(--gray-100);
    color: var(--gray-600);
}

.status-badge.active {
    background: var(--success-light);
    color: var(--success-dark);
    animation: badgePulse 2s ease-in-out infinite;
}

@keyframes badgePulse {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
    }
    50% {
        box-shadow: 0 0 0 6px rgba(16, 185, 129, 0);
    }
}

/* Hover effects */
.schedule-active-checkbox:hover .schedule-toggle {
    transform: scale(1.05);
}

.schedule-active-checkbox:hover .schedule-label strong {
    color: var(--primary-600);
}

/* Dark Mode */
body.dark-mode .schedule-active-wrapper {
    background: linear-gradient(135deg, rgba(75, 129, 201, 0.08) 0%, rgba(75, 129, 201, 0.04) 100%);
    border-color: rgba(75, 129, 201, 0.2);
}

body.dark-mode .schedule-toggle {
    background: var(--gray-200);
}

body.dark-mode .schedule-label strong {
    color: var(--gray-800);
}

body.dark-mode .schedule-label small {
    color: var(--gray-500);
}

body.dark-mode .status-badge.inactive {
    background: var(--gray-200);
    color: var(--gray-600);
}

/* ========================================
   VARIAÇÃO: DESIGN MAIS COMPACTO
   ======================================== */

.schedule-active-compact {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px 20px;
    background: white;
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-lg);
    margin-top: 20px;
    transition: all var(--transition-base);
    cursor: pointer;
}

.schedule-active-compact:hover {
    border-color: var(--primary-400);
    background: var(--primary-50);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(75, 129, 201, 0.15);
}

.schedule-active-compact.checked {
    background: linear-gradient(135deg, rgba(75, 129, 201, 0.1) 0%, rgba(75, 129, 201, 0.05) 100%);
    border-color: var(--primary-500);
}

/* ========================================
   RESPONSIVIDADE
   ======================================== */

@media (max-width: 500px) {
    .schedule-active-wrapper {
        padding: 16px;
    }
    
    .schedule-toggle {
        width: 52px;
        height: 28px;
    }
    
    .schedule-toggle::before {
        width: 22px;
        height: 22px;
    }
    
    .schedule-active-checkbox input[type="checkbox"]:checked ~ .schedule-toggle::before {
        left: 27px;
    }
    
    .status-badge {
        display: none; /* Esconde em mobile para economizar espaço */
    }
}
/* ========================================
   CORREÇÃO: CHECKBOX AGENDAMENTO ATIVO
   ======================================== */

/* Container do checkbox - sem fundo branco */
.form-group:has(input[type="checkbox"]) {
    background: transparent;
}

/* Esconder completamente o checkbox nativo */
input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    opacity: 0;
    position: absolute;
    width: 0;
    height: 0;
    margin: 0;
    padding: 0;
}

/* Wrapper do agendamento ativo */
.schedule-active-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 18px 20px;
    background: rgba(75, 129, 201, 0.05);
    border: 2px solid rgba(75, 129, 201, 0.15);
    border-radius: var(--radius-lg);
    margin-top: 20px;
    cursor: pointer;
    transition: all var(--transition-base);
}

.schedule-active-container:hover {
    background: rgba(75, 129, 201, 0.1);
    border-color: var(--primary-400);
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(75, 129, 201, 0.15);
}

/* Label do texto */
.schedule-active-label {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
    cursor: pointer;
}

.schedule-active-label strong {
    font-size: 15px;
    font-weight: 700;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 8px;
}

.schedule-active-label small {
    font-size: 12px;
    color: var(--gray-500);
}

/* Toggle Switch Customizado */
.custom-toggle {
    position: relative;
    width: 56px;
    height: 30px;
    background: var(--gray-300);
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
    flex-shrink: 0;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Bolinha do toggle */
.custom-toggle::before {
    content: '';
    position: absolute;
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    top: 3px;
    left: 3px;
    transition: all var(--transition-bounce);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* Ícone X no toggle (desativado) */
.custom-toggle::after {
    content: '✕';
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 12px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.5);
}

/* Estado CHECKED */
.schedule-active-container.active .custom-toggle {
    background: var(--gradient-primary);
    box-shadow: 0 4px 15px rgba(75, 129, 201, 0.4);
}

.schedule-active-container.active .custom-toggle::before {
    left: 29px;
}

.schedule-active-container.active .custom-toggle::after {
    content: '✓';
    left: 8px;
    right: auto;
    color: white;
    animation: checkBounce 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes checkBounce {
    0% { transform: translateY(-50%) scale(0) rotate(-180deg); }
    50% { transform: translateY(-50%) scale(1.3) rotate(10deg); }
    100% { transform: translateY(-50%) scale(1) rotate(0deg); }
}

/* Badge de status */
.schedule-status-badge {
    padding: 6px 12px;
    border-radius: var(--radius-full);
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all var(--transition-base);
    margin-left: 12px;
}

.schedule-status-badge.inactive {
    background: var(--gray-200);
    color: var(--gray-600);
}

.schedule-status-badge.active {
    background: var(--success-light);
    color: var(--success-dark);
    animation: badgePulse 2s ease-in-out infinite;
}

@keyframes badgePulse {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4);
    }
    50% {
        box-shadow: 0 0 0 6px rgba(16, 185, 129, 0);
    }
}

/* Dark Mode */
body.dark-mode .schedule-active-container {
    background: rgba(75, 129, 201, 0.08);
    border-color: rgba(75, 129, 201, 0.2);
}

body.dark-mode .schedule-active-label strong {
    color: var(--gray-800);
}

body.dark-mode .custom-toggle {
    background: var(--gray-200);
}

body.dark-mode .schedule-status-badge.inactive {
    background: var(--gray-300);
    color: var(--gray-600);
}


/* ========================================
   RESPONSIVIDADE
   ======================================== */

@media (max-width: 768px) {
    .weekdays-selector {
        gap: 6px;
    }
    
    .weekday-btn {
        padding: 14px 6px;
        font-size: 12px;
    }
}

@media (max-width: 500px) {
    .weekdays-selector {
        grid-template-columns: repeat(4, 1fr);
        gap: 8px;
    }
    
    .weekday-btn {
        padding: 16px 10px;
    }
}

@media (max-width: 350px) {
    .weekdays-selector {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ========================================
   VARIAÇÃO: DIAS COM BADGE DE NÚMERO
   ======================================== */

.weekday-btn .day-number {
    display: block;
    font-size: 16px;
    font-weight: 800;
    margin-bottom: 2px;
}

.weekday-btn.active .day-number {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* ========================================
   TOOLTIP OPCIONAL
   ======================================== */

.weekday-btn[data-tooltip]:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: calc(100% + 8px);
    left: 50%;
    transform: translateX(-50%);
    padding: 6px 12px;
    background: rgba(0, 0, 0, 0.9);
    color: white;
    font-size: 11px;
    font-weight: 500;
    border-radius: var(--radius-sm);
    white-space: nowrap;
    z-index: 1000;
    animation: tooltipAppear 0.2s ease-out;
}

@keyframes tooltipAppear {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(5px);
    }
    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

body.dark-mode .weekday-btn {
            background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-600);
}

.weekday-btn:hover {
            border-color: var(--primary-300);
    background: var(--primary-50);
    transform: translateY(-3px);
}

body.dark-mode .weekday-btn:hover {
            background: rgba(75, 129, 201, 0.1);
}

.weekday-btn.selected {
            background: var(--primary-500);
    border-color: var(--primary-500);
    color: white;
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(75, 129, 201, 0.4);
}

.weekday-btn:active {
            transform: scale(0.95);
}

/* Animações Adicionais */
@keyframes slideInRight {
            from {
            transform: translateX(100%);
        opacity: 0;
    }
    to {
            transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
            from {
            transform: translateX(0);
        opacity: 1;
    }
    to {
            transform: translateX(100%);
        opacity: 0;
    }
}

/* Responsividade Otimizada */
@media (max-width: 1024px) {
            .main-layout {
            grid-template-columns: 1fr;
    }

    .stats-grid {
            grid-template-columns: repeat(2, 1fr);
    }

    .schedules-grid {
            grid-template-columns: 1fr;
    }
}

@media (max-width: 640px) {
            .section-header {
            flex-direction: column;
        gap: 18px;
        text-align: center;
        padding: 24px 25px;
    }

    .header-left {
            flex-direction: column;
    }

    .stats-grid {
            grid-template-columns: 1fr;
    }

    .form-row {
            grid-template-columns: 1fr;
    }

    .weekdays-selector {
            grid-template-columns: repeat(4, 1fr);
    }

    .modal {
            width: 95%;
        max-height: 95vh;
    }

    .modal-content {
            padding: 24px;
    }

    .schedules-grid {
            grid-template-columns: 1fr;
    }

    .device-card:hover {
            transform: translateX(4px) scale(1.01);
    }
}
/* ========================================
   SEÇÃO DE DISPOSITIVOS ESP - OTIMIZADO
   ======================================== */

.section-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    backdrop-filter: blur(30px) saturate(180%);
    padding: 28px 35px;
    border-radius: var(--radius-xl);
    margin-bottom: 30px;
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: fadeInDown 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.section-header::before {
            content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.8s ease;
}

.section-header:hover::before {
            left: 100%;
}

body.dark-mode .section-header {
            background: linear-gradient(135deg, rgba(39, 39, 42, 0.95) 0%, rgba(30, 30, 46, 0.9) 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.05);
}

.header-left {
            display: flex;
    align-items: center;
    gap: 18px;
}

.header-icon {
            position: relative;
    overflow: hidden;
}

.header-icon::after {
            content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.section-header:hover .header-icon::after {
            width: 200%;
    height: 200%;
}

/* Resto do CSS que eu mandei antes... cole TODO o CSS otimizado aqui */
/* ========================================
   SEÇÃO DE DISPOSITIVOS ESP - CONTEXTO
   ======================================== */

.esp-page .section-header {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    backdrop-filter: blur(30px) saturate(180%);
    padding: 28px 35px;
    border-radius: var(--radius-xl);
    margin-bottom: 30px;
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.5);
    display: flex;
    align-items: center;
    justify-content: space-between;
    animation: fadeInDown 0.6s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.esp-page .section-header::before {
            content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    transition: left 0.8s ease;
}

.esp-page .section-header:hover::before {
            left: 100%;
}

body.dark-mode .esp-page .section-header {
            background: linear-gradient(135deg, rgba(39, 39, 42, 0.95) 0%, rgba(30, 30, 46, 0.9) 100%);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(255, 255, 255, 0.05);
}

.esp-page .header-left {
            display: flex;
    align-items: center;
    gap: 18px;
}

.esp-page .header-icon {
            width: 50px;
    height: 50px;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-colored);
    position: relative;
    overflow: hidden;
}

.esp-page .header-icon svg {
            width: 26px;
    height: 26px;
    stroke: white;
    fill: none;
    stroke-width: 2;
}

.esp-page .header-icon::after {
            content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.esp-page .section-header:hover .header-icon::after {
            width: 200%;
    height: 200%;
}

.esp-page .header-text h1 {
            color: var(--gray-800);
    font-size: 26px;
    font-weight: 700;
    margin-bottom: 5px;
}

body.dark-mode .esp-page .header-text h1 {
            color: var(--gray-800);
}

.esp-page .header-text p {
            color: var(--gray-500);
    font-size: 14px;
}

.esp-page .btn-primary {
            background: var(--gradient-primary);
    color: white;
    border: none;
    padding: 14px 28px;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: var(--shadow-colored);
    font-family: 'Inter', sans-serif;
    position: relative;
    overflow: hidden;
}

.esp-page .btn-primary::before {
            content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.2);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.esp-page .btn-primary:hover::before {
            width: 300px;
    height: 300px;
}

.esp-page .btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
    box-shadow: var(--shadow-colored-hover), 0 0 20px rgba(75, 129, 201, 0.3);
}

.esp-page .btn-primary:active {
            transform: translateY(-1px) scale(0.98);
}

.esp-page .btn-primary svg {
            width: 18px;
    height: 18px;
    stroke: white;
    fill: none;
    stroke-width: 2.5;
    transition: transform 0.3s ease;
}

.esp-page .btn-primary:hover svg {
            transform: rotate(90deg);
}

/* ========================================
   POP-UPS MODERNOS - DISPOSITIVO & AGENDAMENTO
   ======================================== */

/* Overlay do modal */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

/* Container do modal */
.modal {
    background: white;
    border-radius: var(--radius-xl);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 550px;
    max-height: 90vh;
    overflow: hidden;
    transform: scale(0.8) translateY(-50px);
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.modal-overlay.active .modal {
    transform: scale(1) translateY(0);
}

body.dark-mode .modal {
    background: var(--gray-100);
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.6);
}

/* Header do modal */
.modal-header {
    background: var(--gradient-primary);
    padding: 25px 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
}

.modal-header::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -10%;
    width: 200px;
    height: 200px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50%;
}

.modal-header h2 {
    color: white;
    font-size: 22px;
    font-weight: 700;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 12px;
    position: relative;
    z-index: 1;
}

.modal-header svg {
    width: 24px;
    height: 24px;
    stroke: white;
    fill: none;
    stroke-width: 2;
}

.close-modal {
    background: rgba(255, 255, 255, 0.2);
    border: none;
    width: 36px;
    height: 36px;
    border-radius: 50%;
    color: white;
    font-size: 24px;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    z-index: 1;
}

.close-modal:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg);
}

/* Body do modal */
.modal-content {
    padding: 30px;
    max-height: calc(90vh - 180px);
    overflow-y: auto;
}

body.dark-mode .modal-content {
    background: var(--gray-100);
}

/* Form groups */
.form-group {
    margin-bottom: 24px;
}

.form-group label {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    font-weight: 600;
    color: var(--gray-700);
    margin-bottom: 10px;
}

body.dark-mode .form-group label {
    color: var(--gray-600);
}

.form-group label svg {
    width: 18px;
    height: 18px;
    stroke: var(--primary-500);
    fill: none;
    stroke-width: 2;
}

.form-input,
.form-group input[type="text"],
.form-group input[type="time"],
.form-group select {
    width: 100%;
    padding: 14px 16px;
    border: 2px solid var(--gray-200);
    border-radius: var(--radius-md);
    font-size: 14px;
    font-family: 'Inter', sans-serif;
    transition: all var(--transition-base);
    background: white;
    color: var(--gray-800);
}

body.dark-mode .form-input,
body.dark-mode .form-group input,
body.dark-mode .form-group select {
    background: var(--gray-200);
    border-color: var(--gray-300);
    color: var(--gray-800);
}

.form-input:focus,
.form-group input:focus,
.form-group select:focus {
    outline: none;
    border-color: var(--primary-500);
    box-shadow: 0 0 0 4px rgba(75, 129, 201, 0.1);
}

.form-group small {
    display: block;
    margin-top: 6px;
    font-size: 12px;
    color: var(--gray-500);
}

/* Form row (duas colunas) */
.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

/* Dias da semana */
.days-selector {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
    margin-top: 12px;
}

.day-checkbox {
    position: relative;
    display: block;
    padding: 16px 8px;
    border: 2px solid var(--gray-200);
    background: white;
    border-radius: var(--radius-lg);
    font-size: 13px;
    font-weight: 700;
    color: var(--gray-600);
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    text-align: center;
    user-select: none;
}

.day-checkbox input[type="checkbox"] {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
}

.day-checkbox:hover {
    border-color: var(--primary-400);
    background: var(--primary-50);
    color: var(--primary-600);
    transform: translateY(-4px) scale(1.05);
    box-shadow: 0 8px 20px rgba(75, 129, 201, 0.2);
}

.day-checkbox:has(input:checked) {
    background: var(--gradient-primary);
    color: white;
    border-color: var(--primary-600);
    transform: scale(1.08);
    box-shadow: 0 8px 25px rgba(75, 129, 201, 0.4);
}

.day-checkbox:has(input:checked)::after {
    content: '✓';
    position: absolute;
    top: 4px;
    right: 4px;
    width: 18px;
    height: 18px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    font-size: 11px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Agendamento ativo toggle */
.schedule-active-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 18px 20px;
    background: rgba(75, 129, 201, 0.05);
    border: 2px solid rgba(75, 129, 201, 0.15);
    border-radius: var(--radius-lg);
    margin-top: 20px;
    cursor: pointer;
    transition: all var(--transition-base);
}

.schedule-active-container:hover {
    background: rgba(75, 129, 201, 0.1);
    border-color: var(--primary-400);
    transform: translateY(-2px);
}

.schedule-active-label {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
}

.schedule-active-label strong {
    font-size: 15px;
    font-weight: 700;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 8px;
}

.schedule-active-label small {
    font-size: 12px;
    color: var(--gray-500);
}

.custom-toggle {
    position: relative;
    width: 56px;
    height: 30px;
    background: var(--gray-300);
    border-radius: var(--radius-full);
    transition: all var(--transition-base);
    flex-shrink: 0;
}

.custom-toggle::before {
    content: '';
    position: absolute;
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    top: 3px;
    left: 3px;
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.custom-toggle::after {
    content: '✕';
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 12px;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.5);
}

.schedule-active-container.active .custom-toggle {
    background: var(--gradient-primary);
}

.schedule-active-container.active .custom-toggle::before {
    left: 29px;
}

.schedule-active-container.active .custom-toggle::after {
    content: '✓';
    left: 8px;
    right: auto;
    color: white;
}

.schedule-status-badge {
    padding: 6px 12px;
    border-radius: var(--radius-full);
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    margin-left: 12px;
}

.schedule-status-badge.inactive {
    background: var(--gray-200);
    color: var(--gray-600);
}

.schedule-status-badge.active {
    background: var(--success-light);
    color: var(--success-dark);
}

/* Footer do modal */
.modal-footer {
    padding: 20px 30px;
    background: var(--gray-50);
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    border-top: 1px solid var(--gray-200);
}

body.dark-mode .modal-footer {
    background: var(--gray-200);
    border-top-color: var(--gray-300);
}

.btn {
    padding: 12px 24px;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
    border: none;
    font-family: 'Inter', sans-serif;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: var(--shadow-colored);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-colored-hover);
}

.btn-secondary {
    background: var(--gray-200);
    color: var(--gray-700);
}

.btn-secondary:hover {
    background: var(--gray-300);
}

/* Responsividade */
@media (max-width: 600px) {
    .modal {
        width: 95%;
        max-width: none;
    }
    
    .modal-header {
        padding: 20px;
    }
    
    .modal-content {
        padding: 20px;
    }
    
    .form-row {
        grid-template-columns: 1fr;
    }
    
    .days-selector {
        grid-template-columns: repeat(4, 1fr);
    }
}
/* Toast Container */
.toast-container {
    position: fixed;
    bottom: 30px;
    right: 30px;
    z-index: 99999;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.toast {
    background: white;
    padding: 16px 20px;
    border-radius: var(--radius-lg);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 300px;
    animation: slideIn 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes slideIn {
    from {
        transform: translateX(400px);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOut {
    to {
        transform: translateX(400px);
        opacity: 0;
    }
}

.toast-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    flex-shrink: 0;
}

.toast-success .toast-icon {
    background: var(--success-light);
    color: var(--success-dark);
}

.toast-error .toast-icon {
    background: #fee;
    color: #c00;
}

.toast-info .toast-icon {
    background: var(--primary-50);
    color: var(--primary-600);
}

.toast-message {
    font-size: 14px;
    color: var(--gray-800);
    font-weight: 500;
}
/* Estilo para exibição de informação */
.info-display-box {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 2px dashed #dee2e6;
    border-radius: 10px;
    margin-top: 8px;
}

.info-display-icon {
    font-size: 24px;
    opacity: 0.7;
}

.info-display-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.info-display-value {
    font-size: 16px;
    font-weight: 600;
    color: #495057;
    font-family: 'Courier New', monospace;
    letter-spacing: 0.5px;
}

.info-display-hint {
    font-size: 12px;
    color: #6c757d;
    display: flex;
    align-items: center;
    gap: 4px;
}
/* ============================================
   AGENDAMENTOS DE IRRIGAÇÃO - DESIGN PREMIUM
   ============================================ */

/* Seção Principal */
.schedules-section {
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.3s backwards;
}

/* Header da Seção */
.schedules-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 28px;
    padding-bottom: 18px;
    border-bottom: 3px solid transparent;
    border-image: linear-gradient(90deg, var(--primary-500), var(--primary-300), transparent) 1;
}

.schedules-header h2 {
    font-size: 24px;
    font-weight: 800;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 14px;
    letter-spacing: -0.4px;
}

body.dark-mode .schedules-header h2 {
    color: var(--gray-800);
}

.schedules-header h2 svg {
    width: 28px;
    height: 28px;
    stroke: var(--primary-600);
    filter: drop-shadow(0 3px 6px rgba(75, 129, 201, 0.3));
    animation: iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-6px); }
}

/* Grid de Agendamentos */
.schedules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 24px;
}

/* Card de Agendamento - Design Premium */
.schedule-item {
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.98) 0%, 
        rgba(249, 250, 251, 0.95) 100%);
    backdrop-filter: blur(30px) saturate(180%);
    border-radius: var(--radius-xl);
    padding: 0;
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.08),
        0 0 0 1px rgba(255, 255, 255, 0.5);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
    border: 2px solid transparent;
}

/* Efeito de brilho animado */
.schedule-item::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(75, 129, 201, 0.08) 0%, transparent 70%);
    transition: transform 0.8s ease;
    transform: scale(0);
}

.schedule-item:hover::before {
    transform: scale(1);
}

body.dark-mode .schedule-item {
    background: linear-gradient(135deg, 
        rgba(30, 30, 46, 0.98) 0%, 
        rgba(30, 30, 46, 0.95) 100%);
}

.schedule-item:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
        0 12px 40px rgba(75, 129, 201, 0.2),
        0 0 0 2px var(--primary-200),
        0 0 30px rgba(75, 129, 201, 0.15);
    border-color: var(--primary-200);
}

/* Badge de Status no Topo */
.schedule-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: var(--gray-300);
    transition: all 0.3s ease;
}

.schedule-item[data-active="true"]::after {
    background: var(--gradient-success);
    box-shadow: 0 2px 12px rgba(16, 185, 129, 0.4);
}

/* Header do Card */
.schedule-info {
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 18px;
}

/* Dispositivo */
.schedule-device {
    display: flex;
    align-items: center;
    gap: 14px;
    padding-bottom: 16px;
    border-bottom: 2px dashed var(--gray-200);
}

body.dark-mode .schedule-device {
    border-bottom-color: var(--gray-300);
}

.schedule-device::before {
    content: '💧';
    font-size: 32px;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 15px rgba(75, 129, 201, 0.3);
    transition: transform 0.3s ease;
}

.schedule-item:hover .schedule-device::before {
    transform: scale(1.1) rotate(-5deg);
}

.schedule-device strong {
    font-size: 18px;
    font-weight: 800;
    color: var(--gray-800);
    letter-spacing: -0.3px;
}

body.dark-mode .schedule-device strong {
    color: var(--gray-800);
}

/* Detalhes do Agendamento */
.schedule-details {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.schedule-details > span {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
    color: var(--gray-700);
    padding: 12px 16px;
    background: rgba(75, 129, 201, 0.04);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--primary-400);
    transition: all 0.3s ease;
}

.schedule-details > span:hover {
    background: rgba(75, 129, 201, 0.08);
    transform: translateX(4px);
    border-left-color: var(--primary-600);
}

body.dark-mode .schedule-details > span {
    background: rgba(75, 129, 201, 0.08);
    color: var(--gray-600);
}

.schedule-details > span::before {
    content: '';
    width: 26px;
    height: 26px;
    border-radius: var(--radius-sm);
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Ícones específicos para cada campo */
.schedule-details > span:nth-child(1)::before {
    content: '⏰';
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    font-size: 14px;
}

.schedule-details > span:nth-child(2)::before {
    content: '⏱️';
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    font-size: 14px;
}

.schedule-details > span:nth-child(3)::before {
    content: '📆';
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    font-size: 14px;
}

.schedule-details > span:nth-child(4)::before {
    content: '';
    font-size: 14px;
}

.schedule-details strong {
    font-weight: 700;
    color: var(--gray-800);
    margin-right: 6px;
}

body.dark-mode .schedule-details strong {
    color: var(--gray-700);
}

/* Badge de Status Inline */
.schedule-details > span:last-child::before {
    content: '✅';
    background: var(--success-light);
}

.schedule-item[data-active="false"] .schedule-details > span:last-child::before {
    content: '⏸️';
    background: var(--gray-200);
}

/* Ações do Card */
.schedule-actions {
    display: flex;
    gap: 10px;
    padding: 20px 24px;
    background: linear-gradient(135deg, 
        rgba(249, 250, 251, 0.8) 0%, 
        rgba(243, 244, 246, 0.9) 100%);
    border-top: 2px solid var(--gray-200);
}

body.dark-mode .schedule-actions {
    background: linear-gradient(135deg, 
        rgba(50, 50, 70, 0.5) 0%, 
        rgba(40, 40, 60, 0.6) 100%);
    border-top-color: var(--gray-300);
}

/* Botões de Ação - Design Premium */
.schedule-actions .btn {
    flex: 1;
    padding: 12px 18px;
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    border: 2px solid transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    position: relative;
    overflow: hidden;
    font-family: 'Inter', sans-serif;
}

/* Efeito de onda nos botões */
.schedule-actions .btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.schedule-actions .btn:hover::before {
    width: 300px;
    height: 300px;
}

/* Botão Primário (Editar) */
.schedule-actions .btn-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: 0 4px 14px rgba(75, 129, 201, 0.3);
}

.schedule-actions .btn-primary:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 8px 25px rgba(75, 129, 201, 0.4);
}

.schedule-actions .btn-primary:active {
    transform: translateY(-1px) scale(1);
}

/* Botão Secundário (Ativar/Desativar) */
.schedule-actions .btn-secondary {
    background: white;
    color: var(--gray-700);
    border: 2px solid var(--gray-300);
}

body.dark-mode .schedule-actions .btn-secondary {
    background: var(--gray-100);
    color: var(--gray-700);
}

.schedule-actions .btn-secondary:hover {
    background: var(--gray-50);
    border-color: var(--gray-400);
    transform: translateY(-2px);
}

body.dark-mode .schedule-actions .btn-secondary:hover {
    background: var(--gray-200);
}

/* Botão Danger (Excluir) */
.schedule-actions .btn-secondary[style*="dc3545"] {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 14px rgba(239, 68, 68, 0.3);
}

.schedule-actions .btn-secondary[style*="dc3545"]:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
}

/* Estado Vazio */
.schedules-grid:empty::after {
    content: '📅 Nenhum agendamento criado\AClique em "Novo Agendamento" para começar';
    white-space: pre-line;
    display: block;
    text-align: center;
    padding: 80px 40px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: var(--radius-xl);
    color: var(--gray-500);
    font-size: 16px;
    line-height: 1.8;
    grid-column: 1 / -1;
    box-shadow: var(--shadow-md);
}

body.dark-mode .schedules-grid:empty::after {
    background: rgba(30, 30, 46, 0.95);
}

/* Animações de Entrada */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.schedule-item {
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;
}

.schedule-item:nth-child(1) { animation-delay: 0.05s; }
.schedule-item:nth-child(2) { animation-delay: 0.1s; }
.schedule-item:nth-child(3) { animation-delay: 0.15s; }
.schedule-item:nth-child(4) { animation-delay: 0.2s; }
.schedule-item:nth-child(5) { animation-delay: 0.25s; }
.schedule-item:nth-child(6) { animation-delay: 0.3s; }

/* Responsividade */
@media (max-width: 1200px) {
    .schedules-grid {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
}

@media (max-width: 768px) {
    .schedules-grid {
        grid-template-columns: 1fr;
    }
    
    .schedules-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }
    
    .schedule-actions {
        flex-direction: column;
    }
    
    .schedule-actions .btn {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .schedule-device {
        flex-direction: column;
        text-align: center;
    }
    
    .schedule-details > span {
        flex-direction: column;
        text-align: center;
        gap: 8px;
    }
}

/* ============================================
   AGENDAMENTOS DE IRRIGAÇÃO - DESIGN PREMIUM COM SVG
   ============================================ */

/* Seção Principal */
.schedules-section {
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.3s backwards;
}

/* Header da Seção */
.schedules-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 28px;
    padding-bottom: 18px;
    border-bottom: 3px solid transparent;
    border-image: linear-gradient(90deg, var(--primary-500), var(--primary-300), transparent) 1;
}

.schedules-header h2 {
    font-size: 24px;
    font-weight: 800;
    color: var(--gray-800);
    display: flex;
    align-items: center;
    gap: 14px;
    letter-spacing: -0.4px;
}

body.dark-mode .schedules-header h2 {
    color: var(--gray-800);
}

.schedules-header h2 svg {
    width: 28px;
    height: 28px;
    stroke: var(--primary-600);
    filter: drop-shadow(0 3px 6px rgba(75, 129, 201, 0.3));
    animation: iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-6px); }
}

/* Grid de Agendamentos */
.schedules-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 24px;
}

/* Card de Agendamento - Design Premium */
.schedule-item {
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.98) 0%, 
        rgba(249, 250, 251, 0.95) 100%);
    backdrop-filter: blur(30px) saturate(180%);
    border-radius: var(--radius-xl);
    padding: 0;
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.08),
        0 0 0 1px rgba(255, 255, 255, 0.5);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
    overflow: hidden;
    border: 2px solid transparent;
}

/* Efeito de brilho animado */
.schedule-item::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(75, 129, 201, 0.08) 0%, transparent 70%);
    transition: transform 0.8s ease;
    transform: scale(0);
}

.schedule-item:hover::before {
    transform: scale(1);
}

body.dark-mode .schedule-item {
    background: linear-gradient(135deg, 
        rgba(30, 30, 46, 0.98) 0%, 
        rgba(30, 30, 46, 0.95) 100%);
}

.schedule-item:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
        0 12px 40px rgba(75, 129, 201, 0.2),
        0 0 0 2px var(--primary-200),
        0 0 30px rgba(75, 129, 201, 0.15);
    border-color: var(--primary-200);
}

/* Badge de Status no Topo */
.schedule-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: var(--gray-300);
    transition: all 0.3s ease;
}

.schedule-item[data-active="true"]::after {
    background: var(--gradient-success);
    box-shadow: 0 2px 12px rgba(16, 185, 129, 0.4);
}

/* Header do Card */
.schedule-info {
    padding: 24px;
    display: flex;
    flex-direction: column;
    gap: 18px;
}

/* Dispositivo */
.schedule-device {
    display: flex;
    align-items: center;
    gap: 14px;
    padding-bottom: 16px;
    border-bottom: 2px dashed var(--gray-200);
    position: relative;
}

body.dark-mode .schedule-device {
    border-bottom-color: var(--gray-300);
}

/* Ícone SVG do dispositivo */
.schedule-device::before {
    content: '';
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-primary);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 15px rgba(75, 129, 201, 0.3);
    transition: transform 0.3s ease;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z'/%3E%3C/svg%3E");
    background-size: 28px;
    background-position: center;
    background-repeat: no-repeat;
}

.schedule-item:hover .schedule-device::before {
    transform: scale(1.1) rotate(-5deg);
}

.schedule-device strong {
    font-size: 18px;
    font-weight: 800;
    color: var(--gray-800);
    letter-spacing: -0.3px;
    display: flex;
    align-items: center;
    gap: 8px;
}

body.dark-mode .schedule-device strong {
    color: var(--gray-800);
}

/* Ícone SVG inline no título do dispositivo */
.schedule-device strong::before {
    content: '';
    width: 22px;
    height: 22px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%234b81c9' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='2' y='2' width='20' height='8' rx='2' ry='2'/%3E%3Crect x='2' y='14' width='20' height='8' rx='2' ry='2'/%3E%3Cline x1='6' y1='6' x2='6.01' y2='6'/%3E%3Cline x1='6' y1='18' x2='6.01' y2='18'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
}

/* Detalhes do Agendamento */
.schedule-details {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

.schedule-details > span {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 14px;
    color: var(--gray-700);
    padding: 12px 16px;
    background: rgba(75, 129, 201, 0.04);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--primary-400);
    transition: all 0.3s ease;
    position: relative;
}

.schedule-details > span:hover {
    background: rgba(75, 129, 201, 0.08);
    transform: translateX(4px);
    border-left-color: var(--primary-600);
}

body.dark-mode .schedule-details > span {
    background: rgba(75, 129, 201, 0.08);
    color: var(--gray-600);
}

.schedule-details > span::before {
    content: '';
    width: 26px;
    height: 26px;
    border-radius: var(--radius-sm);
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    background-size: 16px;
    background-position: center;
    background-repeat: no-repeat;
}

/* Ícone SVG - Hora de Início (Relógio Verde) */
.schedule-details > span:nth-child(1)::before {
    background-color: #10b981;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpolyline points='12 6 12 12 16 14'/%3E%3C/svg%3E");
}

/* Ícone SVG - Hora de Término (Cronômetro Laranja) */
.schedule-details > span:nth-child(2)::before {
    background-color: #f59e0b;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='10' y1='2' x2='14' y2='2'/%3E%3Cline x1='12' y1='14' x2='15' y2='11'/%3E%3Ccircle cx='12' cy='14' r='8'/%3E%3C/svg%3E");
}

/* Ícone SVG - Dias da Semana (Calendário Azul) */
.schedule-details > span:nth-child(3)::before {
    background-color: #3b82f6;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'/%3E%3Cline x1='16' y1='2' x2='16' y2='6'/%3E%3Cline x1='8' y1='2' x2='8' y2='6'/%3E%3Cline x1='3' y1='10' x2='21' y2='10'/%3E%3C/svg%3E");
}

/* Ícone SVG - Status (Check/Pause) */
.schedule-details > span:nth-child(4)::before {
    background-color: #10b981;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='20 6 9 17 4 12'/%3E%3C/svg%3E");
}

/* Status Inativo */
.schedule-item[data-active="false"] .schedule-details > span:nth-child(4)::before {
    background-color: #9ca3af;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='6' y='4' width='4' height='16'/%3E%3Crect x='14' y='4' width='4' height='16'/%3E%3C/svg%3E");
}

.schedule-details strong {
    font-weight: 700;
    color: var(--gray-800);
    margin-right: 6px;
}

body.dark-mode .schedule-details strong {
    color: var(--gray-700);
}

/* Ações do Card */
.schedule-actions {
    display: flex;
    gap: 10px;
    padding: 20px 24px;
    background: linear-gradient(135deg, 
        rgba(249, 250, 251, 0.8) 0%, 
        rgba(243, 244, 246, 0.9) 100%);
    border-top: 2px solid var(--gray-200);
}

body.dark-mode .schedule-actions {
    background: linear-gradient(135deg, 
        rgba(50, 50, 70, 0.5) 0%, 
        rgba(40, 40, 60, 0.6) 100%);
    border-top-color: var(--gray-300);
}

/* Botões de Ação - Design Premium */
.schedule-actions .btn {
    flex: 1;
    padding: 12px 18px;
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
    border: 2px solid transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    position: relative;
    overflow: hidden;
    font-family: 'Inter', sans-serif;
}

/* Efeito de onda nos botões */
.schedule-actions .btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s ease, height 0.6s ease;
}

.schedule-actions .btn:hover::before {
    width: 300px;
    height: 300px;
}

/* Ícones SVG nos botões */
.schedule-actions .btn svg {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    transition: transform 0.3s ease;
}

.schedule-actions .btn:hover svg {
    transform: scale(1.15);
}

/* Botão Primário (Editar) */
.schedule-actions .btn-primary {
    background: var(--gradient-primary);
    color: white;
    box-shadow: 0 4px 14px rgba(75, 129, 201, 0.3);
}

.schedule-actions .btn-primary:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 8px 25px rgba(75, 129, 201, 0.4);
}

.schedule-actions .btn-primary:active {
    transform: translateY(-1px) scale(1);
}

/* Botão Secundário (Ativar/Desativar) */
.schedule-actions .btn-secondary {
    background: white;
    color: var(--gray-700);
    border: 2px solid var(--gray-300);
}

body.dark-mode .schedule-actions .btn-secondary {
    background: var(--gray-100);
    color: var(--gray-700);
}

.schedule-actions .btn-secondary:hover {
    background: var(--gray-50);
    border-color: var(--gray-400);
    transform: translateY(-2px);
}

body.dark-mode .schedule-actions .btn-secondary:hover {
    background: var(--gray-200);
}

/* Botão Danger (Excluir) */
.schedule-actions .btn-secondary[style*="dc3545"],
.schedule-actions .btn-secondary[style*="#dc3545"] {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    border-color: transparent;
    box-shadow: 0 4px 14px rgba(239, 68, 68, 0.3);
}

.schedule-actions .btn-secondary[style*="dc3545"]:hover,
.schedule-actions .btn-secondary[style*="#dc3545"]:hover {
    transform: translateY(-3px) scale(1.03);
    box-shadow: 0 8px 25px rgba(239, 68, 68, 0.4);
}

/* Estado Vazio com SVG */
.schedules-grid:empty::after {
    content: '';
    display: block;
    text-align: center;
    padding: 80px 40px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: var(--radius-xl);
    font-size: 16px;
    line-height: 1.8;
    grid-column: 1 / -1;
    box-shadow: var(--shadow-md);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%239ca3af' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'/%3E%3Cline x1='16' y1='2' x2='16' y2='6'/%3E%3Cline x1='8' y1='2' x2='8' y2='6'/%3E%3Cline x1='3' y1='10' x2='21' y2='10'/%3E%3C/svg%3E");
    background-size: 60px;
    background-position: center 40px;
    background-repeat: no-repeat;
    padding-top: 140px;
}

.schedules-grid:empty::after {
    content: 'Nenhum agendamento criado\AClique em "Novo Agendamento" para começar';
    white-space: pre-line;
    color: var(--gray-500);
}

body.dark-mode .schedules-grid:empty::after {
    background-color: rgba(30, 30, 46, 0.95);
}

/* Animações de Entrada */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.schedule-item {
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;
}

.schedule-item:nth-child(1) { animation-delay: 0.05s; }
.schedule-item:nth-child(2) { animation-delay: 0.1s; }
.schedule-item:nth-child(3) { animation-delay: 0.15s; }
.schedule-item:nth-child(4) { animation-delay: 0.2s; }
.schedule-item:nth-child(5) { animation-delay: 0.25s; }
.schedule-item:nth-child(6) { animation-delay: 0.3s; }

/* Responsividade */
@media (max-width: 1200px) {
    .schedules-grid {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    }
}

@media (max-width: 768px) {
    .schedules-grid {
        grid-template-columns: 1fr;
    }
    
    .schedules-header {
        flex-direction: column;
        gap: 16px;
        text-align: center;
    }
    
    .schedule-actions {
        flex-direction: column;
    }
    
    .schedule-actions .btn {
        width: 100%;
    }
}

@media (max-width: 480px) {
    .schedule-device {
        flex-direction: column;
        text-align: center;
    }
    
    .schedule-details > span {
        flex-direction: column;
        text-align: center;
        gap: 8px;
    }
}/* ========================================
   SISTEMA DE SCROLL - SEÇÃO DE DISPOSITIVOS
   ======================================== */

.section-box {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(239, 246, 255, 0.95) 100%);
    backdrop-filter: blur(15px);
    border-radius: 24px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(75, 129, 201, 0.12);
    overflow: hidden;
    margin-bottom: 30px;
    max-height: calc(100vh - 200px);
    display: flex;
    flex-direction: column;
}

body.dark-mode .section-box {
    background: linear-gradient(135deg, rgba(30, 30, 46, 0.98) 0%, rgba(39, 39, 60, 0.95) 100%);
    border-color: rgba(122, 164, 214, 0.15);
}

/* Título fixo no topo */
.section-title {
    background: linear-gradient(135deg, var(--primary-600) 0%, var(--primary-500) 100%);
    color: white;
    padding: 24px 32px;
    font-size: 20px;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: 14px;
    position: sticky;
    top: 0;
    z-index: 10;
    flex-shrink: 0;
}

/* Conteúdo com scroll */
.section-content {
    padding: 32px;
    overflow-y: auto;
    overflow-x: hidden;
    flex: 1;
    min-height: 0;
}

/* Scrollbar estilizada */
.section-content::-webkit-scrollbar {
    width: 12px;
}

.section-content::-webkit-scrollbar-track {
    background: linear-gradient(180deg, var(--gray-50) 0%, var(--gray-100) 100%);
    border-radius: 10px;
    margin: 8px 0;
}

.section-content::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--primary-400) 0%, var(--primary-600) 100%);
    border-radius: 10px;
    border: 2px solid var(--gray-50);
    transition: all 0.3s ease;
}

.section-content::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--primary-500) 0%, var(--primary-700) 100%);
    cursor: pointer;
}

body.dark-mode .section-content::-webkit-scrollbar-track {
    background: linear-gradient(180deg, var(--gray-200) 0%, var(--gray-300) 100%);
}

body.dark-mode .section-content::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--primary-500) 0%, var(--primary-700) 100%);
    border-color: var(--gray-200);
}

/* Firefox scrollbar */
.section-content {
    scrollbar-width: thin;
    scrollbar-color: var(--primary-500) var(--gray-100);
    scroll-behavior: smooth;
}

/* Sombra superior quando rolar */
.section-content::before {
    content: '';
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    height: 30px;
    background: linear-gradient(to bottom, rgba(239, 246, 255, 0.95) 0%, transparent 100%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 5;
    margin: -32px -32px 0 -32px;
}

body.dark-mode .section-content::before {
    background: linear-gradient(to bottom, rgba(30, 30, 46, 0.95) 0%, transparent 100%);
}

.section-content.scrolled::before {
    opacity: 1;
}

/* Sombra inferior quando há mais conteúdo */
.section-content::after {
    content: '';
    position: sticky;
    bottom: 0;
    left: 0;
    right: 0;
    height: 30px;
    background: linear-gradient(to top, rgba(239, 246, 255, 0.95) 0%, transparent 100%);
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: 5;
    margin: 0 -32px -32px -32px;
}

body.dark-mode .section-content::after {
    background: linear-gradient(to top, rgba(30, 30, 46, 0.95) 0%, transparent 100%);
}

.section-content.has-more::after {
    opacity: 1;
}

/* ========================================
   LISTA DE DISPOSITIVOS
   ======================================== */

.devices-list {
    display: flex;
    flex-direction: column;
    gap: 14px;
    padding-right: 8px;
}

/* ========================================
   CARD MINIMIZADO - LAYOUT PERFEITO
   ======================================== */

.device-card {
    background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.98) 0%, 
                rgba(249, 250, 251, 0.95) 100%);
    border: 2px solid rgba(75, 129, 201, 0.08);
    border-radius: 16px;
    padding: 18px 24px;
    transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
    
    /* LAYOUT: 3 COLUNAS COM GRID */
    display: grid;
    grid-template-columns: 1fr auto auto;
    align-items: center;
    gap: 28px;
    
    /* ALTURA COMPACTA */
    min-height: 64px;
    max-height: 64px;
}

body.dark-mode .device-card {
    background: linear-gradient(135deg, 
                rgba(39, 39, 50, 0.98) 0%, 
                rgba(30, 30, 46, 0.95) 100%);
    border-color: rgba(122, 164, 214, 0.12);
}

/* Borda lateral animada */
.device-card::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 0;
    background: linear-gradient(180deg, 
                var(--primary-500) 0%, 
                var(--primary-700) 100%);
    border-radius: 0 8px 8px 0;
    transition: height 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: 2px 0 12px rgba(75, 129, 201, 0.4);
    z-index: 1;
}

.device-card:hover::before {
    height: 75%;
}

/* Hover elegante */
.device-card:hover {
    transform: translateX(6px);
    border-color: rgba(75, 129, 201, 0.2);
    box-shadow: 0 4px 20px rgba(75, 129, 201, 0.12),
                0 2px 8px rgba(0, 0, 0, 0.06);
}

/* ========================================
   NOME DO DISPOSITIVO - COLUNA 1
   ======================================== */

.device-card h3,
.device-card h4 {
    /* GRID */
    grid-column: 1;
    
    /* RESET */
    margin: 0 !important;
    padding: 0 !important;
    
    /* LAYOUT */
    display: flex;
    align-items: center;
    
    /* TIPOGRAFIA */
    font-size: 20px !important;
    font-weight: 900 !important;
    letter-spacing: -0.5px !important;
    line-height: 1.3 !important;
    
    /* GRADIENTE ANIMADO */
    background: linear-gradient(120deg, 
                #1e40af 0%,
                #3b82f6 25%,
                #60a5fa 50%,
                #3b82f6 75%,
                #1e40af 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmerText 3s linear infinite;
    
    /* SOMBRA */
    filter: drop-shadow(0 2px 8px rgba(59, 130, 246, 0.15));
    
    /* TRANSIÇÃO */
    transition: all 0.35s ease;
    
    /* TRUNCAR TEXTO LONGO */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    
    /* SEMPRE VISÍVEL */
    max-height: none !important;
    opacity: 1 !important;
}

@keyframes shimmerText {
    0% {
        background-position: 0% 50%;
    }
    100% {
        background-position: 200% 50%;
    }
}

body.dark-mode .device-card h3,
body.dark-mode .device-card h4 {
    background: linear-gradient(120deg, 
                #60a5fa 0%,
                #93c5fd 25%,
                #bfdbfe 50%,
                #93c5fd 75%,
                #60a5fa 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.device-card:hover h3,
.device-card:hover h4 {
    filter: drop-shadow(0 4px 12px rgba(59, 130, 246, 0.3));
    transform: translateX(2px);
}

/* ========================================
   BADGE DE STATUS - COLUNA 2
   ======================================== */

.device-card > span:first-of-type {
    /* GRID */
    grid-column: 2;
    
    /* RESET */
    position: relative !important;
    top: auto !important;
    right: auto !important;
    transform: none !important;
    margin: 0 !important;
    
    /* LAYOUT */
    display: inline-flex !important;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 9px 18px !important;
    flex-shrink: 0;
    
    /* ESTILO */
    border-radius: 20px;
    font-size: 11px !important;
    font-weight: 800 !important;
    letter-spacing: 1px;
    text-transform: uppercase;
    white-space: nowrap;
    
    /* EFEITOS */
    transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
    backdrop-filter: blur(8px);
    
    /* SEMPRE VISÍVEL */
    max-height: none !important;
    opacity: 1 !important;
    z-index: 2;
}

.device-card:hover > span:first-of-type {
    transform: scale(1.05);
    box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
}

/* Status ONLINE - Verde vibrante */
.device-card > span.online,
.device-card > span[class*="online"] {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border: 1.5px solid rgba(16, 185, 129, 0.4);
}

/* Status OFFLINE - Vermelho vibrante */
.device-card > span.offline,
.device-card > span[class*="offline"] {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
    border: 1.5px solid rgba(239, 68, 68, 0.4);
}

/* Ponto indicador */
.device-card span:first-of-type::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: white;
    box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
    display: block;
}

/* Animação pulsante no ONLINE */
.device-card span.online::before,
.device-card span[class*="online"]::before {
    animation: pulseGlow 2s infinite;
}

@keyframes pulseGlow {
    0% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
    }
    70% {
        box-shadow: 0 0 0 6px rgba(255, 255, 255, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
    }
}

.device-card span.offline::before,
.device-card span[class*="offline"]::before {
    animation: none;
    opacity: 0.8;
}

/* ========================================
   ÍCONE DE EXPANDIR - COLUNA 3 (SVG)
   ======================================== */

.device-card::after {
    content: '';
    
    /* GRID */
    grid-column: 3;
    
    /* TAMANHO */
    width: 36px;
    height: 36px;
    
    /* ESTILO */
    border-radius: 50%;
    background: linear-gradient(135deg, 
                var(--primary-500) 0%, 
                var(--primary-600) 100%);
    
    /* SVG CHEVRON > */
    background-image: 
        linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E");
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover, 16px;
    
    /* EFEITOS */
    box-shadow: 0 3px 12px rgba(75, 129, 201, 0.35);
    transition: all 0.35s cubic-bezier(0.16, 1, 0.3, 1);
    opacity: 0.95;
}

.device-card:hover::after {
    transform: scale(1.12) translateX(2px);
    box-shadow: 0 5px 20px rgba(75, 129, 201, 0.45);
    opacity: 1;
    background: 
        linear-gradient(135deg, var(--primary-600) 0%, var(--primary-700) 100%),
        url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E");
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover, 16px;
}

.device-card:active::after {
    transform: scale(1.05);
}

/* ========================================
   ESCONDER CONTEÚDO QUANDO MINIMIZADO
   ======================================== */

.device-card p,
.device-card button {
    display: none;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    margin: 0;
    padding: 0;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    pointer-events: none;
}/* ========================================
   CARD EXPANDIDO - COMPLETO E BONITO
   ======================================== */

.device-card.expanded {
    /* MUDAR LAYOUT */
    display: flex !important;
    flex-direction: column;
    align-items: stretch;
    gap: 0;
    
    /* TAMANHO */
    min-height: auto;
    max-height: 700px;
    padding: 24px 28px 28px 28px;
    
    /* ESTILO */
    border-color: var(--primary-400);
    background: linear-gradient(135deg, 
                rgba(239, 246, 255, 0.98) 0%, 
                rgba(219, 234, 254, 0.95) 100%);
    box-shadow: 0 12px 40px rgba(75, 129, 201, 0.2),
                0 4px 16px rgba(0, 0, 0, 0.08);
    transform: scale(1.01);
    cursor: default;
    overflow-y: auto;
}

body.dark-mode .device-card.expanded {
    background: linear-gradient(135deg, 
                rgba(75, 129, 201, 0.18) 0%, 
                rgba(75, 129, 201, 0.1) 100%);
    border-color: var(--primary-500);
}

/* ========================================
   HEADER DO CARD EXPANDIDO
   ======================================== */

/* Container do header (nome + badge + ícone) */
.device-card.expanded > h3,
.device-card.expanded > h4 {
    font-size: 24px !important;
    font-weight: 900 !important;
    margin: 0 0 24px 0 !important;
    padding: 0 60px 0 0 !important;
    white-space: normal;
    text-align: left;
    animation: none;
    background: linear-gradient(120deg, 
                #1e40af 0%,
                #3b82f6 50%,
                #1e40af 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Badge reposicionado no topo direito */
.device-card.expanded > span:first-of-type {
    position: absolute !important;
    top: 24px !important;
    right: 70px !important;
    left: auto !important;
    transform: none !important;
    padding: 9px 16px !important;
    font-size: 11px !important;
    z-index: 10;
}

/* Ícone (chevron rotacionado) no topo direito */
.device-card.expanded::after {
    position: absolute !important;
    top: 24px !important;
    right: 24px !important;
    transform: rotate(90deg) !important;
    background-color: var(--primary-600);
    opacity: 0.9;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9 6l6 6-6 6'/%3E%3C/svg%3E");
    background-size: 16px;
}

.device-card.expanded:hover::after {
    opacity: 1;
    transform: rotate(90deg) scale(1.08) !important;
}

/* ========================================
   CONTEÚDO - INFORMAÇÕES (ID, LOCAL, FLUXO)
   ======================================== */

/* MOSTRAR os parágrafos */
.device-card.expanded p {
    display: block !important;
    max-height: none !important;
    opacity: 1 !important;
    
    /* ESTILO */
    background: white;
    border-radius: 10px;
    border: 2px solid var(--gray-100);
    padding: 14px 18px !important;
    margin: 0 0 12px 0 !important;
    
    /* TIPOGRAFIA */
    font-size: 14px !important;
    color: var(--gray-700) !important;
    font-weight: 500;
    line-height: 1.5;
    
    /* LAYOUT */
    min-height: 48px;
    display: flex !important;
    align-items: center;
    
    /* TRANSIÇÃO */
    transition: all 0.3s ease;
    pointer-events: auto !important;
}

body.dark-mode .device-card.expanded p {
    background: var(--gray-100);
    border-color: var(--gray-300);
    color: var(--gray-800) !important;
}

.device-card.expanded p::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top left, var(--primary-50) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: 10px;
    pointer-events: none;
}

.device-card.expanded p:hover {
    transform: translateY(-2px);
    border-color: var(--primary-300);
    box-shadow: 0 6px 16px rgba(75, 129, 201, 0.12);
}

.device-card.expanded p:hover::before {
    opacity: 1;
}

/* ========================================
   BOTÕES - CONFIGURAR E REMOVER
   ======================================== */

/* Container dos botões */
.device-card.expanded > button {
    display: inline-flex !important;
    max-height: none !important;
    opacity: 1 !important;
    pointer-events: auto !important;
}

/* Espaço antes dos botões */
.device-card.expanded > button:first-of-type {
    margin-top: 8px;
}

.device-card button {
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 13px 22px !important;
    margin: 0 10px 0 0 !important;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 0.3px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    border: none;
}

/* Botão Configurar */
.device-card button:first-of-type {
    background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-700) 100%);
    color: white;
    box-shadow: 0 4px 14px rgba(75, 129, 201, 0.3);
}

.device-card button:first-of-type::before {
    content: '';
    width: 17px;
    height: 17px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='3'/%3E%3Cpath d='M12 1v6m0 6v6M1 12h6m6 0h6'/%3E%3Cpath d='m4.93 4.93 4.24 4.24m5.66 5.66 4.24 4.24M19.07 4.93l-4.24 4.24m-5.66 5.66-4.24 4.24'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
}

.device-card.expanded button:first-of-type:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(75, 129, 201, 0.4);
}

.device-card.expanded button:first-of-type:active {
    transform: translateY(-1px);
}

/* Botão Remover */
.device-card button:last-of-type {
    background: white;
    color: var(--error);
    border: 2px solid var(--error-light) !important;
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.12);
}

.device-card button:last-of-type::before {
    content: '';
    width: 17px;
    height: 17px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ef4444' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 6h18M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2m3 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6h14z'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
}

body.dark-mode .device-card button:last-of-type {
    background: var(--gray-100);
}

.device-card.expanded button:last-of-type:hover {
    background: var(--error);
    color: white;
    border-color: var(--error) !important;
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(239, 68, 68, 0.35);
}

.device-card.expanded button:last-of-type:hover::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 6h18M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2m3 0v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6h14z'/%3E%3Cline x1='10' y1='11' x2='10' y2='17'/%3E%3Cline x1='14' y1='11' x2='14' y2='17'/%3E%3C/svg%3E");
}

.device-card.expanded button:last-of-type:active {
    transform: translateY(-1px);
}

/* ========================================
   SCROLLBAR DO CARD EXPANDIDO
   ======================================== */

.device-card.expanded::-webkit-scrollbar {
    width: 6px;
}

.device-card.expanded::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.03);
    border-radius: 10px;
    margin: 4px 0;
}

.device-card.expanded::-webkit-scrollbar-thumb {
    background: var(--primary-400);
    border-radius: 10px;
}

.device-card.expanded::-webkit-scrollbar-thumb:hover {
    background: var(--primary-500);
}

/* ========================================
   ANIMAÇÃO DE ENTRADA DO CONTEÚDO
   ======================================== */

.device-card.expanded p {
    animation: slideInContent 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.device-card.expanded p:nth-of-type(1) {
    animation-delay: 0.1s;
}

.device-card.expanded p:nth-of-type(2) {
    animation-delay: 0.15s;
}

.device-card.expanded p:nth-of-type(3) {
    animation-delay: 0.2s;
}

.device-card.expanded button {
    animation: slideInContent 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    animation-delay: 0.25s;
}

@keyframes slideInContent {
    from {
        opacity: 0;
        transform: translateY(-15px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========================================
   RESPONSIVIDADE
   ======================================== */

@media (max-width: 768px) {
    .device-card.expanded {
        padding: 20px 24px 24px 24px;
        max-height: 600px;
    }
    
    .device-card.expanded h3,
    .device-card.expanded h4 {
        font-size: 20px !important;
        margin-bottom: 20px !important;
        padding-right: 50px !important;
    }
    
    .device-card.expanded > span:first-of-type {
        top: 20px !important;
        right: 60px !important;
        font-size: 10px !important;
        padding: 7px 13px !important;
    }
    
    .device-card.expanded::after {
        top: 20px !important;
        right: 20px !important;
        width: 32px;
        height: 32px;
        background-size: 14px;
    }
    
    .device-card.expanded p {
        font-size: 13px !important;
        padding: 12px 16px !important;
    }
    
    .device-card.expanded button {
        width: 100%;
        margin: 0 0 8px 0 !important;
        justify-content: center;
    }
}

/* === RESET E CONFIGURAÇÕES BASE === */
#terra-ia {
    display: none !important;
}

#terra-ia.active {
    display: block !important;
}

#terra-ia.content-section {
    padding: 0;
    height: 100vh;
    overflow: hidden;
    background: linear-gradient(135deg, #f0fdf4 0%, #ffffff 100%);
}

body.dark-mode #terra-ia.content-section {
    background: linear-gradient(135deg, #1a1f2e 0%, #0f1419 100%);
}

/* === HEADER PREMIUM === */
.terra-ia-header {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    padding: 24px 40px;
    box-shadow: 0 4px 20px rgba(16, 185, 129, 0.2);
    position: relative;
    overflow: hidden;
}

.terra-ia-header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    animation: headerShine 10s ease-in-out infinite;
}

@keyframes headerShine {
    0%, 100% { transform: translate(0, 0); opacity: 0.3; }
    50% { transform: translate(10%, 10%); opacity: 0.5; }
}

.terra-ia-header .header-content {
    display: flex;
    align-items: center;
    gap: 20px;
    position: relative;
    z-index: 2;
}

.terra-ia-header .header-icon.terra {
    width: 56px;
    height: 56px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 
        0 4px 12px rgba(0, 0, 0, 0.1),
        inset 0 1px 2px rgba(255, 255, 255, 0.3);
}

.terra-ia-header .header-icon.terra svg {
    width: 30px;
    height: 30px;
    stroke: white;
    stroke-width: 2.5;
    fill: none;
}

.terra-ia-header .header-text h2 {
    color: white;
    font-size: 26px;
    margin: 0 0 4px 0;
    font-weight: 800;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.terra-ia-header .header-text p {
    color: rgba(255, 255, 255, 0.95);
    font-size: 14px;
    margin: 0;
    font-weight: 500;
}

.terra-ia-header .header-badge.terra {
    background: rgba(255, 255, 255, 0.25);
    color: white;
    padding: 8px 18px;
    font-size: 11px;
    font-weight: 800;
    letter-spacing: 1px;
    border-radius: 20px;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

/* === CHAT WRAPPER === */
.terra-chat-wrapper {
    display: flex;
    height: calc(100vh - 120px);
    background: white;
    border-radius: 24px 24px 0 0;
    margin: 0 20px;
    overflow: hidden;
    box-shadow: 0 -4px 30px rgba(0, 0, 0, 0.08);
}

body.dark-mode .terra-chat-wrapper {
    background: #1e2433;
    box-shadow: 0 -4px 30px rgba(0, 0, 0, 0.4);
}

/* === SIDEBAR === */
.terra-sidebar {
    width: 280px;
    background: #f9fafb;
    border-right: 1px solid #e5e7eb;
    display: flex;
    flex-direction: column;
}

body.dark-mode .terra-sidebar {
    background: #151a26;
    border-right-color: #2a3142;
}

.terra-sidebar-header {
    padding: 20px;
    border-bottom: 1px solid #e5e7eb;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

body.dark-mode .terra-sidebar-header {
    border-bottom-color: #2a3142;
}

.terra-logo-sidebar {
    display: flex;
    align-items: center;
    gap: 10px;
}

.logo-icon-sidebar {
    font-size: 24px;
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.logo-text-sidebar {
    font-size: 16px;
    font-weight: 800;
    color: #10b981;
}

.new-chat-btn {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: #10b981;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s;
}

.new-chat-btn:hover {
    background: #059669;
    transform: scale(1.1);
}

.new-chat-btn svg {
    width: 18px;
    height: 18px;
    stroke: white;
}

.conversations-section {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
}

.conversations-section h3 {
    font-size: 12px;
    font-weight: 700;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin: 0 0 15px 10px;
}

.conversations-list {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.conversation-item {
    padding: 12px 15px;
    border-radius: 12px;
    background: white;
    border: 1px solid #e5e7eb;
    cursor: pointer;
    transition: all 0.3s;
}

body.dark-mode .conversation-item {
    background: #1e2433;
    border-color: #2a3142;
}

.conversation-item:hover {
    background: #f0fdf4;
    border-color: #10b981;
    transform: translateX(4px);
}

body.dark-mode .conversation-item:hover {
    background: #1f2937;
}

.conversation-item.active {
    background: #d1fae5;
    border-color: #10b981;
}

body.dark-mode .conversation-item.active {
    background: #064e3b;
}

.conversation-title {
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    margin-bottom: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

body.dark-mode .conversation-title {
    color: #f9fafb;
}

.conversation-preview {
    font-size: 12px;
    color: #6b7280;
}

.sidebar-footer-terra {
    padding: 15px;
    border-top: 1px solid #e5e7eb;
}

body.dark-mode .sidebar-footer-terra {
    border-top-color: #2a3142;
}

.new-chat-mobile {
    width: 100%;
    padding: 12px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s;
}

.new-chat-mobile:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
}

/* === ÁREA PRINCIPAL === */
.terra-chat-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 40px;
    background: linear-gradient(180deg, #fafafa 0%, #ffffff 100%);
}

body.dark-mode .chat-messages {
    background: linear-gradient(180deg, #1e2433 0%, #151a26 100%);
}

/* Scrollbar */
.chat-messages::-webkit-scrollbar {
    width: 8px;
}

.chat-messages::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.05);
    border-radius: 10px;
}

.chat-messages::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #10b981 0%, #059669 100%);
    border-radius: 10px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #059669 0%, #047857 100%);
}

/* === WELCOME SCREEN === */
.welcome-screen {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100%;
    animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.welcome-content {
    max-width: 800px;
    text-align: center;
}

/* === LOGO PLANETA TERRA === */
.terra-avatar-big {
    width: 160px;
    height: 160px;
    margin: 0 auto 40px;
    position: relative;
    animation: float 8s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.terra-globe {
    width: 160px;
    height: 160px;
    background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
    border-radius: 50%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 
        0 20px 60px rgba(16, 185, 129, 0.4),
        inset 0 -20px 40px rgba(0, 0, 0, 0.2),
        inset 0 10px 30px rgba(255, 255, 255, 0.3);
    animation: rotate 30s linear infinite;
}

.terra-globe::before {
    content: '';
    position: absolute;
    top: 15%;
    left: 20%;
    width: 50%;
    height: 50%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
    border-radius: 50%;
}

.globe-emoji {
    font-size: 100px;
    position: relative;
    z-index: 10;
    animation: rotate 35s linear infinite reverse;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
}

.meridian {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    border: 2px solid rgba(255, 255, 255, 0.15);
    border-radius: 50%;
}

.meridian:nth-child(2) {
    transform: translate(-50%, -50%) rotate(60deg);
}

.meridian:nth-child(3) {
    transform: translate(-50%, -50%) rotate(120deg);
}

.equator {
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 2px;
    background: rgba(255, 255, 255, 0.15);
}

/* === TEXTOS === */
.welcome-content h2 {
    font-size: 42px;
    font-weight: 900;
    margin-bottom: 20px;
    background: linear-gradient(135deg, #1f2937 0%, #10b981 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

body.dark-mode .welcome-content h2 {
    background: linear-gradient(135deg, #ffffff 0%, #10b981 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.welcome-content > p {
    font-size: 17px;
    color: #6b7280;
    line-height: 1.7;
    max-width: 600px;
    margin: 0 auto 50px;
    font-weight: 500;
}

body.dark-mode .welcome-content > p {
    color: #9ca3af;
}

/* === TÓPICOS SUGERIDOS === */
.suggested-topics {
    margin-top: 50px;
}

.suggested-topics h3 {
    font-size: 13px;
    font-weight: 800;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: 25px;
}

.topics-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 16px;
    max-width: 700px;
    margin: 0 auto;
}

.topic-btn {
    padding: 24px 20px;
    border-radius: 16px;
    border: 2px solid #e5e7eb;
    background: white;
    cursor: pointer;
    text-align: left;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

body.dark-mode .topic-btn {
    background: #1e2433;
    border-color: #2a3142;
}

.topic-btn:hover {
    border-color: #10b981;
    transform: translateY(-6px);
    box-shadow: 0 12px 30px rgba(16, 185, 129, 0.2);
}

.topic-icon {
    width: 56px;
    height: 56px;
    border-radius: 14px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 16px;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
    transition: all 0.4s;
}

.topic-btn:hover .topic-icon {
    transform: scale(1.1) rotate(-5deg);
}

.topic-icon svg {
    width: 28px;
    height: 28px;
    stroke: white;
    fill: none;
    stroke-width: 2.5;
}

.topic-text {
    font-size: 15px;
    font-weight: 700;
    color: #1f2937;
    line-height: 1.4;
}

body.dark-mode .topic-text {
    color: #f9fafb;
}

.topic-btn:hover .topic-text {
    color: #10b981;
}

/* === MENSAGENS === */
.messages-container {
    display: flex;
    flex-direction: column;
    gap: 24px;
    max-width: 900px;
    margin: 0 auto;
}

.message {
    display: flex;
    gap: 16px;
    animation: slideIn 0.5s ease-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.user {
    flex-direction: row-reverse;
}

.message-avatar {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.message.assistant .message-avatar {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.message.assistant .message-avatar::before {
    content: '🌍';
}

.message.user .message-avatar {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

.message.user .message-avatar::before {
    content: '👤';
}

.message-content {
    padding: 16px 20px;
    max-width: 70%;
    border-radius: 20px;
    line-height: 1.6;
    font-size: 15px;
    font-weight: 500;
}

.message.user .message-content {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border-radius: 20px 20px 4px 20px;
    box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
}

.message.assistant .message-content {
    background: white;
    color: #1f2937;
    border: 2px solid #e5e7eb;
    border-radius: 20px 20px 20px 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

body.dark-mode .message.assistant .message-content {
    background: #1e2433;
    border-color: #2a3142;
    color: #f9fafb;
}

.message-time {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 8px;
}

.message.assistant .message-time {
    color: #9ca3af;
}

/* Typing Indicator */
.typing-indicator {
    animation: slideIn 0.5s ease-out;
}

.typing-indicator .message-content {
    display: flex;
    gap: 6px;
    padding: 20px 24px;
}

.typing-dots {
    display: flex;
    gap: 6px;
}

.typing-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: #10b981;
    animation: bounce 1.4s infinite ease-in-out;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes bounce {
    0%, 60%, 100% {
        transform: translateY(0);
        opacity: 0.7;
    }
    30% {
        transform: translateY(-10px);
        opacity: 1;
    }
}

/* === INPUT ÁREA === */
.chat-input-area {
    padding: 24px 40px;
    background: white;
    border-top: 2px solid #e5e7eb;
}

body.dark-mode .chat-input-area {
    background: #1e2433;
    border-top-color: #2a3142;
}

.input-container {
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    gap: 12px;
    align-items: flex-end;
    background: #f9fafb;
    border: 2px solid #e5e7eb;
    border-radius: 20px;
    padding: 12px 12px 12px 20px;
    transition: all 0.3s;
}

body.dark-mode .input-container {
    background: #151a26;
    border-color: #2a3142;
}

.input-container:focus-within {
    border-color: #10b981;
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.1);
}

#messageInput {
    flex: 1;
    border: none;
    background: transparent;
    outline: none;
    font-size: 15px;
    font-family: inherit;
    resize: none;
    max-height: 120px;
    color: #1f2937;
    font-weight: 500;
}

body.dark-mode #messageInput {
    color: #f9fafb;
}

#messageInput::placeholder {
    color: #9ca3af;
}

.send-btn {
    width: 48px;
    height: 48px;
    border-radius: 14px;
    border: none;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s;
    flex-shrink: 0;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
}

.send-btn:hover:not(:disabled) {
    transform: scale(1.1);
    box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
}

.send-btn:active:not(:disabled) {
    transform: scale(0.95);
}

.send-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
    box-shadow: none;
}

.send-icon::before {
    content: '➤';
    font-size: 22px;
    color: white;
    transform: rotate(45deg);
    display: block;
    font-weight: 900;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
}

.input-footer {
    text-align: center;
    margin-top: 12px;
    font-size: 12px;
    color: #9ca3af;
    font-weight: 500;
}

/* === RESPONSIVO === */
@media (max-width: 768px) {
    .terra-sidebar {
        display: none;
    }
    
    .terra-chat-wrapper {
        margin: 0 10px;
        border-radius: 20px 20px 0 0;
    }
    
    .chat-messages {
        padding: 24px 16px;
    }
    
    .topics-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
    
    .welcome-content h2 {
        font-size: 32px;
    }
    
    .terra-avatar-big {
        width: 120px;
        height: 120px;
    }
    
    .terra-globe {
        width: 120px;
        height: 120px;
    }
    
    .globe-emoji {
        font-size: 70px;
    }
    
    .message-content {
        max-width: 85%;
        font-size: 14px;
    }
    
    .chat-input-area {
        padding: 16px;
    }
    
    .input-container {
        padding: 10px 10px 10px 16px;
    }
    
    .send-btn {
        width: 44px;
        height: 44px;
    }
}

@media (max-width: 480px) {
    .terra-ia-header {
        padding: 20px 16px;
    }
    
    .welcome-content h2 {
        font-size: 28px;
    }
    
    .welcome-content > p {
        font-size: 15px;
    }
    
    .terra-avatar-big {
        width: 100px;
        height: 100px;
    }
    
    .terra-globe {
        width: 100px;
        height: 100px;
    }
    
    .globe-emoji {
        font-size: 60px;
    }
    
    .topic-btn {
        padding: 20px 16px;
    }
    
    .topic-icon {
        width: 48px;
        height: 48px;
    }
    
    .topic-icon svg {
        width: 24px;
        height: 24px;
    }
}
/* ========================================
   TERRA IA - ANIMAÇÕES E EFEITOS PREMIUM
   ======================================== */

/* === ANIMAÇÕES GLOBAIS === */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.9;
        transform: scale(1.05);
    }
}

@keyframes glow {
    0%, 100% {
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
    }
    50% {
        box-shadow: 0 0 30px rgba(16, 185, 129, 0.6);
    }
}

@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }
    100% {
        background-position: 1000px 0;
    }
}

/* === HEADER COM PARTÍCULAS === */
.terra-ia-header {
    animation: slideInLeft 0.6s ease-out;
}

.terra-ia-header .header-icon.terra {
    animation: pulse 3s ease-in-out infinite;
}

/* Partículas flutuantes no header */
.terra-ia-header::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
    animation: particleFloat 20s ease-in-out infinite;
    pointer-events: none;
}

@keyframes particleFloat {
    0%, 100% {
        opacity: 0.3;
        transform: translateY(0);
    }
    50% {
        opacity: 0.6;
        transform: translateY(-10px);
    }
}

/* === SIDEBAR COM ANIMAÇÕES === */
.terra-sidebar {
    animation: slideInLeft 0.6s ease-out 0.2s backwards;
}

/* Animação do logo girando */
.terra-logo-sidebar:hover .logo-icon-sidebar {
    animation-play-state: paused;
    transform: scale(1.2);
    filter: drop-shadow(0 4px 8px rgba(16, 185, 129, 0.5));
}

/* Conversation items com entrada animada */
.conversation-item {
    animation: fadeInUp 0.4s ease-out backwards;
}

.conversation-item:nth-child(1) { animation-delay: 0.1s; }
.conversation-item:nth-child(2) { animation-delay: 0.15s; }
.conversation-item:nth-child(3) { animation-delay: 0.2s; }
.conversation-item:nth-child(4) { animation-delay: 0.25s; }
.conversation-item:nth-child(5) { animation-delay: 0.3s; }

/* Efeito ripple ao clicar */
.conversation-item::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(16, 185, 129, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
    z-index: 0;
}

.conversation-item:active::before {
    width: 300px;
    height: 300px;
}

.conversation-content,
.delete-conversation-btn {
    position: relative;
    z-index: 1;
}

/* === BOTÃO NOVA CONVERSA COM ANIMAÇÕES === */
.new-chat-mobile {
    position: relative;
    overflow: hidden;
    animation: fadeInUp 0.6s ease-out 0.4s backwards;
}

.new-chat-mobile::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: left 0.5s;
}

.new-chat-mobile:hover::before {
    left: 100%;
}

/* === WELCOME SCREEN COM ANIMAÇÕES === */
.welcome-screen {
    animation: fadeIn 0.8s ease-out;
}

/* Anéis orbitais ao redor do planeta */
.terra-avatar-big::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200px;
    height: 200px;
    border: 2px solid rgba(16, 185, 129, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: orbitRing 8s linear infinite;
    z-index: -1;
}

@keyframes orbitRing {
    0% {
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
        opacity: 0.3;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        transform: translate(-50%, -50%) scale(1.2) rotate(360deg);
        opacity: 0.3;
    }
}

/* Segundo anel */
.terra-avatar-big::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 220px;
    height: 220px;
    border: 2px dashed rgba(16, 185, 129, 0.2);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    animation: orbitRing 12s linear infinite reverse;
    z-index: -1;
}

/* === TEXTOS COM ANIMAÇÃO === */
.welcome-content h2 {
    animation: fadeInUp 0.6s ease-out 0.3s backwards;
    position: relative;
    display: inline-block;
}

.welcome-content h2::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 3px;
    background: linear-gradient(90deg, transparent, #10b981, transparent);
    animation: underlineGrow 1.5s ease-out 1s forwards;
}

@keyframes underlineGrow {
    to {
        width: 100%;
    }
}

.welcome-content > p {
    animation: fadeInUp 0.6s ease-out 0.5s backwards;
}

/* === TÓPICOS COM ANIMAÇÕES INCRÍVEIS === */
.suggested-topics {
    animation: fadeInUp 0.6s ease-out 0.7s backwards;
}

.topic-btn {
    position: relative;
    overflow: hidden;
    animation: fadeInUp 0.5s ease-out backwards;
}

.topic-btn:nth-child(1) { animation-delay: 0.8s; }
.topic-btn:nth-child(2) { animation-delay: 0.9s; }
.topic-btn:nth-child(3) { animation-delay: 1s; }
.topic-btn:nth-child(4) { animation-delay: 1.1s; }

/* Efeito de onda ao passar o mouse */
.topic-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(16, 185, 129, 0.15) 0%, transparent 70%);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
    z-index: 0;
}

.topic-btn:hover::before {
    width: 500px;
    height: 500px;
}

.topic-icon,
.topic-text {
    position: relative;
    z-index: 1;
}

/* Brilho no ícone */
.topic-icon::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.3),
        transparent
    );
    transition: left 0.5s;
}

.topic-btn:hover .topic-icon::before {
    left: 100%;
}

/* === MENSAGENS COM ANIMAÇÕES === */
.message.user {
    animation: slideInRight 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.message.assistant {
    animation: slideInLeft 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Avatar com efeito de brilho */
.message-avatar {
    position: relative;
}

.message-avatar::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: 50%;
    background: linear-gradient(45deg, transparent, rgba(16, 185, 129, 0.5), transparent);
    opacity: 0;
    transition: opacity 0.3s;
    z-index: -1;
}

.message:hover .message-avatar::after {
    opacity: 1;
    animation: rotateBorder 2s linear infinite;
}

@keyframes rotateBorder {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

/* === TYPING INDICATOR COM ANIMAÇÃO === */
.typing-indicator {
    animation: fadeIn 0.3s ease-out;
}

.typing-dot:nth-child(1) { 
    background: linear-gradient(135deg, #10b981, #34d399);
}
.typing-dot:nth-child(2) { 
    background: linear-gradient(135deg, #059669, #10b981);
}
.typing-dot:nth-child(3) { 
    background: linear-gradient(135deg, #047857, #059669);
}

/* === INPUT AREA COM ANIMAÇÕES === */
.chat-input-area {
    animation: slideInLeft 0.6s ease-out 0.3s backwards;
}

.input-container {
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.input-container:focus-within {
    transform: translateY(-2px);
}

/* Botão de enviar com animação */
.send-btn {
    position: relative;
    overflow: hidden;
}

.send-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.send-btn:active::before {
    width: 200px;
    height: 200px;
}

.send-icon {
    transition: all 0.3s;
}

.send-btn:hover:not(:disabled) .send-icon {
    animation: sendPulse 0.6s ease-in-out;
}

@keyframes sendPulse {
    0%, 100% {
        transform: rotate(45deg) scale(1);
    }
    50% {
        transform: rotate(45deg) scale(1.2);
    }
}

/* === SCROLLBAR ANIMADO === */
.chat-messages::-webkit-scrollbar-thumb {
    transition: all 0.3s;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
    animation: glow 2s ease-in-out infinite;
}

/* === DELETE BUTTON COM ANIMAÇÃO === */
.delete-conversation-btn {
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.delete-conversation-btn:hover {
    animation: shake 0.5s ease;
}

/* === EFEITOS ESPECIAIS === */

/* Efeito de ondas no background */
@keyframes waveAnimation {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

.chat-messages {
    background-size: 200% 200%;
    animation: waveAnimation 15s ease infinite;
}

/* Efeito de brilho ao carregar */
@keyframes initialShine {
    0% {
        opacity: 0;
        transform: translateY(50px) scale(0.9);
    }
    50% {
        opacity: 0.5;
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.terra-chat-wrapper {
    animation: initialShine 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Efeito de partículas no fundo do chat */
.chat-messages::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
        radial-gradient(circle at 15% 30%, rgba(16, 185, 129, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 85% 70%, rgba(59, 130, 246, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(139, 92, 246, 0.02) 0%, transparent 50%);
    pointer-events: none;
    animation: particleFloat 20s ease-in-out infinite;
}

/* Efeito de hover suave em todos os elementos interativos */
.conversation-item,
.topic-btn,
.new-chat-mobile,
.send-btn,
.delete-conversation-btn {
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Animação de pulsação para elementos importantes */
@keyframes subtlePulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.02);
    }
}

.new-chat-mobile:hover {
    animation: subtlePulse 2s ease-in-out infinite;
}

/* Efeito de digitação no título */
@keyframes typing {
    from {
        width: 0;
    }
    to {
        width: 100%;
    }
}

/* Brilho sutil no planeta */
.terra-globe {
    animation: rotate 30s linear infinite, glow 4s ease-in-out infinite;
}

/* Partículas ao redor do planeta */
.globe-emoji::after {
    content: '✨';
    position: absolute;
    font-size: 16px;
    top: -10px;
    right: -10px;
    animation: sparkle 2s ease-in-out infinite;
}

@keyframes sparkle {
    0%, 100% {
        transform: scale(1) rotate(0deg);
        opacity: 0.7;
    }
    50% {
        transform: scale(1.3) rotate(180deg);
        opacity: 1;
    }
}

/* Efeito de foco melhorado */
#messageInput:focus {
    animation: inputFocus 0.3s ease-out;
}

@keyframes inputFocus {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.02);
    }
    100% {
        transform: scale(1);
    }
}

/* Animação de carregamento suave para novos elementos */
.message-content,
.conversation-item {
    transition: all 0.3s ease;
}

.message-content:hover,
.conversation-item:hover {
    transform: translateX(4px);
}

.message.user .message-content:hover {
    transform: translateX(-4px);
}
/* ========================================
   TERRA IA - MENSAGENS PREMIUM ESTILIZADAS
   ======================================== */

/* === CONTAINER DE MENSAGENS === */
.messages-container {
    display: flex;
    flex-direction: column;
    gap: 28px;
    max-width: 900px;
    width: 100%;
    margin: 0 auto;
    padding: 20px 0;
}
/* === MENSAGENS BASE - CORRIGIDO === */
.message {
    display: flex;
    gap: 16px;
    opacity: 1; /* REMOVIDO opacity: 0 */
    animation: messageSlideIn 0.6s ease-out;
}

@keyframes messageSlideIn {
    0% {
        opacity: 0;
        transform: translateY(30px);
        /* REMOVIDO filter: blur */
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.user {
    flex-direction: row-reverse;
    opacity: 1; /* SEMPRE VISÍVEL */
    animation: messageSlideInRight 0.6s ease-out;
}

@keyframes messageSlideInRight {
    0% {
        opacity: 0;
        transform: translateX(30px);
    }
    100% {
        opacity: 1;
        transform: translateX(0);
    }
}

/* GARANTIR VISIBILIDADE */
.message-avatar {
    opacity: 1 !important;
    animation: avatarBounce 0.5s ease-out;
}

@keyframes avatarBounce {
    0% {
        transform: scale(0.8);
    }
    100% {
        transform: scale(1);
    }
}

.message-content {
    opacity: 1 !important;
    animation: contentFadeIn 0.5s ease-out;
}

@keyframes contentFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Avatar do Assistente (Terra IA) */
.message.assistant .message-avatar {
    background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
    box-shadow: 
        0 8px 24px rgba(16, 185, 129, 0.4),
        inset 0 -4px 12px rgba(0, 0, 0, 0.2),
        inset 0 2px 8px rgba(255, 255, 255, 0.3);
    border: 3px solid rgba(255, 255, 255, 0.2);
}

.message.assistant .message-avatar::before {
    content: '🌍';
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    animation: rotate 20s linear infinite;
}

/* Anel pulsante no avatar do assistente */
.message.assistant .message-avatar::after {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border-radius: 50%;
    border: 2px solid rgba(16, 185, 129, 0.4);
    animation: avatarRing 3s ease-in-out infinite;
}

@keyframes avatarRing {
    0%, 100% {
        transform: scale(1);
        opacity: 0.5;
    }
    50% {
        transform: scale(1.15);
        opacity: 0;
    }
}

/* Avatar do Usuário */
.message.user .message-avatar {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%);
    box-shadow: 
        0 8px 24px rgba(59, 130, 246, 0.4),
        inset 0 -4px 12px rgba(0, 0, 0, 0.2),
        inset 0 2px 8px rgba(255, 255, 255, 0.3);
    border: 3px solid rgba(255, 255, 255, 0.2);
}

.message.user .message-avatar::before {
    content: '👤';
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
}

/* Hover nos avatares */
.message:hover .message-avatar {
    transform: scale(1.15) rotate(5deg);
}

.message.user:hover .message-avatar {
    transform: scale(1.15) rotate(-5deg);
}


/* Mensagem do Usuário - AZUL PREMIUM */
.message.user .message-content {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border-radius: 24px 24px 6px 24px;
    box-shadow: 
        0 8px 28px rgba(59, 130, 246, 0.35),
        inset 0 1px 0 rgba(255, 255, 255, 0.2),
        inset 0 -1px 0 rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Brilho animado na mensagem do usuário */
.message.user .message-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
    );
    transition: left 0.8s ease;
    z-index: 0;
}

.message.user:hover .message-content::before {
    left: 100%;
}

/* Mensagem do Assistente - BRANCO/VERDE PREMIUM */
.message.assistant .message-content {
    background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%);
    color: #1f2937;
    border-radius: 24px 24px 24px 6px;
    border: 2px solid #d1fae5;
    box-shadow: 
        0 4px 20px rgba(16, 185, 129, 0.15),
        0 2px 8px rgba(0, 0, 0, 0.06);
}

body.dark-mode .message.assistant .message-content {
    background: linear-gradient(135deg, #1e2433 0%, #0f1419 100%);
    border-color: rgba(16, 185, 129, 0.3);
    color: #f9fafb;
    box-shadow: 
        0 4px 20px rgba(16, 185, 129, 0.2),
        0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Borda decorativa esquerda na mensagem do assistente */
.message.assistant .message-content::before {
    content: '';
    position: absolute;
    left: 0;
    top: 20%;
    bottom: 20%;
    width: 4px;
    background: linear-gradient(180deg, #10b981, #34d399, #10b981);
    border-radius: 0 4px 4px 0;
    animation: borderPulse 3s ease-in-out infinite;
    z-index: 1;
}

@keyframes borderPulse {
    0%, 100% {
        opacity: 0.6;
        transform: scaleY(1);
    }
    50% {
        opacity: 1;
        transform: scaleY(1.1);
    }
}

/* === HOVER NAS MENSAGENS === */
.message.user .message-content:hover {
    transform: translateY(-4px) translateX(-6px);
    box-shadow: 
        0 12px 36px rgba(59, 130, 246, 0.45),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
}

.message.assistant .message-content:hover {
    transform: translateY(-4px) translateX(6px);
    box-shadow: 
        0 8px 32px rgba(16, 185, 129, 0.25),
        0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: #10b981;
}

body.dark-mode .message.assistant .message-content:hover {
    box-shadow: 
        0 8px 32px rgba(16, 185, 129, 0.35),
        0 4px 12px rgba(0, 0, 0, 0.4);
}

/* === FORMATAÇÃO DO TEXTO === */
.message-content p {
    margin: 0 0 12px 0;
    position: relative;
    z-index: 2;
}

.message-content p:last-child {
    margin-bottom: 0;
}

.message-content strong {
    font-weight: 700;
    color: inherit;
    position: relative;
}

.message.assistant .message-content strong {
    color: #059669;
    text-shadow: 0 1px 2px rgba(16, 185, 129, 0.1);
}

body.dark-mode .message.assistant .message-content strong {
    color: #34d399;
}

.message-content code {
    background: rgba(0, 0, 0, 0.1);
    padding: 2px 6px;
    border-radius: 6px;
    font-family: 'Courier New', monospace;
    font-size: 14px;
}

.message.user .message-content code {
    background: rgba(255, 255, 255, 0.2);
}

/* === TIMESTAMP === */
.message-time {
    font-size: 11px;
    margin-top: 8px;
    opacity: 0.8;
    font-weight: 600;
    letter-spacing: 0.3px;
    transition: opacity 0.3s;
}

.message.user .message-time {
    color: rgba(255, 255, 255, 0.9);
    text-align: right;
}

.message.assistant .message-time {
    color: #6b7280;
}

body.dark-mode .message.assistant .message-time {
    color: #9ca3af;
}

.message:hover .message-time {
    opacity: 1;
}

/* === TYPING INDICATOR PREMIUM === */
.typing-indicator {
    animation: messageSlideIn 0.4s ease-out;
}

.typing-indicator .message-avatar {
    animation: avatarPulse 1.5s ease-in-out infinite;
}

@keyframes avatarPulse {
    0%, 100% {
        transform: scale(1);
        box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
    }
    50% {
        transform: scale(1.08);
        box-shadow: 0 12px 32px rgba(16, 185, 129, 0.6);
    }
}

.typing-indicator .message-content {
    display: flex;
    gap: 8px;
    padding: 22px 28px;
    background: linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%);
    border: 2px solid #d1fae5;
    box-shadow: 
        0 4px 20px rgba(16, 185, 129, 0.2),
        0 2px 8px rgba(0, 0, 0, 0.06);
}

body.dark-mode .typing-indicator .message-content {
    background: linear-gradient(135deg, #1e2433 0%, #0f1419 100%);
    border-color: rgba(16, 185, 129, 0.3);
}

.typing-dots {
    display: flex;
    gap: 8px;
    align-items: center;
}

.typing-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    animation: typingBounce 1.4s infinite ease-in-out;
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.typing-dot:nth-child(1) { 
    background: linear-gradient(135deg, #10b981, #34d399);
    animation-delay: 0s;
}

.typing-dot:nth-child(2) { 
    background: linear-gradient(135deg, #059669, #10b981);
    animation-delay: 0.2s;
}

.typing-dot:nth-child(3) { 
    background: linear-gradient(135deg, #047857, #059669);
    animation-delay: 0.4s;
}

@keyframes typingBounce {
    0%, 60%, 100% {
        transform: translateY(0) scale(1);
        opacity: 0.7;
    }
    30% {
        transform: translateY(-16px) scale(1.2);
        opacity: 1;
        box-shadow: 0 8px 20px rgba(16, 185, 129, 0.6);
    }
}

/* === EFEITOS ESPECIAIS === */

/* Partículas flutuantes nas mensagens do assistente */
.message.assistant .message-content::after {
    content: '';
    position: absolute;
    top: 10%;
    right: 5%;
    width: 4px;
    height: 4px;
    background: rgba(16, 185, 129, 0.3);
    border-radius: 50%;
    box-shadow: 
        20px 30px 0 rgba(16, 185, 129, 0.2),
        40px 10px 0 rgba(16, 185, 129, 0.15),
        -10px 20px 0 rgba(16, 185, 129, 0.25);
    animation: floatingParticles 10s ease-in-out infinite;
    pointer-events: none;
    z-index: 0;
}

@keyframes floatingParticles {
    0%, 100% {
        transform: translate(0, 0);
        opacity: 0.3;
    }
    50% {
        transform: translate(5px, -5px);
        opacity: 0.6;
    }
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
    .message-content {
        max-width: 85%;
        padding: 16px 20px;
        font-size: 14px;
    }
    
    .message-avatar {
        width: 42px;
        height: 42px;
        font-size: 20px;
    }
    
    .messages-container {
        gap: 20px;
    }
}

@media (max-width: 480px) {
    .message-content {
        max-width: 90%;
        padding: 14px 18px;
        border-radius: 20px;
    }
    
    .message.user .message-content {
        border-radius: 20px 20px 5px 20px;
    }
    
    .message.assistant .message-content {
        border-radius: 20px 20px 20px 5px;
    }
    
    .message-avatar {
        width: 38px;
        height: 38px;
        font-size: 18px;
    }
}

/* === VARIAÇÕES DE COR PARA DIFERENTES TIPOS === */

/* Mensagem de erro */
.message.assistant.error .message-content {
    background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
    border-color: #fca5a5;
}

.message.assistant.error .message-content::before {
    background: linear-gradient(180deg, #ef4444, #f87171, #ef4444);
}

body.dark-mode .message.assistant.error .message-content {
    background: linear-gradient(135deg, #450a0a 0%, #7f1d1d 100%);
    border-color: rgba(239, 68, 68, 0.3);
}

/* Mensagem de sucesso */
.message.assistant.success .message-content {
    background: linear-gradient(135deg, #f0fdf4 0%, #d1fae5 100%);
    border-color: #6ee7b7;
}

body.dark-mode .message.assistant.success .message-content {
    background: linear-gradient(135deg, #022c22 0%, #064e3b 100%);
    border-color: rgba(16, 185, 129, 0.4);
}

/* Mensagem de info */
.message.assistant.info .message-content {
    background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
    border-color: #93c5fd;
}

.message.assistant.info .message-content::before {
    background: linear-gradient(180deg, #3b82f6, #60a5fa, #3b82f6);
}

body.dark-mode .message.assistant.info .message-content {
    background: linear-gradient(135deg, #0c4a6e 0%, #075985 100%);
    border-color: rgba(59, 130, 246, 0.3);
}
/* ========================================
   RELATÓRIOS - DESIGN PREMIUM E INTERATIVO
   ======================================== */

/* === CONTAINER PRINCIPAL === */
#relatorios.content-section {
    padding: 0;
    background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 100%);
    min-height: 100vh;
    animation: fadeIn 0.6s ease-out;
}

body.dark-mode #relatorios.content-section {
    background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);
}

/* === HEADER PREMIUM === */
.reports-header {
    background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
    padding: 32px 40px;
    box-shadow: 0 8px 32px rgba(14, 165, 233, 0.25);
    position: relative;
    overflow: hidden;
    animation: slideDown 0.6s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Partículas animadas no header */
.reports-header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    animation: headerFloat 15s ease-in-out infinite;
}

@keyframes headerFloat {
    0%, 100% {
        transform: translate(0, 0) rotate(0deg);
        opacity: 0.3;
    }
    50% {
        transform: translate(20px, -20px) rotate(180deg);
        opacity: 0.6;
    }
}

.reports-header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    z-index: 2;
}

.reports-title-section {
    display: flex;
    align-items: center;
    gap: 24px;
}

/* Ícone SVG do Header - Gráfico de Barras Animado */
.reports-icon {
    width: 64px;
    height: 64px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 
        0 8px 24px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.3);
    animation: iconPulse 3s ease-in-out infinite;
}

@keyframes iconPulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

/* SVG - Gráfico de Barras */
.reports-icon::before {
    content: '';
    width: 36px;
    height: 36px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='20' x2='12' y2='10'/%3E%3Cline x1='18' y1='20' x2='18' y2='4'/%3E%3Cline x1='6' y1='20' x2='6' y2='16'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    animation: barsGrow 2s ease-in-out infinite;
}

@keyframes barsGrow {
    0%, 100% {
        transform: scaleY(1);
    }
    50% {
        transform: scaleY(1.2);
    }
}

.reports-title-section h2 {
    color: white;
    font-size: 32px;
    font-weight: 800;
    margin: 0 0 8px 0;
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
    animation: titleSlide 0.6s ease-out 0.2s backwards;
}

@keyframes titleSlide {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.reports-title-section p {
    color: rgba(255, 255, 255, 0.95);
    font-size: 15px;
    margin: 0;
    font-weight: 500;
    animation: titleSlide 0.6s ease-out 0.3s backwards;
}

/* Botão Exportar Premium */
.export-btn {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 255, 255, 0.3);
    color: white;
    padding: 14px 28px;
    border-radius: 14px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    overflow: hidden;
    animation: buttonSlide 0.6s ease-out 0.4s backwards;
}

@keyframes buttonSlide {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* SVG - Ícone Download */
.export-btn::before {
    content: '';
    width: 20px;
    height: 20px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'/%3E%3Cpolyline points='7 10 12 15 17 10'/%3E%3Cline x1='12' y1='15' x2='12' y2='3'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    transition: transform 0.3s;
}

.export-btn:hover::before {
    animation: downloadBounce 0.6s ease-in-out;
}

@keyframes downloadBounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(4px);
    }
}

.export-btn::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transition: left 0.6s;
}

.export-btn:hover {
    background: rgba(255, 255, 255, 0.35);
    transform: translateY(-3px);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.25);
}

.export-btn:hover::after {
    left: 100%;
}

/* === FILTROS === */
.reports-filters {
    background: white;
    padding: 28px 40px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    animation: fadeInUp 0.6s ease-out 0.2s backwards;
}

body.dark-mode .reports-filters {
    background: #1e2433;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.filters-row {
    display: flex;
    gap: 20px;
    align-items: flex-end;
    flex-wrap: wrap;
}

.filter-group {
    flex: 1;
    min-width: 200px;
    animation: scaleIn 0.4s ease-out backwards;
}

.filter-group:nth-child(1) { animation-delay: 0.3s; }
.filter-group:nth-child(2) { animation-delay: 0.4s; }
.filter-group:nth-child(3) { animation-delay: 0.5s; }
.filter-group:nth-child(4) { animation-delay: 0.6s; }

@keyframes scaleIn {
    from {
        opacity: 0;
        transform: scale(0.9);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.filter-group label {
    display: block;
    font-size: 13px;
    font-weight: 700;
    color: #475569;
    margin-bottom: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

body.dark-mode .filter-group label {
    color: #94a3b8;
}

.filter-group select,
.filter-group input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 600;
    color: #1e293b;
    background: #f8fafc;
    transition: all 0.3s;
}

body.dark-mode .filter-group select,
body.dark-mode .filter-group input {
    background: #0f1419;
    border-color: #2a3142;
    color: #f1f5f9;
}

.filter-group select:focus,
.filter-group input:focus {
    outline: none;
    border-color: #0ea5e9;
    box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.1);
    transform: translateY(-2px);
}

/* Botão Gerar Relatório */
.btn-generate {
    background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
    color: white;
    border: none;
    padding: 14px 32px;
    border-radius: 12px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 10px;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    overflow: hidden;
    box-shadow: 0 6px 20px rgba(14, 165, 233, 0.3);
}

/* SVG - Ícone Play/Gerar */
.btn-generate::before {
    content: '';
    width: 20px;
    height: 20px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='9 18 15 12 9 6'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    transition: transform 0.3s;
}

.btn-generate:hover::before {
    transform: translateX(4px);
}

.btn-generate::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.btn-generate:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 32px rgba(14, 165, 233, 0.4);
}

.btn-generate:active::after {
    width: 300px;
    height: 300px;
}

/* === CARDS DE ESTATÍSTICAS === */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    padding: 40px;
    animation: fadeIn 0.6s ease-out 0.4s backwards;
}

.stat-card {
    background: white;
    border-radius: 20px;
    padding: 28px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    border: 2px solid #e2e8f0;
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    overflow: hidden;
    animation: cardSlideUp 0.6s ease-out backwards;
}

.stat-card:nth-child(1) { animation-delay: 0.5s; }
.stat-card:nth-child(2) { animation-delay: 0.6s; }
.stat-card:nth-child(3) { animation-delay: 0.7s; }
.stat-card:nth-child(4) { animation-delay: 0.8s; }

@keyframes cardSlideUp {
    from {
        opacity: 0;
        transform: translateY(40px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

body.dark-mode .stat-card {
    background: #1e2433;
    border-color: #2a3142;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
}

/* Barra decorativa superior */
.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #0ea5e9, #06b6d4, #0ea5e9);
    background-size: 200% 100%;
    animation: gradientShift 3s ease infinite;
}

@keyframes gradientShift {
    0%, 100% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
}

.stat-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 16px 48px rgba(14, 165, 233, 0.2);
    border-color: #0ea5e9;
}

.stat-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
}

.stat-title {
    font-size: 14px;
    font-weight: 700;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

body.dark-mode .stat-title {
    color: #94a3b8;
}

/* === ÍCONES SVG PARA CADA CARD === */
.stat-icon {
    width: 48px;
    height: 48px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s;
}

.stat-card:hover .stat-icon {
    transform: scale(1.15) rotate(10deg);
}

/* Ícone - Litros Consumidos (Gota) */
.stat-icon.litros {
    background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
    box-shadow: 0 6px 20px rgba(6, 182, 212, 0.3);
}

.stat-icon.litros::before {
    content: '';
    width: 24px;
    height: 24px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z'/%3E%3C/svg%3E");
    background-size: contain;
    animation: dropBounce 2s ease-in-out infinite;
}

@keyframes dropBounce {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-4px);
    }
}

/* Ícone - Economia (Moeda) */
.stat-icon.economia {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
}

.stat-icon.economia::before {
    content: '';
    width: 24px;
    height: 24px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='1' x2='12' y2='23'/%3E%3Cpath d='M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6'/%3E%3C/svg%3E");
    background-size: contain;
    animation: coinSpin 3s linear infinite;
}

@keyframes coinSpin {
    0%, 100% {
        transform: rotateY(0deg);
    }
    50% {
        transform: rotateY(180deg);
    }
}

/* Ícone - Vazamentos (Alerta) */
.stat-icon.vazamentos {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    box-shadow: 0 6px 20px rgba(245, 158, 11, 0.3);
}

.stat-icon.vazamentos::before {
    content: '';
    width: 24px;
    height: 24px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z'/%3E%3Cline x1='12' y1='9' x2='12' y2='13'/%3E%3Cline x1='12' y1='17' x2='12.01' y2='17'/%3E%3C/svg%3E");
    background-size: contain;
    animation: alertPulse 2s ease-in-out infinite;
}

@keyframes alertPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

/* Ícone - Dispositivos (Grid) */
.stat-icon.dispositivos {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    box-shadow: 0 6px 20px rgba(139, 92, 246, 0.3);
}

.stat-icon.dispositivos::before {
    content: '';
    width: 24px;
    height: 24px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='3' width='7' height='7'/%3E%3Crect x='14' y='3' width='7' height='7'/%3E%3Crect x='14' y='14' width='7' height='7'/%3E%3Crect x='3' y='14' width='7' height='7'/%3E%3C/svg%3E");
    background-size: contain;
    animation: gridPulse 2s ease-in-out infinite;
}

@keyframes gridPulse {
    0%, 100% {
        transform: scale(1) rotate(0deg);
    }
    50% {
        transform: scale(1.1) rotate(5deg);
    }
}

.stat-value {
    font-size: 36px;
    font-weight: 900;
    color: #0f172a;
    margin: 16px 0 8px;
    background: linear-gradient(135deg, #0ea5e9, #06b6d4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: valueCount 1s ease-out;
}

@keyframes valueCount {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

body.dark-mode .stat-value {
    background: linear-gradient(135deg, #38bdf8, #22d3ee);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.stat-label {
    font-size: 13px;
    color: #64748b;
    font-weight: 600;
}

body.dark-mode .stat-label {
    color: #94a3b8;
}

/* Variação percentual */
.stat-change {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 700;
    margin-top: 12px;
}

.stat-change.positive {
    background: #dcfce7;
    color: #16a34a;
}

body.dark-mode .stat-change.positive {
    background: rgba(22, 163, 74, 0.2);
    color: #4ade80;
}

.stat-change.negative {
    background: #fee2e2;
    color: #dc2626;
}

body.dark-mode .stat-change.negative {
    background: rgba(220, 38, 38, 0.2);
    color: #f87171;
}

/* Ícone seta */
.stat-change::before {
    content: '';
    width: 14px;
    height: 14px;
    background-size: contain;
}

.stat-change.positive::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2316a34a' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='18 15 12 9 6 15'/%3E%3C/svg%3E");
    animation: arrowUp 1s ease-in-out infinite;
}

@keyframes arrowUp {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-3px);
    }
}

.stat-change.negative::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23dc2626' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    animation: arrowDown 1s ease-in-out infinite;
}

@keyframes arrowDown {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(3px);
    }
}

/* === RESPONSIVE === */
@media (max-width: 1024px) {
    .stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .reports-header,
    .reports-filters,
    .stats-grid {
        padding: 20px;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .filters-row {
        flex-direction: column;
    }
    
    .filter-group {
        width: 100%;
    }
    
    .reports-header-content {
        flex-direction: column;
        gap: 20px;
    }
}
/* ========================================
   RELATÓRIOS - DESIGN LIMPO E MODERNO
   ======================================== */

/* === CONTAINER === */
#relatorios.content-section {
    padding: 0;
    background: #fafbfc;
    min-height: 100vh;
}

body.dark-mode #relatorios.content-section {
    background: #0f1419;
}

/* === HEADER === */
.reports-header {
    background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
    padding: 40px;
    box-shadow: 0 4px 20px rgba(14, 165, 233, 0.15);
}

.reports-header-content {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.reports-title-section {
    display: flex;
    align-items: center;
    gap: 20px;
}

.reports-icon {
    width: 56px;
    height: 56px;
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.reports-icon svg {
    width: 28px;
    height: 28px;
    stroke: white;
}

.reports-title-section h2 {
    color: white;
    font-size: 28px;
    font-weight: 800;
    margin: 0 0 6px 0;
}

.reports-title-section p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 14px;
    margin: 0;
}

.export-btn {
    background: white;
    color: #0ea5e9;
    border: none;
    padding: 12px 24px;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
}

.export-btn svg {
    width: 18px;
    height: 18px;
}

.export-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

/* === CONTEÚDO === */
.reports-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px;
}

/* === FILTROS === */
.reports-filters {
    background: white;
    padding: 24px;
    border-radius: 16px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
    border: 1px solid #e5e7eb;
    margin-bottom: 32px;
}

body.dark-mode .reports-filters {
    background: #1a1f2e;
    border-color: #2a3142;
}

.filters-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    align-items: end;
}

.filter-group label {
    display: block;
    font-size: 12px;
    font-weight: 700;
    color: #64748b;
    margin-bottom: 8px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

body.dark-mode .filter-group label {
    color: #94a3b8;
}

.filter-group select,
.filter-group input {
    width: 100%;
    padding: 10px 14px;
    border: 1px solid #e5e7eb;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 600;
    color: #1f2937;
    background: white;
    transition: all 0.2s;
}

body.dark-mode .filter-group select,
body.dark-mode .filter-group input {
    background: #0f1419;
    border-color: #2a3142;
    color: #f1f5f9;
}

.filter-group select:focus,
.filter-group input:focus {
    outline: none;
    border-color: #0ea5e9;
    box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
}

.btn-generate {
    background: #0ea5e9;
    color: white;
    border: none;
    padding: 10px 24px;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
    width: 100%;
    justify-content: center;
}

.btn-generate svg {
    width: 18px;
    height: 18px;
}

.btn-generate:hover {
    background: #0284c7;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(14, 165, 233, 0.35);
}

/* === CARDS === */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
}

.stat-card {
    background: white;
    border-radius: 16px;
    padding: 24px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
    border: 1px solid #e5e7eb;
    transition: all 0.3s;
    position: relative;
    overflow: hidden;
}

body.dark-mode .stat-card {
    background: #1a1f2e;
    border-color: #2a3142;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
}

.stat-card.litros::before {
    background: linear-gradient(90deg, #06b6d4, #0891b2);
}

.stat-card.economia::before {
    background: linear-gradient(90deg, #10b981, #059669);
}

.stat-card.vazamentos::before {
    background: linear-gradient(90deg, #f59e0b, #d97706);
}

.stat-card.dispositivos::before {
    background: linear-gradient(90deg, #8b5cf6, #7c3aed);
}

.stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
}

.stat-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 16px;
}

.stat-title {
    font-size: 13px;
    font-weight: 700;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

body.dark-mode .stat-title {
    color: #94a3b8;
}

.stat-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.3s;
}

.stat-card:hover .stat-icon {
    transform: scale(1.1);
}

.stat-icon svg {
    width: 22px;
    height: 22px;
    stroke: white;
}

.stat-icon.litros {
    background: linear-gradient(135deg, #06b6d4, #0891b2);
}

.stat-icon.economia {
    background: linear-gradient(135deg, #10b981, #059669);
}

.stat-icon.vazamentos {
    background: linear-gradient(135deg, #f59e0b, #d97706);
}

.stat-icon.dispositivos {
    background: linear-gradient(135deg, #8b5cf6, #7c3aed);
}

.stat-value {
    font-size: 32px;
    font-weight: 900;
    color: #1f2937;
    margin: 12px 0 6px;
}

body.dark-mode .stat-value {
    color: #f1f5f9;
}

.stat-label {
    font-size: 13px;
    color: #64748b;
    font-weight: 600;
}

body.dark-mode .stat-label {
    color: #94a3b8;
}

.stat-change {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 700;
    margin-top: 10px;
}

.stat-change svg {
    width: 12px;
    height: 12px;
}

.stat-change.positive {
    background: #d1fae5;
    color: #059669;
}

body.dark-mode .stat-change.positive {
    background: rgba(5, 150, 105, 0.15);
    color: #34d399;
}

.stat-change.negative {
    background: #fee2e2;
    color: #dc2626;
}

body.dark-mode .stat-change.negative {
    background: rgba(220, 38, 38, 0.15);
    color: #f87171;
}

/* === RESPONSIVE === */
@media (max-width: 768px) {
    .reports-header {
        padding: 24px 20px;
    }
    
    .reports-content {
        padding: 20px;
    }
    
    .reports-header-content {
        flex-direction: column;
        align-items: flex-start;
        gap: 16px;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
    }
    
    .filters-row {
        grid-template-columns: 1fr;
    }
}
/* CARDS ESPECÍFICOS DO DASHBOARD */
.reports-card .card-value { font-size: 2.2rem; }
.weather-card .weather-details { 
  display: flex; 
  gap: 15px; 
  font-size: 0.9rem; 
  color: var(--gray-600);
  margin: 8px 0;
}
.weather-card .location-name {
  font-size: 0.8rem;
  color: var(--gray-500);
  font-weight: 500;
}
.pump-control .toggle-switch {
  width: 60px;
  height: 32px;
  background: var(--gray-200);
  border-radius: 50px;
  position: relative;
  cursor: pointer;
  transition: all 0.3s;
  margin: 12px 0;
}
.pump-control .toggle-switch.active {
  background: var(--gradient-primary);
}
.pump-control .toggle-switch::before {
  content: '';
  position: absolute;
  width: 26px;
  height: 26px;
  background: white;
  border-radius: 50%;
  top: 3px;
  left: 3px;
  transition: all 0.3s;
  box-shadow: var(--shadow-sm);
}
.pump-control .toggle-switch.active::before {
  transform: translateX(28px);
}
.status-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--error);
  display: inline-block;
  margin-right: 8px;
  animation: pulse 2s infinite;
}
.status-dot.online { background: var(--success); }
/* CARD 3 - DADOS METEOROLÓGICOS BONITO */
.weather-card {
  display: flex;
  flex-direction: column;
  gap: 14px;
  border-left: 4px solid var(--info);
}

.weather-card .card-icon {
  background: var(--gradient-info, var(--gradient-primary));
  box-shadow: var(--shadow-colored);
}

.weather-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.weather-header h3 {
  font-size: 16px;
  font-weight: 600;
  color: var(--gray-800);
}

.weather-badge {
  padding: 4px 10px;
  border-radius: var(--radius-full);
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  background: var(--info-light);
  color: var(--info-dark, var(--info));
}

body.dark-mode .weather-badge {
  background: rgba(59, 130, 246, 0.16);
}

.weather-main {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.weather-temp {
  font-size: 40px;
  font-weight: 800;
  line-height: 1;
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.weather-extra {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  color: var(--gray-600);
}

.dot-separator {
  font-size: 14px;
  opacity: 0.7;
}

.weather-footer {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid var(--gray-100);
  display: flex;
  flex-direction: column;
  gap: 2px;
}

body.dark-mode .weather-footer {
  border-top-color: var(--gray-300);
}

.weather-location-label {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  color: var(--gray-500);
}

